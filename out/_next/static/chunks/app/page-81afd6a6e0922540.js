(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[931],{7754:function(e,a,s){Promise.resolve().then(s.bind(s,6743))},6743:function(e,a,s){"use strict";s.r(a),s.d(a,{default:function(){return w}});var t=s(7437),l=s(2265),r=s(9172);let i={register:e=>{let{fullName:a,email:s,password:t,confirmPassword:l,role:r="coach"}=e;if(t!==l)throw Error("Passwords do not match");let i=JSON.parse(localStorage.getItem("users")||"[]"),n=i.find(e=>e.email===s);if(n&&n.password)throw Error("User already exists");if(n&&n.needsPasswordSetup)return n.password=t,n.needsPasswordSetup=!1,a&&(n.fullName=a),localStorage.setItem("users",JSON.stringify(i)),{success:!0,message:"Account setup successful"};let o={id:Date.now(),fullName:a,email:s,password:t,role:r,createdAt:new Date().toISOString()};return i.push(o),localStorage.setItem("users",JSON.stringify(i)),{success:!0,message:"Registration successful"}},login:e=>{let a;let{email:s,password:t}=e,l=JSON.parse(localStorage.getItem("users")||"[]").find(e=>e.email===s);if(!l)throw Error("Invalid email or password");if(l.needsPasswordSetup)throw Error("Account needs setup. Please register to set your password.");if(l.password!==t)throw Error("Invalid email or password");if(l.suspended)throw Error("Account suspended. Contact administrator.");if("coach"===l.role){let e=JSON.parse(localStorage.getItem("teams")||"[]").find(e=>e.teamEmail===l.email||e.coachEmail===l.email);e&&(l.teamName=e.teamName,l.teamData=e)}return localStorage.setItem("currentUser",JSON.stringify(l)),a="admin"===l.role?"/admin-dashboard":"/team-dashboard",{success:!0,user:l,redirectTo:a}},logout:()=>(localStorage.removeItem("currentUser"),{success:!0}),getCurrentUser:()=>JSON.parse(localStorage.getItem("currentUser")||"null"),isAuthenticated:()=>!!localStorage.getItem("currentUser"),hasRegisteredTeam:()=>{let e=JSON.parse(localStorage.getItem("currentUser")||"null");return!!e&&"admin"!==e.role&&JSON.parse(localStorage.getItem("teams")||"[]").some(a=>a.coachEmail===e.email||a.teamEmail===e.email)},resetPassword:e=>{let a=JSON.parse(localStorage.getItem("users")||"[]"),s=a.findIndex(a=>a.email===e);if(-1===s)throw Error("Email not found");return a[s].password="newpass123",a[s].needsPasswordSetup=!1,localStorage.setItem("users",JSON.stringify(a)),{success:!0,message:"Password reset successful"}}};class n{static async get(e){let a=await fetch("/api/data?type=".concat(e));if(!a.ok)throw Error("Failed to fetch");return a.json()}static async set(e,a){if(!(await fetch("/api/data",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({type:e,data:a})})).ok)throw Error("Failed to save")}static async getTeams(){return this.get("teams")}static async setTeams(e){return this.set("teams",e)}static async getFixtures(){return this.get("fixtures")}static async setFixtures(e){return this.set("fixtures",e)}static async getNews(){return this.get("news")}static async setNews(e){return this.set("news",e)}static async getDefaultRound(){return(await this.get("defaultRound")).value}static async setDefaultRound(e){return this.set("defaultRound",e)}}var o=function(e){var a;let{onNavigate:s}=e,[r,i]=(0,l.useState)(""),[o,c]=(0,l.useState)(!1),d="Where Legends Are Groomed",m=(0,l.useRef)(0),[h,u]=(0,l.useState)(!1),[x,g]=(0,l.useState)([]),[j,p]=(0,l.useState)(0),[N,v]=(0,l.useState)(!0),[f,y]=(0,l.useState)(0),[S,w]=(0,l.useState)(0),[b,C]=(0,l.useState)("1"),[T,O]=(0,l.useState)([]),[I,D]=(0,l.useState)([]),[E,k]=(0,l.useState)({topScorer:null,topAssist:null,cleanSheet:null}),[A,F]=(0,l.useState)(null);return(0,l.useEffect)(()=>{let e=()=>{m.current<d.length?(i(d.substring(0,m.current+1)),m.current++,setTimeout(e,100)):(c(!0),setTimeout(()=>{u(!0),setTimeout(()=>{i(""),c(!1),u(!1),m.current=0,setTimeout(e,500)},1e3)},2e3))},a=setTimeout(()=>{e()},500);return()=>clearTimeout(a)},[d]),(0,l.useEffect)(()=>{(async()=>{try{let e=await n.getDefaultRound(),a=await n.getFixtures(),s=await n.getTeams(),t=await n.getNews();C(e),O(s);let l=a.filter(a=>a.round===parseInt(e)).sort((e,a)=>{let s=void 0!==e.homeScore&&void 0!==e.awayScore,t=void 0!==a.homeScore&&void 0!==a.awayScore;return s&&!t?-1:!s&&t?1:0});if(g(l),t.length>0?D(t.slice(-5).reverse()):D([{image:"/u-13.png",date:"Jan 25, 2024",title:"Championship Finals Approaching",content:"The highly anticipated championship finals are set for this weekend.",story:"championship-finals"}]),s.length>0){let e={};s.forEach(a=>{e[a.teamName]={teamName:a.teamName,points:0,goalsFor:0,goalsAgainst:0}}),a.forEach(a=>{if(void 0!==a.homeScore&&void 0!==a.awayScore&&!a.cancelled){let s=a.homeTeam,t=a.awayTeam,l=a.homeScore,r=a.awayScore;e[s]&&e[t]&&(e[s].goalsFor+=l,e[s].goalsAgainst+=r,e[t].goalsFor+=r,e[t].goalsAgainst+=l,l>r?e[s].points+=3:l<r?e[t].points+=3:(e[s].points+=1,e[t].points+=1))}});let t=Object.values(e).sort((e,a)=>a.points-e.points||a.goalsFor-a.goalsAgainst-(e.goalsFor-e.goalsAgainst))[0];F(t);let l={},r={},i={};a.forEach(e=>{var a,s;null===(a=e.homeGoals)||void 0===a||a.forEach(e=>{e.scorer&&(l[e.scorer]=(l[e.scorer]||0)+1),e.assist&&(r[e.assist]=(r[e.assist]||0)+1)}),null===(s=e.awayGoals)||void 0===s||s.forEach(e=>{e.scorer&&(l[e.scorer]=(l[e.scorer]||0)+1),e.assist&&(r[e.assist]=(r[e.assist]||0)+1)}),e.homeCleanSheet&&(i[e.homeCleanSheet]=(i[e.homeCleanSheet]||0)+1),e.awayCleanSheet&&(i[e.awayCleanSheet]=(i[e.awayCleanSheet]||0)+1)});let n=Object.entries(l).sort((e,a)=>{let[,s]=e,[,t]=a;return t-s})[0],o=Object.entries(r).sort((e,a)=>{let[,s]=e,[,t]=a;return t-s})[0],c=Object.entries(i).sort((e,a)=>{let[,s]=e,[,t]=a;return t-s})[0];k({topScorer:n?{name:n[0],goals:n[1]}:null,topAssist:o?{name:o[0],assists:o[1]}:null,cleanSheet:c?{name:c[0],cleanSheets:c[1]}:null})}}catch(e){console.error("Failed to load data:",e)}})()},[]),(0,l.useEffect)(()=>{if(x.length>0){let e=setInterval(()=>{p(e=>e>=x.length?(v(!1),setTimeout(()=>{p(0),v(!0)},50),e):e+1)},5e3);return()=>clearInterval(e)}},[x]),(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)("section",{className:"hero-section",children:(0,t.jsxs)("div",{className:"hero-content",children:[(0,t.jsx)("h1",{className:"hero-title",children:"VenSport U-13 League"}),(0,t.jsx)("p",{className:"hero-subtitle",children:"The premier youth football league for under-13 players"}),(0,t.jsxs)("div",{className:"legend-animation",children:[(0,t.jsx)("h1",{className:"main-text ".concat(h?"fade-out":""),children:r}),o&&(0,t.jsx)("p",{className:"subtitle",children:"Excellence Through Dedication and Discipline"})]})]})}),(0,t.jsxs)("section",{className:"section",children:[(0,t.jsxs)("div",{className:"home-highlights",children:[(0,t.jsxs)("div",{className:"combined-content",children:[(0,t.jsxs)("div",{className:"highlight-card",children:[(0,t.jsxs)("h3",{children:["Round ",b," Matches"]}),(0,t.jsx)("div",{className:"slider-container",children:(0,t.jsx)("div",{className:"slider",children:(0,t.jsx)("div",{className:"slider-track",style:{transform:"translateX(-".concat(100*j,"%)"),transition:N?"transform 0.5s ease-in-out":"none"},children:x.length>0?x.map((e,a)=>(0,t.jsx)("div",{className:"slide",children:(0,t.jsxs)("div",{className:"match-card",children:[(0,t.jsx)("div",{className:"match-date",children:e.date}),(0,t.jsx)("div",{className:"match-location",children:e.venue||"TBD"}),(0,t.jsxs)("div",{className:"teams-container",children:[(0,t.jsx)("div",{className:"team home-team",children:(0,t.jsx)("div",{className:"team-name",children:e.homeTeam})}),(0,t.jsx)("div",{className:"score",children:void 0!==e.homeScore?(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)("span",{className:"score-value",children:e.homeScore}),(0,t.jsx)("span",{className:"score-separator",children:":"}),(0,t.jsx)("span",{className:"score-value",children:e.awayScore}),(0,t.jsx)("div",{className:"match-status",children:"FT"})]}):(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)("span",{className:"score-value",children:"vs"}),(0,t.jsx)("div",{className:"match-status",children:e.time})]})}),(0,t.jsx)("div",{className:"team away-team",children:(0,t.jsx)("div",{className:"team-name",children:e.awayTeam})})]})]})},a)):(0,t.jsx)("div",{className:"slide",children:(0,t.jsx)("div",{className:"match-card",children:(0,t.jsx)("span",{children:"No matches available"})})})})})})]}),(0,t.jsxs)("div",{className:"highlight-card",children:[(0,t.jsx)("h3",{children:"League Leaders"}),(0,t.jsxs)("div",{className:"leaders-section",children:[(0,t.jsxs)("div",{className:"leader-item",children:[(0,t.jsx)("span",{className:"leader-position",children:"League Leader:"}),(0,t.jsx)("span",{className:"leader-points",children:A?"".concat(A.teamName," (").concat(A.points," pts)"):"N/A"})]}),(0,t.jsxs)("div",{className:"leader-item",children:[(0,t.jsx)("span",{className:"leader-position",children:"Goal Scorer:"}),(0,t.jsx)("span",{className:"leader-points",children:E.topScorer?"".concat(E.topScorer.name," (").concat(E.topScorer.goals,")"):"N/A"})]}),(0,t.jsxs)("div",{className:"leader-item",children:[(0,t.jsx)("span",{className:"leader-position",children:"Top Assist:"}),(0,t.jsx)("span",{className:"leader-points",children:E.topAssist?"".concat(E.topAssist.name," (").concat(E.topAssist.assists,")"):"N/A"})]}),(0,t.jsxs)("div",{className:"leader-item",children:[(0,t.jsx)("span",{className:"leader-position",children:"Clean Sheets:"}),(0,t.jsx)("span",{className:"leader-points",children:E.cleanSheet?"".concat(E.cleanSheet.name," (").concat(E.cleanSheet.cleanSheets,")"):"N/A"})]})]})]})]}),(0,t.jsxs)("div",{className:"highlight-card",children:[(0,t.jsx)("h3",{children:"Latest News & Updates"}),(0,t.jsxs)("div",{className:"news-slider-container",children:[I[f]&&(0,t.jsxs)("div",{className:"news-card",onClick:()=>s&&s("story",I[f].story),children:[(0,t.jsx)("div",{className:"news-image-full",children:(0,t.jsx)("img",{src:I[f].image,alt:I[f].title,className:"news-img-full"})}),(0,t.jsxs)("div",{className:"news-text",children:[(0,t.jsx)("div",{className:"news-date",children:I[f].date}),(0,t.jsx)("h4",{children:I[f].title}),(0,t.jsxs)("p",{children:[null===(a=I[f].content)||void 0===a?void 0:a.substring(0,100),"..."]})]})]}),(0,t.jsxs)("div",{className:"news-nav",children:[(0,t.jsx)("button",{className:"news-nav-btn prev",onClick:e=>{e.stopPropagation(),y(e=>0===e?I.length-1:e-1)},children:"‹"}),(0,t.jsx)("button",{className:"news-nav-btn next",onClick:e=>{e.stopPropagation(),y(e=>(e+1)%I.length)},children:"›"})]})]})]})]}),(0,t.jsxs)("div",{className:"teams-section",children:[(0,t.jsx)("h4",{children:"Teams"}),(0,t.jsx)("div",{className:"teams-slider-container",children:(0,t.jsx)("div",{className:"teams-grid",children:T.slice(4*S,(S+1)*4).map((e,a)=>(0,t.jsxs)("div",{className:"team-item",children:[(0,t.jsx)("img",{src:e.teamLogo||"/u-13.png",alt:e.teamName,className:"team-logo-circle"}),(0,t.jsx)("span",{className:"team-name-below",children:e.teamName})]},a))})}),Math.ceil(T.length/4)>1&&(0,t.jsxs)("div",{className:"teams-nav",children:[(0,t.jsx)("button",{className:"teams-nav-btn prev",onClick:()=>w(e=>0===e?Math.ceil(T.length/4)-1:e-1),children:"‹"}),(0,t.jsx)("button",{className:"teams-nav-btn next",onClick:()=>w(e=>(e+1)%Math.ceil(T.length/4)),children:"›"})]})]})]})]})},c=function(){let[e,a]=(0,l.useState)([]),[s,i]=(0,l.useState)(null),[n,o]=(0,l.useState)(null),[c,d]=(0,l.useState)([]),[m,h]=(0,l.useState)([]);(0,l.useEffect)(()=>{a(JSON.parse(localStorage.getItem("teams")||"[]"))},[]);let u=e=>{i(e),x(e),g(e)},x=e=>{let a=JSON.parse(localStorage.getItem("fixtures")||"[]").filter(a=>(a.homeTeam===e.teamName||a.awayTeam===e.teamName)&&void 0!==a.homeScore),s={played:0,won:0,drawn:0,lost:0,goalsFor:0,goalsAgainst:0};a.forEach(a=>{s.played++,a.homeTeam===e.teamName?(s.goalsFor+=a.homeScore,s.goalsAgainst+=a.awayScore,a.homeScore>a.awayScore?s.won++:a.homeScore<a.awayScore?s.lost++:s.drawn++):(s.goalsFor+=a.awayScore,s.goalsAgainst+=a.homeScore,a.awayScore>a.homeScore?s.won++:a.awayScore<a.homeScore?s.lost++:s.drawn++)}),s.points=3*s.won+s.drawn,s.goalDifference=s.goalsFor-s.goalsAgainst,o(s)},g=e=>{let a=JSON.parse(localStorage.getItem("fixtures")||"[]").filter(a=>a.homeTeam===e.teamName||a.awayTeam===e.teamName),s=a.filter(e=>void 0!==e.homeScore).sort((e,a)=>new Date(a.date)-new Date(e.date)).slice(0,5),t=a.filter(e=>void 0===e.homeScore).sort((e,a)=>new Date(e.date)-new Date(a.date)).slice(0,5);d(s),h(t)},j=e=>{if(!e)return"N/A";let a=new Date,s=new Date(e),t=a.getFullYear()-s.getFullYear(),l=a.getMonth()-s.getMonth();return(l<0||0===l&&a.getDate()<s.getDate())&&t--,t};if(s){var p;let e=(null===(p=s.players)||void 0===p?void 0:p.filter(e=>{var a;return null===(a=e.fullName)||void 0===a?void 0:a.trim()}))||[];return(0,t.jsxs)("section",{className:"section",children:[(0,t.jsxs)("div",{className:"team-detail-header",children:[(0,t.jsxs)("button",{className:"back-btn",onClick:()=>i(null),children:[(0,t.jsx)(r.x_l,{})," Back to Clubs"]}),(0,t.jsx)("h2",{children:s.teamName})]}),(0,t.jsxs)("div",{className:"team-detail-content",children:[(0,t.jsxs)("div",{className:"team-info-section",children:[(0,t.jsx)("div",{className:"team-logo-placeholder",children:(0,t.jsx)("img",{src:s.teamLogo||"/u-13.png",alt:"Team Logo",className:"team-logo"})}),(0,t.jsxs)("div",{className:"team-details",children:[(0,t.jsxs)("p",{children:[(0,t.jsx)("strong",{children:"Coach:"})," ",s.teamCoach]}),(0,t.jsxs)("p",{children:[(0,t.jsx)("strong",{children:"Email:"})," ",s.teamEmail]}),(0,t.jsxs)("p",{children:[(0,t.jsx)("strong",{children:"Phone:"})," ",s.coachNumber]})]})]}),n&&(0,t.jsxs)("div",{className:"team-stats-card",children:[(0,t.jsx)("h3",{children:"Team Statistics"}),(0,t.jsxs)("div",{className:"stats-grid",children:[(0,t.jsxs)("div",{className:"stat-item",children:[(0,t.jsx)("span",{children:"Played:"})," ",(0,t.jsx)("strong",{children:n.played})]}),(0,t.jsxs)("div",{className:"stat-item",children:[(0,t.jsx)("span",{children:"Won:"})," ",(0,t.jsx)("strong",{children:n.won})]}),(0,t.jsxs)("div",{className:"stat-item",children:[(0,t.jsx)("span",{children:"Drawn:"})," ",(0,t.jsx)("strong",{children:n.drawn})]}),(0,t.jsxs)("div",{className:"stat-item",children:[(0,t.jsx)("span",{children:"Lost:"})," ",(0,t.jsx)("strong",{children:n.lost})]}),(0,t.jsxs)("div",{className:"stat-item",children:[(0,t.jsx)("span",{children:"Goals For:"})," ",(0,t.jsx)("strong",{children:n.goalsFor})]}),(0,t.jsxs)("div",{className:"stat-item",children:[(0,t.jsx)("span",{children:"Goals Against:"})," ",(0,t.jsx)("strong",{children:n.goalsAgainst})]}),(0,t.jsxs)("div",{className:"stat-item",children:[(0,t.jsx)("span",{children:"Goal Difference:"})," ",(0,t.jsx)("strong",{children:n.goalDifference})]}),(0,t.jsxs)("div",{className:"stat-item",children:[(0,t.jsx)("span",{children:"Points:"})," ",(0,t.jsx)("strong",{children:n.points})]})]})]}),(0,t.jsxs)("div",{className:"roster-section",children:[(0,t.jsx)("h3",{children:"Team Roster"}),(0,t.jsx)("div",{className:"roster-table",children:(0,t.jsxs)("table",{children:[(0,t.jsx)("thead",{children:(0,t.jsxs)("tr",{children:[(0,t.jsx)("th",{children:"Name"}),(0,t.jsx)("th",{children:"Age"}),(0,t.jsx)("th",{children:"No."}),(0,t.jsx)("th",{children:"Position"}),(0,t.jsx)("th",{children:"Goals"}),(0,t.jsx)("th",{children:"Assists"}),(0,t.jsx)("th",{children:"Clean Sheets"})]})}),(0,t.jsx)("tbody",{children:e.map((e,a)=>{var s,l,r;return(0,t.jsxs)("tr",{children:[(0,t.jsx)("td",{children:e.fullName}),(0,t.jsx)("td",{children:j(e.dateOfBirth)}),(0,t.jsx)("td",{children:e.playerNumber}),(0,t.jsx)("td",{children:e.position}),(0,t.jsx)("td",{children:(null===(s=e.stats)||void 0===s?void 0:s.goals)||0}),(0,t.jsx)("td",{children:(null===(l=e.stats)||void 0===l?void 0:l.assists)||0}),(0,t.jsx)("td",{children:(null===(r=e.stats)||void 0===r?void 0:r.cleanSheets)||0})]},a)})})]})})]}),(0,t.jsxs)("div",{className:"matches-section",children:[(0,t.jsxs)("div",{className:"recent-matches",children:[(0,t.jsx)("h3",{children:"Last 5 Games"}),c.length>0?c.map((e,a)=>(0,t.jsxs)("div",{className:"match-item",children:[(0,t.jsxs)("span",{className:"match-teams",children:[e.homeTeam," ",e.homeScore," - ",e.awayScore," ",e.awayTeam]}),(0,t.jsx)("span",{className:"match-date",children:e.date})]},a)):(0,t.jsx)("p",{children:"No recent matches"})]}),(0,t.jsxs)("div",{className:"upcoming-matches",children:[(0,t.jsx)("h3",{children:"Next 5 Games"}),m.length>0?m.map((e,a)=>(0,t.jsxs)("div",{className:"match-item",children:[(0,t.jsxs)("span",{className:"match-teams",children:[e.homeTeam," vs ",e.awayTeam]}),(0,t.jsx)("span",{className:"match-date",children:e.date})]},a)):(0,t.jsx)("p",{children:"No upcoming matches"})]})]})]})]})}return(0,t.jsxs)("section",{className:"section",children:[(0,t.jsx)("h2",{children:"Clubs"}),(0,t.jsx)("p",{children:"Meet the participating clubs in our league."}),(0,t.jsx)("div",{className:"clubs-grid",children:e.map((e,a)=>(0,t.jsxs)("div",{className:"club-card ".concat(e.disqualified?"disqualified":""),onClick:()=>u(e),children:[(0,t.jsx)("div",{className:"club-logo",children:(0,t.jsx)("img",{src:e.teamLogo||"/u-13.png",alt:"".concat(e.teamName," Logo"),className:"club-logo-img"})}),(0,t.jsx)("h3",{children:e.teamName}),(0,t.jsxs)("p",{children:[(0,t.jsx)("strong",{children:"Coach:"})," ",e.teamCoach]}),(0,t.jsxs)("p",{children:[(0,t.jsx)("strong",{children:"Email:"})," ",e.teamEmail]}),(0,t.jsxs)("p",{children:[(0,t.jsx)("strong",{children:"Phone:"})," ",e.coachNumber]}),e.disqualified&&(0,t.jsx)("span",{className:"club-disqualified-badge",children:"Disqualified"})]},a))}),0===e.length&&(0,t.jsx)("p",{children:"No clubs registered yet."})]})},d=function(){let[e,a]=(0,l.useState)([]),[s,r]=(0,l.useState)("all"),[n,o]=(0,l.useState)(!1),[c,d]=(0,l.useState)("all");(0,l.useEffect)(()=>{let e=JSON.parse(localStorage.getItem("fixtures")||"[]");a(e);let s=i.getCurrentUser(),t=(null==s?void 0:s.role)==="admin";o(t);let l=localStorage.getItem("defaultRound")||"all";d(l),t?r(l):r([...new Set(e.map(e=>e.round))].sort((e,a)=>e-a)[0]||"1")},[]);let m="all"===s?e:e.filter(e=>e.round===parseInt(s)),h=[...new Set(e.map(e=>e.round))].sort((e,a)=>e-a);return(0,t.jsxs)("section",{className:"section",children:[(0,t.jsx)("h2",{children:"Fixtures & Results"}),(0,t.jsx)("div",{className:"round-filter",children:n?(0,t.jsxs)(t.Fragment,{children:[(0,t.jsxs)("select",{value:s,onChange:e=>r(e.target.value),children:[(0,t.jsx)("option",{value:"all",children:"All Rounds"}),h.map(e=>(0,t.jsxs)("option",{value:e,children:["Round ",e]},e))]}),(0,t.jsx)("button",{className:"set-default-btn",onClick:()=>{localStorage.setItem("defaultRound",s),d(s),alert("Default round updated successfully!")},title:"Set this round as default for all users",children:"Set as Default"})]}):(0,t.jsx)("select",{value:s,onChange:e=>r(e.target.value),children:h.map(e=>(0,t.jsxs)("option",{value:e,children:["Round ",e]},e))})}),n&&(0,t.jsx)("div",{className:"admin-info",children:(0,t.jsxs)("p",{children:[(0,t.jsx)("strong",{children:"Current default round:"})," ","all"===c?"All Rounds":"Round ".concat(c)]})}),0===m.length?(0,t.jsx)("p",{children:"No fixtures available yet."}):(0,t.jsx)("div",{className:"fixtures-list",children:Object.entries(m.reduce((e,a)=>{let s=a.round||"Manual";return e[s]||(e[s]=[]),e[s].push(a),e},{})).sort((e,a)=>{let[s]=e,[t]=a;return"Manual"===s?1:"Manual"===t?-1:parseInt(s)-parseInt(t)}).map(e=>{let[a,s]=e;return(0,t.jsxs)("div",{className:"round-section",children:[(0,t.jsxs)("h3",{className:"round-title",children:["Round ",a]}),(0,t.jsx)("div",{className:"round-fixtures",children:s.map((e,a)=>{var s,l,r,i;return(0,t.jsxs)("div",{className:"fixture-card",children:[(0,t.jsxs)("div",{className:"fixture-teams",children:[(0,t.jsx)("span",{className:"home-team",children:e.homeTeam}),(0,t.jsx)("span",{className:"vs",children:"vs"}),(0,t.jsx)("span",{className:"away-team",children:e.awayTeam})]}),(0,t.jsxs)("div",{className:"fixture-details",children:[(0,t.jsxs)("p",{children:[(0,t.jsx)("strong",{children:"Date:"})," ",e.date||"TBD"]}),(0,t.jsxs)("p",{children:[(0,t.jsx)("strong",{children:"Time:"})," ",e.time||"TBD"]}),(0,t.jsxs)("p",{children:[(0,t.jsx)("strong",{children:"Venue:"})," ",e.venue||"TBD"]})]}),void 0!==e.homeScore?(0,t.jsxs)("div",{className:"fixture-result",children:[(0,t.jsxs)("span",{className:"result",children:[e.homeScore," - ",e.awayScore]}),(0,t.jsx)("span",{className:"status",children:e.forfeit?"Forfeit":"Final"}),e.forfeit&&(0,t.jsx)("div",{className:"cancel-reason",children:e.cancelReason}),((null===(s=e.homeGoals)||void 0===s?void 0:s.length)>0||(null===(l=e.awayGoals)||void 0===l?void 0:l.length)>0)&&(0,t.jsxs)("div",{className:"match-details",children:[null===(r=e.homeGoals)||void 0===r?void 0:r.map((a,s)=>(0,t.jsxs)("div",{className:"goal-detail",children:[(0,t.jsxs)("strong",{children:[e.homeTeam,":"]})," ",a.scorer," ",a.time,a.assist&&(0,t.jsxs)("span",{className:"assist",children:[" (Assist: ",a.assist,")"]})]},s)),null===(i=e.awayGoals)||void 0===i?void 0:i.map((a,s)=>(0,t.jsxs)("div",{className:"goal-detail",children:[(0,t.jsxs)("strong",{children:[e.awayTeam,":"]})," ",a.scorer," ",a.time,a.assist&&(0,t.jsxs)("span",{className:"assist",children:[" (Assist: ",a.assist,")"]})]},s)),(e.homeCleanSheet||e.awayCleanSheet)&&(0,t.jsxs)("div",{className:"cleansheet-details",children:[e.homeCleanSheet&&(0,t.jsxs)("div",{className:"cleansheet",children:["\uD83E\uDD45 ",e.homeTeam,": ",e.homeCleanSheet]}),e.awayCleanSheet&&(0,t.jsxs)("div",{className:"cleansheet",children:["\uD83E\uDD45 ",e.awayTeam,": ",e.awayCleanSheet]})]})]})]}):(0,t.jsx)("div",{className:"fixture-status",children:(0,t.jsx)("span",{className:"status scheduled",children:"Scheduled"})})]},a)})})]},a)})})]})},m=function(){let[e,a]=(0,l.useState)([]),[s,r]=(0,l.useState)([]),[i,n]=(0,l.useState)([]),[o,c]=(0,l.useState)([]);return(0,l.useEffect)(()=>{let e=()=>{let e=JSON.parse(localStorage.getItem("teams")||"[]"),s=JSON.parse(localStorage.getItem("fixtures")||"[]"),t={};e.forEach(e=>{t[e.teamName]={teamName:e.teamName,teamLogo:e.teamLogo,played:0,won:0,drawn:0,lost:0,goalsFor:0,goalsAgainst:0,points:0}}),s.forEach(e=>{if(void 0!==e.homeScore&&void 0!==e.awayScore&&!e.cancelled){let a=e.homeTeam,s=e.awayTeam,l=e.homeScore,r=e.awayScore;t[a]&&t[s]&&(t[a].played++,t[s].played++,t[a].goalsFor+=l,t[a].goalsAgainst+=r,t[s].goalsFor+=r,t[s].goalsAgainst+=l,l>r?(t[a].won++,t[a].points+=3,t[s].lost++):l<r?(t[s].won++,t[s].points+=3,t[a].lost++):(t[a].drawn++,t[s].drawn++,t[a].points+=1,t[s].points+=1))}}),a(Object.values(t).map(e=>({...e,goalDifference:e.goalsFor-e.goalsAgainst})).sort((a,s)=>{let t=e.find(e=>e.teamName===a.teamName),l=e.find(e=>e.teamName===s.teamName);return(null==t?void 0:t.disqualified)&&!(null==l?void 0:l.disqualified)?1:!(null==t?void 0:t.disqualified)&&(null==l?void 0:l.disqualified)?-1:a.points!==s.points?s.points-a.points:a.goalDifference!==s.goalDifference?s.goalDifference-a.goalDifference:s.goalsFor-a.goalsFor}).map((e,a)=>({...e,position:a+1})));let l={};s.forEach(e=>{e.homeGoals&&e.homeGoals.forEach(e=>{e.scorer&&(l[e.scorer]=(l[e.scorer]||0)+1)}),e.awayGoals&&e.awayGoals.forEach(e=>{e.scorer&&(l[e.scorer]=(l[e.scorer]||0)+1)})}),r(Object.entries(l).sort((e,a)=>{let[,s]=e,[,t]=a;return t-s}).slice(0,5).map(e=>{let[a,s]=e;return{name:a,goals:s}}));let i={};s.forEach(e=>{e.homeGoals&&e.homeGoals.forEach(e=>{e.assist&&(i[e.assist]=(i[e.assist]||0)+1)}),e.awayGoals&&e.awayGoals.forEach(e=>{e.assist&&(i[e.assist]=(i[e.assist]||0)+1)})}),n(Object.entries(i).sort((e,a)=>{let[,s]=e,[,t]=a;return t-s}).slice(0,5).map(e=>{let[a,s]=e;return{name:a,assists:s}}));let o={};s.forEach(e=>{e.homeCleanSheet&&(o[e.homeCleanSheet]=(o[e.homeCleanSheet]||0)+1),e.awayCleanSheet&&(o[e.awayCleanSheet]=(o[e.awayCleanSheet]||0)+1)}),c(Object.entries(o).sort((e,a)=>{let[,s]=e,[,t]=a;return t-s}).slice(0,5).map(e=>{let[a,s]=e;return{name:a,cleanSheets:s}}))};e();let s=()=>e();return window.addEventListener("storage",s),()=>window.removeEventListener("storage",s)},[]),(0,t.jsxs)("section",{className:"section",children:[(0,t.jsx)("h2",{children:"VenSport U-13 League Table"}),(0,t.jsxs)("div",{className:"table-layout",children:[(0,t.jsx)("div",{className:"league-table-container",children:(0,t.jsxs)("table",{className:"league-table",children:[(0,t.jsx)("thead",{children:(0,t.jsxs)("tr",{children:[(0,t.jsx)("th",{children:"Pos"}),(0,t.jsx)("th",{children:"Team"}),(0,t.jsx)("th",{children:"P"}),(0,t.jsx)("th",{children:"W"}),(0,t.jsx)("th",{children:"D"}),(0,t.jsx)("th",{children:"L"}),(0,t.jsx)("th",{children:"GF"}),(0,t.jsx)("th",{children:"GA"}),(0,t.jsx)("th",{children:"GD"}),(0,t.jsx)("th",{children:"Pts"})]})}),(0,t.jsx)("tbody",{children:e.map(e=>{let a=JSON.parse(localStorage.getItem("teams")||"[]").find(a=>a.teamName===e.teamName);return(0,t.jsxs)("tr",{className:(null==a?void 0:a.disqualified)?"disqualified-row":"",children:[(0,t.jsx)("td",{children:e.position}),(0,t.jsxs)("td",{className:"team-cell",children:[(0,t.jsx)("img",{src:e.teamLogo||"/u-13.png",alt:"Team Logo",className:"table-team-logo"}),e.teamName,(null==a?void 0:a.disqualified)&&(0,t.jsx)("span",{className:"table-disqualified-badge",children:"Disqualified"})]}),(0,t.jsx)("td",{children:e.played}),(0,t.jsx)("td",{children:e.won}),(0,t.jsx)("td",{children:e.drawn}),(0,t.jsx)("td",{children:e.lost}),(0,t.jsx)("td",{children:e.goalsFor}),(0,t.jsx)("td",{children:e.goalsAgainst}),(0,t.jsx)("td",{children:e.goalDifference}),(0,t.jsx)("td",{children:(0,t.jsx)("strong",{children:e.points})})]},e.position)})})]})}),(0,t.jsxs)("div",{className:"stats-sidebar",children:[(0,t.jsxs)("div",{className:"stat-section",children:[(0,t.jsx)("h3",{children:"Top Scorers"}),s.length>0?s.map((e,a)=>(0,t.jsxs)("div",{className:"scorer-item",children:[(0,t.jsx)("span",{className:"scorer-name",children:e.name}),(0,t.jsxs)("span",{className:"scorer-goals",children:[e.goals," goals"]})]},a)):(0,t.jsxs)("div",{className:"stat-item",children:[(0,t.jsx)("span",{className:"player-name",children:"No data available"}),(0,t.jsx)("span",{className:"stat-value",children:"0 goals"})]})]}),(0,t.jsxs)("div",{className:"stat-section",children:[(0,t.jsx)("h3",{children:"Top Assists"}),i.length>0?i.map((e,a)=>(0,t.jsxs)("div",{className:"scorer-item",children:[(0,t.jsx)("span",{className:"scorer-name",children:e.name}),(0,t.jsxs)("span",{className:"scorer-goals",children:[e.assists," assists"]})]},a)):(0,t.jsxs)("div",{className:"stat-item",children:[(0,t.jsx)("span",{className:"player-name",children:"No data available"}),(0,t.jsx)("span",{className:"stat-value",children:"0 assists"})]})]}),(0,t.jsxs)("div",{className:"stat-section",children:[(0,t.jsx)("h3",{children:"Clean Sheets"}),o.length>0?o.map((e,a)=>(0,t.jsxs)("div",{className:"scorer-item",children:[(0,t.jsx)("span",{className:"scorer-name",children:e.name}),(0,t.jsxs)("span",{className:"scorer-goals",children:[e.cleanSheets," clean sheets"]})]},a)):(0,t.jsxs)("div",{className:"stat-item",children:[(0,t.jsx)("span",{className:"player-name",children:"No data available"}),(0,t.jsx)("span",{className:"stat-value",children:"0 clean sheets"})]})]})]})]})]})},h=function(){let[e,a]=(0,l.useState)("all"),s=[{id:1,src:"/u-13.png",category:"matches",title:"Championship Final",date:"2024-01-15"},{id:2,src:"/u-13.png",category:"training",title:"Training Session",date:"2024-01-10"},{id:3,src:"/u-13.png",category:"awards",title:"Player of the Month",date:"2024-01-05"},{id:4,src:"/u-13.png",category:"matches",title:"Derby Match",date:"2024-01-20"},{id:5,src:"/u-13.png",category:"training",title:"Youth Development",date:"2024-01-12"},{id:6,src:"/u-13.png",category:"awards",title:"Team of the Year",date:"2024-01-25"}],r="all"===e?s:s.filter(a=>a.category===e);return(0,t.jsxs)("section",{className:"section",children:[(0,t.jsx)("h2",{children:"Gallery"}),(0,t.jsx)("p",{children:"Photos and highlights from recent matches and events."}),(0,t.jsxs)("div",{className:"gallery-filters",children:[(0,t.jsx)("button",{className:"all"===e?"active":"",onClick:()=>a("all"),children:"All"}),(0,t.jsx)("button",{className:"matches"===e?"active":"",onClick:()=>a("matches"),children:"Matches"}),(0,t.jsx)("button",{className:"training"===e?"active":"",onClick:()=>a("training"),children:"Training"}),(0,t.jsx)("button",{className:"awards"===e?"active":"",onClick:()=>a("awards"),children:"Awards"})]}),(0,t.jsx)("div",{className:"gallery-grid",children:r.map(e=>(0,t.jsxs)("div",{className:"gallery-item",children:[(0,t.jsx)("img",{src:e.src,alt:e.title}),(0,t.jsxs)("div",{className:"gallery-overlay",children:[(0,t.jsx)("h4",{children:e.title}),(0,t.jsx)("p",{children:e.date})]})]},e.id))})]})},u=function(e){let{onNavigate:a}=e,[s,r]=(0,l.useState)([]);return(0,l.useEffect)(()=>{let e=JSON.parse(localStorage.getItem("newsStories")||"[]");0===e.length?r([{story:"demo1",title:"Championship Final Set for Next Weekend",date:"2024-01-25",content:"Two top teams will battle for the league title in an exciting finale that promises to be the match of the season.",image:"/u-13.png"},{story:"demo2",title:"New Player Registration Opens",date:"2024-01-20",content:"Registration for the upcoming season is now open for all eligible players. Don't miss your chance to join the league.",image:"/u-13.png"},{story:"demo3",title:"Coach of the Month Award",date:"2024-01-15",content:"Outstanding coaching performance recognized in monthly awards ceremony. Congratulations to all nominees.",image:"/u-13.png"}]):r(e)},[]),(0,t.jsxs)("section",{className:"section",children:[(0,t.jsx)("h2",{children:"Latest News"}),(0,t.jsx)("p",{children:"Stay updated with the latest happenings in VenSport U-13 League."}),(0,t.jsx)("div",{className:"news-page-grid",children:s.length>0?s.map(e=>{var s;return(0,t.jsxs)("article",{className:"news-page-card",onClick:()=>a&&a("story",e.story),children:[(0,t.jsx)("div",{className:"news-page-image",children:(0,t.jsx)("img",{src:e.image,alt:e.title})}),(0,t.jsxs)("div",{className:"news-page-content",children:[(0,t.jsx)("div",{className:"news-page-date",children:e.date}),(0,t.jsx)("h3",{children:e.title}),(0,t.jsxs)("p",{children:[null===(s=e.content)||void 0===s?void 0:s.substring(0,150),"..."]}),(0,t.jsx)("button",{className:"read-more-btn",children:"Read More"})]})]},e.story)}):(0,t.jsx)("div",{style:{textAlign:"center",gridColumn:"1 / -1",padding:"2rem"},children:(0,t.jsx)("p",{children:"No news articles available."})})})]})},x=function(e){let{storyId:a,onNavigate:s}=e,l=JSON.parse(localStorage.getItem("newsStories")||"[]").find(e=>e.story===a);return l?(0,t.jsx)("section",{className:"section",children:(0,t.jsxs)("div",{className:"story-container",children:[(0,t.jsx)("button",{onClick:()=>s&&s("home"),className:"back-btn",children:"← Back to Home"}),(0,t.jsxs)("article",{className:"story-article",children:[l.image&&(0,t.jsx)("div",{className:"story-image",children:(0,t.jsx)("img",{src:l.image,alt:l.title||"News story"})}),(0,t.jsxs)("div",{className:"story-content",children:[(0,t.jsx)("div",{className:"story-date",children:l.date||"Date not available"}),(0,t.jsx)("h1",{className:"story-title",children:l.title||"Untitled"}),(0,t.jsx)("div",{className:"story-text",children:(l.content||"").split("\n\n").map((e,a)=>(0,t.jsx)("p",{children:e},a))})]})]})]})}):(0,t.jsxs)("section",{className:"section",children:[(0,t.jsx)("h2",{children:"Story Not Found"}),(0,t.jsx)("button",{onClick:()=>s&&s("home"),className:"back-btn",children:"← Back to Home"})]})},g=function(){return(0,t.jsxs)("section",{className:"section",children:[(0,t.jsx)("h2",{children:"Contact Us"}),(0,t.jsx)("p",{children:"Get in touch with the VenSport U-13 League organizers."}),(0,t.jsxs)("div",{className:"contact-container",children:[(0,t.jsxs)("div",{className:"contact-info",children:[(0,t.jsx)("h3",{children:"League Office"}),(0,t.jsxs)("div",{className:"contact-item",children:[(0,t.jsx)("strong",{children:"Address:"}),(0,t.jsxs)("p",{children:["123 Sports Complex",(0,t.jsx)("br",{}),"VenSport City, VC 12345"]})]}),(0,t.jsxs)("div",{className:"contact-item",children:[(0,t.jsx)("strong",{children:"Phone:"}),(0,t.jsx)("p",{children:"+1 (555) 123-4567"})]}),(0,t.jsxs)("div",{className:"contact-item",children:[(0,t.jsx)("strong",{children:"Email:"}),(0,t.jsx)("p",{children:"info@vensport-u13.com"})]}),(0,t.jsxs)("div",{className:"contact-item",children:[(0,t.jsx)("strong",{children:"Office Hours:"}),(0,t.jsxs)("p",{children:["Monday - Friday: 9:00 AM - 5:00 PM",(0,t.jsx)("br",{}),"Saturday: 9:00 AM - 2:00 PM"]})]})]}),(0,t.jsxs)("form",{className:"contact-form",children:[(0,t.jsx)("h3",{children:"Send us a Message"}),(0,t.jsx)("input",{type:"text",placeholder:"Your Name",required:!0}),(0,t.jsx)("input",{type:"email",placeholder:"Your Email",required:!0}),(0,t.jsx)("input",{type:"text",placeholder:"Subject",required:!0}),(0,t.jsx)("textarea",{placeholder:"Your Message",rows:"5",required:!0}),(0,t.jsx)("button",{type:"submit",children:"Send Message"})]})]})]})},j=function(){return(0,t.jsxs)("section",{className:"section",children:[(0,t.jsx)("h2",{children:"About VenSport U-13 League"}),(0,t.jsxs)("div",{className:"about-content",children:[(0,t.jsxs)("div",{className:"about-section",children:[(0,t.jsx)("h3",{children:"Our Mission"}),(0,t.jsx)("p",{children:"To provide a competitive and nurturing environment for young football players to develop their skills, build character, and foster a lifelong love for the beautiful game."})]}),(0,t.jsxs)("div",{className:"about-section",children:[(0,t.jsx)("h3",{children:"League History"}),(0,t.jsx)("p",{children:"Established in 2010, VenSport U-13 League has grown from 8 teams to 20 teams, becoming the premier youth football competition in the region. We pride ourselves on fair play, skill development, and community spirit."})]}),(0,t.jsxs)("div",{className:"about-section",children:[(0,t.jsx)("h3",{children:"Our Values"}),(0,t.jsxs)("ul",{className:"values-list",children:[(0,t.jsxs)("li",{children:[(0,t.jsx)("strong",{children:"Fair Play:"})," Promoting respect and sportsmanship"]}),(0,t.jsxs)("li",{children:[(0,t.jsx)("strong",{children:"Development:"})," Focusing on player growth and learning"]}),(0,t.jsxs)("li",{children:[(0,t.jsx)("strong",{children:"Community:"})," Building lasting friendships and connections"]}),(0,t.jsxs)("li",{children:[(0,t.jsx)("strong",{children:"Excellence:"})," Striving for the highest standards"]})]})]}),(0,t.jsxs)("div",{className:"stats-section",children:[(0,t.jsx)("h3",{children:"League Statistics"}),(0,t.jsxs)("div",{className:"stats-grid",children:[(0,t.jsxs)("div",{className:"stat-item",children:[(0,t.jsx)("span",{className:"stat-number",children:"20"}),(0,t.jsx)("span",{className:"stat-label",children:"Teams"})]}),(0,t.jsxs)("div",{className:"stat-item",children:[(0,t.jsx)("span",{className:"stat-number",children:"400+"}),(0,t.jsx)("span",{className:"stat-label",children:"Players"})]}),(0,t.jsxs)("div",{className:"stat-item",children:[(0,t.jsx)("span",{className:"stat-number",children:"380"}),(0,t.jsx)("span",{className:"stat-label",children:"Matches per Season"})]}),(0,t.jsxs)("div",{className:"stat-item",children:[(0,t.jsx)("span",{className:"stat-number",children:"14"}),(0,t.jsx)("span",{className:"stat-label",children:"Years Running"})]})]})]})]})]})},p=function(){let[e,a]=(0,l.useState)(!0),[s,r]=(0,l.useState)({}),[n,o]=(0,l.useState)(""),[c,d]=(0,l.useState)(!1),m=e=>{r({...s,[e.target.name]:e.target.value})};return(0,t.jsxs)("section",{className:"section",children:[(0,t.jsxs)("div",{className:"auth-card",children:[(0,t.jsxs)("div",{className:"auth-toggle",children:[(0,t.jsx)("button",{className:e?"active":"",onClick:()=>a(!0),children:"Login"}),(0,t.jsx)("button",{className:e?"":"active",onClick:()=>a(!1),children:"Sign Up"})]}),(0,t.jsx)("h2",{children:e?"Login":"Sign Up"}),n&&(0,t.jsx)("p",{className:"auth-message",children:n}),(0,t.jsxs)("form",{className:"login-form",onSubmit:t=>{t.preventDefault(),o("");try{if(e){let e=i.login(s);o("Login successful!"),setTimeout(()=>{window.location.href=e.redirectTo},1e3)}else i.register(s),o("Registration successful!"),a(!0)}catch(e){o(e.message)}},children:[!e&&(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)("input",{type:"text",name:"fullName",placeholder:"Full Name",onChange:m,required:!0}),(0,t.jsxs)("select",{name:"role",onChange:m,required:!0,children:[(0,t.jsx)("option",{value:"",children:"Select Role"}),(0,t.jsx)("option",{value:"coach",children:"Coach"}),(0,t.jsx)("option",{value:"admin",children:"Admin"})]})]}),(0,t.jsx)("input",{type:"email",name:"email",placeholder:"Email",onChange:m,required:!0}),(0,t.jsx)("input",{type:"password",name:"password",placeholder:"Password",onChange:m,required:!0}),!e&&(0,t.jsx)("input",{type:"password",name:"confirmPassword",placeholder:"Confirm Password",onChange:m,required:!0}),(0,t.jsx)("button",{type:"submit",children:e?"Login":"Sign Up"})]}),(0,t.jsxs)("p",{className:"auth-switch",children:[e?"Don't have an account? ":"Already have an account? ",(0,t.jsx)("span",{onClick:()=>a(!e),children:e?"Sign Up":"Login"})]}),e&&(0,t.jsx)("p",{className:"auth-switch",children:(0,t.jsx)("span",{onClick:()=>d(!0),children:"Forgot Password?"})})]}),c&&(0,t.jsx)("div",{className:"forgot-password-modal",children:(0,t.jsxs)("div",{className:"modal-content",children:[(0,t.jsx)("h3",{children:"Reset Password"}),(0,t.jsx)("p",{children:"Enter your email to reset your password:"}),(0,t.jsx)("input",{type:"email",placeholder:"Email",onChange:e=>r({...s,resetEmail:e.target.value})}),(0,t.jsxs)("div",{className:"modal-actions",children:[(0,t.jsx)("button",{onClick:()=>{if(!s.resetEmail){o("Please enter your email address.");return}try{i.resetPassword(s.resetEmail),o("Password reset successful! Your new password is: newpass123"),d(!1)}catch(e){o(e.message)}},children:"Reset Password"}),(0,t.jsx)("button",{onClick:()=>d(!1),children:"Cancel"})]})]})})]})};let N=e=>{if(20!==e.length)throw Error("Fixture generation requires exactly 20 teams");let a=[],s=[...e];for(let e=0;e<19;e++){for(let t=0;t<10;t++){let l=s[t],r=s[19-t],i=Math.random()>.5;a.push({id:"R".concat(e+1,"M").concat(t+1),round:e+1,homeTeam:i?l:r,awayTeam:i?r:l,venue:(i?l:r).stadium||"".concat((i?l:r).name," Stadium"),status:"scheduled"})}s.splice(1,0,s.pop())}for(let e=0;e<19;e++)a.filter(a=>a.round===e+1).forEach((s,t)=>{a.push({id:"R".concat(e+20,"M").concat(t+1),round:e+20,homeTeam:s.awayTeam,awayTeam:s.homeTeam,venue:s.awayTeam.stadium||"".concat(s.awayTeam.name," Stadium"),status:"scheduled"})});return a};var v=function(){var e,a,s,i,n,o,c,d,m;let[h,u]=(0,l.useState)(!1),[x,g]=(0,l.useState)(!1),[j,p]=(0,l.useState)(!1),[v,f]=(0,l.useState)([]),[y,S]=(0,l.useState)([]),[w,b]=(0,l.useState)([]),[C,T]=(0,l.useState)(!0),[O,I]=(0,l.useState)(!1),[D,E]=(0,l.useState)({}),[k,A]=(0,l.useState)(!1),[F,P]=(0,l.useState)([]),[L,G]=(0,l.useState)(!1),[q,J]=(0,l.useState)({title:"",content:"",image:""}),[R,M]=(0,l.useState)(null),[U,_]=(0,l.useState)(!1),[B,V]=(0,l.useState)({teamName:"",teamCoach:"",teamEmail:"",coachNumber:""}),[Y,H]=(0,l.useState)(!1),[W,X]=(0,l.useState)([]),[z,$]=(0,l.useState)(!1),[Z,K]=(0,l.useState)({homeTeam:"",awayTeam:"",date:"",time:"",venue:""}),[Q,ee]=(0,l.useState)(null),[ea,es]=(0,l.useState)({}),[et,el]=(0,l.useState)(null),[er,ei]=(0,l.useState)({homeScore:0,awayScore:0,homeGoals:[],awayGoals:[],homeCleanSheet:"",awayCleanSheet:""}),[en,eo]=(0,l.useState)("all");return(0,l.useEffect)(()=>{let e=JSON.parse(localStorage.getItem("teams")||"[]");f(e);let a=JSON.parse(localStorage.getItem("fixtures")||"[]");X(a),(()=>{let s={};e.forEach(e=>{s[e.teamName]={teamName:e.teamName,teamLogo:e.teamLogo,played:0,won:0,drawn:0,lost:0,goalsFor:0,goalsAgainst:0,points:0}}),a.forEach(e=>{if(void 0!==e.homeScore&&void 0!==e.awayScore&&!e.cancelled){let a=e.homeTeam,t=e.awayTeam,l=e.homeScore,r=e.awayScore;s[a]&&s[t]&&(s[a].played++,s[t].played++,s[a].goalsFor+=l,s[a].goalsAgainst+=r,s[t].goalsFor+=r,s[t].goalsAgainst+=l,l>r?(s[a].won++,s[a].points+=3,s[t].lost++):l<r?(s[t].won++,s[t].points+=3,s[a].lost++):(s[a].drawn++,s[t].drawn++,s[a].points+=1,s[t].points+=1))}}),S(Object.values(s).map(e=>({...e,goalDifference:e.goalsFor-e.goalsAgainst})).sort((a,s)=>{let t=e.find(e=>e.teamName===a.teamName),l=e.find(e=>e.teamName===s.teamName);return(null==t?void 0:t.disqualified)&&!(null==l?void 0:l.disqualified)?1:!(null==t?void 0:t.disqualified)&&(null==l?void 0:l.disqualified)?-1:a.points!==s.points?s.points-a.points:a.goalDifference!==s.goalDifference?s.goalDifference-a.goalDifference:s.goalsFor-a.goalsFor}).map((e,a)=>({...e,position:a+1})))})(),b(JSON.parse(localStorage.getItem("users")||"[]").filter(e=>"coach"===e.role)),P(JSON.parse(localStorage.getItem("newsStories")||"[]"))},[]),(0,t.jsxs)("section",{className:"section",children:[(0,t.jsx)("h2",{children:"Admin Dashboard"}),(0,t.jsxs)("div",{className:"dashboard-grid",children:[(0,t.jsxs)("div",{className:"dashboard-card",onClick:()=>{u(!h),g(!1),p(!1),H(!1),$(!1),I(!1),A(!1),G(!1),M(null)},children:[(0,t.jsx)("h3",{children:"Manage Teams"}),(0,t.jsx)("p",{children:"Add, edit, or remove teams from the league"})]}),(0,t.jsxs)("div",{className:"dashboard-card",onClick:()=>{H(!Y),u(!1),g(!1),p(!1),_(!1),$(!1),I(!1),A(!1),G(!1),M(null),eo("all")},children:[(0,t.jsx)("h3",{children:"Manage Fixtures"}),(0,t.jsx)("p",{children:"Schedule matches and update results"})]}),(0,t.jsxs)("div",{className:"dashboard-card",onClick:()=>{g(!x),u(!1),p(!1),H(!1),_(!1),$(!1),I(!1),A(!1),G(!1),M(null)},children:[(0,t.jsx)("h3",{children:"League Table"}),(0,t.jsx)("p",{children:"View and manage league standings"})]}),(0,t.jsxs)("div",{className:"dashboard-card",onClick:()=>{p(!j),u(!1),g(!1),H(!1),_(!1),$(!1),I(!1),A(!1),G(!1),M(null)},children:[(0,t.jsx)("h3",{children:"User Management"}),(0,t.jsx)("p",{children:"Manage coaches and admin accounts"})]}),(0,t.jsxs)("div",{className:"dashboard-card",onClick:()=>{I(!O),p(!1),u(!1),g(!1),H(!1),_(!1),$(!1),A(!1),G(!1),M(null);let e=JSON.parse(localStorage.getItem("currentUser"));E({fullName:e.fullName,email:e.email,adminImage:e.adminImage||e.coachImage})},children:[(0,t.jsx)("h3",{children:"My Profile"}),(0,t.jsx)("p",{children:"Edit your admin profile and image"})]}),(0,t.jsxs)("div",{className:"dashboard-card",onClick:()=>{A(!k),I(!1),p(!1),u(!1),g(!1),H(!1),_(!1),$(!1),M(null),G(!1)},children:[(0,t.jsx)("h3",{children:"News Management"}),(0,t.jsx)("p",{children:"Create and manage news articles"})]})]}),h&&!R&&!U&&(0,t.jsxs)("div",{className:"teams-display",children:[(0,t.jsxs)("div",{className:"teams-header",children:[(0,t.jsx)("h3",{children:"Registered Teams"}),(0,t.jsxs)("button",{className:"add-team-btn",onClick:()=>_(!0),children:[(0,t.jsx)(r.wEH,{})," Add Team"]})]}),(0,t.jsx)("div",{className:"teams-grid",children:v.map((e,a)=>(0,t.jsxs)("div",{className:"team-info-card",children:[(0,t.jsx)("div",{className:"team-logo-placeholder",onClick:()=>M(e),children:(0,t.jsx)("img",{src:e.teamLogo||"/u-13.png",alt:"Team Logo",className:"team-logo"})}),(0,t.jsx)("h4",{onClick:()=>M(e),children:e.teamName}),(0,t.jsxs)("p",{children:[(0,t.jsx)("strong",{children:"Coach:"})," ",e.teamCoach]}),(0,t.jsx)("div",{className:"team-actions",children:(0,t.jsxs)("button",{className:"disqualify-btn ".concat(e.disqualified?"reactivate":"disqualify"),onClick:()=>(function(e){let a=[...v],s=a[e].teamName,t=!a[e].disqualified;a[e].disqualified=t,localStorage.setItem("teams",JSON.stringify(a)),f(a);let l=[...W];l.forEach(e=>{(e.homeTeam===s||e.awayTeam===s)&&(t?void 0===e.homeScore&&void 0===e.awayScore&&(e.homeTeam===s?(e.homeScore=0,e.awayScore=3):(e.homeScore=3,e.awayScore=0),e.forfeit=!0,e.cancelReason="".concat(s," disqualified - 3-0 awarded to opponent")):e.forfeit&&(delete e.homeScore,delete e.awayScore,delete e.forfeit,delete e.cancelReason))}),localStorage.setItem("fixtures",JSON.stringify(l)),X(l),ec(l)})(a),children:[(0,t.jsx)(r.YS4,{})," ",e.disqualified?"Reactivate":"Disqualify"]})}),e.disqualified&&(0,t.jsx)("span",{className:"disqualified-badge",children:"Disqualified"})]},a))})]}),U&&(0,t.jsxs)("div",{className:"add-team-form",children:[(0,t.jsx)("h3",{children:"Add New Team"}),(0,t.jsxs)("form",{onSubmit:function(e){e.preventDefault();let a=JSON.parse(localStorage.getItem("teams")||"[]"),s={...B,players:[],disqualified:!1,createdAt:new Date().toISOString()};a.push(s),localStorage.setItem("teams",JSON.stringify(a));let t=JSON.parse(localStorage.getItem("users")||"[]");if(!t.find(e=>e.email===B.teamEmail)){let e={id:Date.now().toString(),fullName:B.teamCoach,email:B.teamEmail,password:null,role:"coach",teamName:B.teamName,suspended:!1,needsPasswordSetup:!0,createdAt:new Date().toISOString()};t.push(e),localStorage.setItem("users",JSON.stringify(t))}f(a),_(!1),V({teamName:"",teamCoach:"",teamEmail:"",coachNumber:""})},children:[(0,t.jsx)("input",{type:"text",placeholder:"Team Name",value:B.teamName,onChange:e=>V({...B,teamName:e.target.value}),required:!0}),(0,t.jsx)("input",{type:"text",placeholder:"Coach Name",value:B.teamCoach,onChange:e=>V({...B,teamCoach:e.target.value}),required:!0}),(0,t.jsx)("input",{type:"email",placeholder:"Coach Email",value:B.teamEmail,onChange:e=>V({...B,teamEmail:e.target.value}),required:!0}),(0,t.jsx)("input",{type:"tel",placeholder:"Coach Phone",value:B.coachNumber,onChange:e=>V({...B,coachNumber:e.target.value}),required:!0}),(0,t.jsxs)("div",{className:"form-actions",children:[(0,t.jsx)("button",{type:"submit",children:"Add Team"}),(0,t.jsx)("button",{type:"button",onClick:()=>{_(!1),V({teamName:"",teamCoach:"",teamEmail:"",coachNumber:""})},children:"Cancel"})]})]})]}),R&&(0,t.jsxs)("div",{className:"team-roster-display",children:[(0,t.jsxs)("div",{className:"roster-header",children:[(0,t.jsxs)("h3",{children:[R.teamName," Roster"]}),(0,t.jsx)("button",{onClick:()=>M(null),children:"Close"})]}),(0,t.jsxs)("div",{className:"team-info-section",children:[(0,t.jsx)("div",{className:"team-logo-placeholder",children:(0,t.jsx)("img",{src:R.teamLogo||"/u-13.png",alt:"Team Logo",className:"team-logo"})}),(0,t.jsxs)("div",{className:"team-details",children:[(0,t.jsxs)("p",{children:[(0,t.jsx)("strong",{children:"Team Name:"})," ",R.teamName]}),(0,t.jsxs)("p",{children:[(0,t.jsx)("strong",{children:"Coach:"})," ",R.teamCoach]}),(0,t.jsxs)("p",{children:[(0,t.jsx)("strong",{children:"Email:"})," ",R.teamEmail]}),(0,t.jsxs)("p",{children:[(0,t.jsx)("strong",{children:"Phone:"})," ",R.coachNumber]})]})]}),(0,t.jsx)("div",{className:"players-grid",children:(null===(e=R.players)||void 0===e?void 0:e.filter(e=>e.fullName.trim()).map((e,a)=>(0,t.jsxs)("div",{className:"player-info-card",children:[(0,t.jsx)("div",{className:"player-image-placeholder",children:e.playerImage?(0,t.jsx)("img",{src:e.playerImage,alt:"Player",className:"player-image"}):(0,t.jsx)(r.Xws,{})}),(0,t.jsxs)("p",{children:[(0,t.jsx)("strong",{children:"Name:"})," ",e.fullName]}),(0,t.jsxs)("p",{children:[(0,t.jsx)("strong",{children:"DOB:"})," ",e.dateOfBirth]}),(0,t.jsxs)("p",{children:[(0,t.jsx)("strong",{children:"Position:"})," ",e.position]}),(0,t.jsxs)("p",{children:[(0,t.jsx)("strong",{children:"Number:"})," ",e.playerNumber]}),(0,t.jsxs)("p",{children:[(0,t.jsx)("strong",{children:"Guardian:"})," ",e.guardianName]}),(0,t.jsxs)("p",{children:[(0,t.jsx)("strong",{children:"Guardian Phone:"})," ",e.guardianNumber]})]},a)))||(0,t.jsx)("p",{children:"No players registered yet."})})]}),Y&&!z&&null===Q&&null===et&&(0,t.jsxs)("div",{className:"fixtures-display",children:[(0,t.jsxs)("div",{className:"fixtures-header",children:[(0,t.jsx)("h3",{children:"Fixtures Management"}),(0,t.jsxs)("div",{className:"fixtures-controls",children:[(0,t.jsxs)("div",{className:"round-selector",children:[(0,t.jsx)("label",{children:"Filter by Round:"}),(0,t.jsxs)("select",{value:en,onChange:e=>eo(e.target.value),className:"round-select",children:[(0,t.jsx)("option",{value:"all",children:"All Rounds"}),Object.keys(W.reduce((e,a)=>(e[a.round||"Manual"]=!0,e),{})).sort((e,a)=>"Manual"===e?1:"Manual"===a?-1:parseInt(e)-parseInt(a)).map(e=>(0,t.jsxs)("option",{value:e,children:["Round ",e]},e))]})]}),(0,t.jsxs)("div",{className:"fixtures-actions",children:[(0,t.jsx)("button",{className:"auto-generate-btn",onClick:function(){let e=v.filter(e=>!e.disqualified);if(20!==e.length){alert("Need exactly 20 active teams for fixture generation.");return}if(JSON.parse(localStorage.getItem("fixtures")||"[]").length>0){alert("Fixtures already generated! Use Reset All to regenerate.");return}try{let a=e.map(e=>({id:e.teamName,name:e.teamName,stadium:e.stadium||"".concat(e.teamName," Stadium")})),s=N(a),t=new Date;t.setDate(t.getDate()+7);let l=s.map((e,a)=>{let s=new Date(t);return s.setDate(s.getDate()+7*Math.floor(a/10)),{...e,homeTeam:e.homeTeam.name,awayTeam:e.awayTeam.name,date:s.toISOString().split("T")[0],time:"15:00"}});localStorage.setItem("fixtures",JSON.stringify(l)),X(l),alert("Generated complete 38-round fixture list!")}catch(e){alert("Error generating fixtures: "+e.message)}},children:W.length>0?"Fixtures Generated":"Generate All Fixtures"}),(0,t.jsx)("button",{className:"reset-fixtures-btn",onClick:function(){window.confirm("Are you sure you want to reset all fixtures? This action cannot be undone.")&&(localStorage.setItem("fixtures",JSON.stringify([])),X([]),alert("All fixtures have been reset!"))},children:"Reset All"}),(0,t.jsxs)("button",{className:"schedule-btn",onClick:()=>$(!0),children:[(0,t.jsx)(r.wEH,{})," Schedule Fixture"]})]})]})]}),(0,t.jsx)("div",{className:"fixtures-list",children:Object.entries(W.reduce((e,a,s)=>{let t=a.round||"Manual";return e[t]||(e[t]=[]),e[t].push({...a,index:s}),e},{})).filter(e=>{let[a]=e;return"all"===en||a===en}).sort((e,a)=>{let[s]=e,[t]=a;return"Manual"===s?1:"Manual"===t?-1:parseInt(s)-parseInt(t)}).map(e=>{let[a,s]=e;return(0,t.jsxs)("div",{className:"round-section",children:[(0,t.jsxs)("h4",{className:"round-title",children:["Round ",a]}),(0,t.jsx)("div",{className:"round-fixtures",children:s.map(e=>(0,t.jsxs)("div",{className:"fixture-card",children:[(0,t.jsxs)("div",{className:"fixture-teams",children:[(0,t.jsx)("span",{className:"home-team",children:e.homeTeam}),(0,t.jsx)("span",{className:"vs",children:"vs"}),(0,t.jsx)("span",{className:"away-team",children:e.awayTeam})]}),(0,t.jsxs)("div",{className:"fixture-details",children:[(0,t.jsxs)("p",{children:[(0,t.jsx)("strong",{children:"Date:"})," ",e.date]}),(0,t.jsxs)("p",{children:[(0,t.jsx)("strong",{children:"Time:"})," ",e.time]}),(0,t.jsxs)("p",{children:[(0,t.jsx)("strong",{children:"Venue:"})," ",e.venue]})]}),void 0!==e.homeScore?(0,t.jsxs)("div",{className:"fixture-result",children:[(0,t.jsxs)("span",{className:"result",children:[e.homeScore," - ",e.awayScore]}),(0,t.jsx)("span",{className:"status",children:e.forfeit?"Forfeit":"Final"}),e.forfeit&&(0,t.jsx)("div",{className:"cancel-reason",children:e.cancelReason})]}):(0,t.jsxs)("div",{className:"fixture-actions",children:[(0,t.jsx)("button",{className:"update-result-btn",onClick:()=>{el(e.index),ei({homeScore:0,awayScore:0,homeGoals:[],awayGoals:[],homeCleanSheet:"",awayCleanSheet:""})},children:"Update Result"}),(0,t.jsx)("button",{className:"edit-fixture-btn",onClick:()=>(function(e){let a=W[e];ee(e),es({date:a.date,time:a.time,venue:a.venue})})(e.index),children:"Edit Fixture"})]})]},e.index))})]},a)})})]}),z&&(0,t.jsxs)("div",{className:"schedule-form",children:[(0,t.jsx)("h3",{children:"Schedule New Fixture"}),(0,t.jsxs)("form",{onSubmit:function(e){e.preventDefault();let a=JSON.parse(localStorage.getItem("fixtures")||"[]");a.push(Z),localStorage.setItem("fixtures",JSON.stringify(a)),X(a),$(!1),K({homeTeam:"",awayTeam:"",date:"",time:"",venue:""})},children:[(0,t.jsxs)("select",{value:Z.homeTeam,onChange:e=>K({...Z,homeTeam:e.target.value}),required:!0,children:[(0,t.jsx)("option",{value:"",children:"Select Home Team"}),v.filter(e=>!e.disqualified).map((e,a)=>(0,t.jsx)("option",{value:e.teamName,children:e.teamName},a))]}),(0,t.jsxs)("select",{value:Z.awayTeam,onChange:e=>K({...Z,awayTeam:e.target.value}),required:!0,children:[(0,t.jsx)("option",{value:"",children:"Select Away Team"}),v.filter(e=>!e.disqualified&&e.teamName!==Z.homeTeam).map((e,a)=>(0,t.jsx)("option",{value:e.teamName,children:e.teamName},a))]}),(0,t.jsx)("input",{type:"date",value:Z.date,onChange:e=>K({...Z,date:e.target.value}),required:!0}),(0,t.jsx)("input",{type:"time",value:Z.time,onChange:e=>K({...Z,time:e.target.value}),required:!0}),(0,t.jsx)("input",{type:"text",placeholder:"Venue",value:Z.venue,onChange:e=>K({...Z,venue:e.target.value}),required:!0}),(0,t.jsxs)("div",{className:"form-actions",children:[(0,t.jsx)("button",{type:"submit",children:"Schedule Fixture"}),(0,t.jsx)("button",{type:"button",onClick:()=>{$(!1),K({homeTeam:"",awayTeam:"",date:"",time:"",venue:""})},children:"Cancel"})]})]})]}),null!==Q&&(0,t.jsxs)("div",{className:"schedule-form",children:[(0,t.jsx)("h3",{children:"Edit Fixture"}),(0,t.jsxs)("form",{onSubmit:function(e){e.preventDefault();let a=[...W];a[Q]={...a[Q],...ea},localStorage.setItem("fixtures",JSON.stringify(a)),X(a),ee(null),es({}),alert("Fixture updated successfully!")},children:[(0,t.jsx)("input",{type:"date",value:ea.date||"",onChange:e=>es({...ea,date:e.target.value}),required:!0}),(0,t.jsx)("input",{type:"time",value:ea.time||"",onChange:e=>es({...ea,time:e.target.value}),required:!0}),(0,t.jsx)("input",{type:"text",placeholder:"Venue",value:ea.venue||"",onChange:e=>es({...ea,venue:e.target.value}),required:!0}),(0,t.jsxs)("div",{className:"form-actions",children:[(0,t.jsx)("button",{type:"submit",children:"Save Changes"}),(0,t.jsx)("button",{type:"button",onClick:()=>ee(null),children:"Cancel"})]})]})]}),null!==et&&(0,t.jsxs)("div",{className:"result-form",children:[(0,t.jsx)("h3",{children:"Update Match Result"}),(0,t.jsx)("div",{className:"match-info",children:(0,t.jsxs)("span",{children:[null===(a=W[et])||void 0===a?void 0:a.homeTeam," vs ",null===(s=W[et])||void 0===s?void 0:s.awayTeam]})}),(0,t.jsxs)("form",{onSubmit:function(e){e.preventDefault();let a=[...W];a[et]={...a[et],homeScore:er.homeScore,awayScore:er.awayScore,homeGoals:er.homeGoals.filter(e=>e.scorer),awayGoals:er.awayGoals.filter(e=>e.scorer),homeCleanSheet:er.homeCleanSheet,awayCleanSheet:er.awayCleanSheet},function(e){let a=JSON.parse(localStorage.getItem("teams")||"[]"),s=!1,t=a.findIndex(a=>a.teamName===e.homeTeam);-1!==t&&a[t].players&&(a[t].players.forEach(a=>{var s,t;a.stats||(a.stats={goals:0,assists:0,cleanSheets:0});let l=(null===(s=e.homeGoals)||void 0===s?void 0:s.filter(e=>e.scorer===a.fullName).length)||0;a.stats.goals=(a.stats.goals||0)+l;let r=(null===(t=e.homeGoals)||void 0===t?void 0:t.filter(e=>e.assist===a.fullName).length)||0;a.stats.assists=(a.stats.assists||0)+r,e.homeCleanSheet===a.fullName&&(a.stats.cleanSheets=(a.stats.cleanSheets||0)+1)}),s=!0);let l=a.findIndex(a=>a.teamName===e.awayTeam);-1!==l&&a[l].players&&(a[l].players.forEach(a=>{var s,t;a.stats||(a.stats={goals:0,assists:0,cleanSheets:0});let l=(null===(s=e.awayGoals)||void 0===s?void 0:s.filter(e=>e.scorer===a.fullName).length)||0;a.stats.goals=(a.stats.goals||0)+l;let r=(null===(t=e.awayGoals)||void 0===t?void 0:t.filter(e=>e.assist===a.fullName).length)||0;a.stats.assists=(a.stats.assists||0)+r,e.awayCleanSheet===a.fullName&&(a.stats.cleanSheets=(a.stats.cleanSheets||0)+1)}),s=!0),s&&(localStorage.setItem("teams",JSON.stringify(a)),f(a))}(a[et]),localStorage.setItem("fixtures",JSON.stringify(a)),X(a),ec(a),el(null),ei({homeScore:0,awayScore:0,homeGoals:[],awayGoals:[],homeCleanSheet:"",awayCleanSheet:""}),alert("Result updated successfully!")},children:[(0,t.jsxs)("div",{className:"scores-section",children:[(0,t.jsxs)("div",{className:"team-score",children:[(0,t.jsxs)("label",{children:[null===(i=W[et])||void 0===i?void 0:i.homeTeam," Score:"]}),(0,t.jsx)("input",{type:"number",min:"0",value:er.homeScore,onChange:e=>ei({...er,homeScore:parseInt(e.target.value)||0}),required:!0})]}),(0,t.jsxs)("div",{className:"team-score",children:[(0,t.jsxs)("label",{children:[null===(n=W[et])||void 0===n?void 0:n.awayTeam," Score:"]}),(0,t.jsx)("input",{type:"number",min:"0",value:er.awayScore,onChange:e=>ei({...er,awayScore:parseInt(e.target.value)||0}),required:!0})]})]}),(0,t.jsxs)("div",{className:"goals-section",children:[(0,t.jsxs)("h4",{children:[null===(o=W[et])||void 0===o?void 0:o.homeTeam," Goals"]}),Array.from({length:er.homeScore},(e,a)=>{var s,l,r;return(0,t.jsxs)("div",{className:"goal-input",children:[(0,t.jsx)("input",{type:"text",placeholder:"Goal scorer",value:(null===(s=er.homeGoals[a])||void 0===s?void 0:s.scorer)||"",onChange:e=>{let s=[...er.homeGoals];s[a]={...s[a],scorer:e.target.value},ei({...er,homeGoals:s})}}),(0,t.jsx)("input",{type:"text",placeholder:"Assist (optional)",value:(null===(l=er.homeGoals[a])||void 0===l?void 0:l.assist)||"",onChange:e=>{let s=[...er.homeGoals];s[a]={...s[a],assist:e.target.value},ei({...er,homeGoals:s})}}),(0,t.jsx)("input",{type:"text",placeholder:"Time (e.g. 45')",value:(null===(r=er.homeGoals[a])||void 0===r?void 0:r.time)||"",onChange:e=>{let s=[...er.homeGoals];s[a]={...s[a],time:e.target.value},ei({...er,homeGoals:s})}})]},a)}),(0,t.jsxs)("h4",{children:[null===(c=W[et])||void 0===c?void 0:c.awayTeam," Goals"]}),Array.from({length:er.awayScore},(e,a)=>{var s,l,r;return(0,t.jsxs)("div",{className:"goal-input",children:[(0,t.jsx)("input",{type:"text",placeholder:"Goal scorer",value:(null===(s=er.awayGoals[a])||void 0===s?void 0:s.scorer)||"",onChange:e=>{let s=[...er.awayGoals];s[a]={...s[a],scorer:e.target.value},ei({...er,awayGoals:s})}}),(0,t.jsx)("input",{type:"text",placeholder:"Assist (optional)",value:(null===(l=er.awayGoals[a])||void 0===l?void 0:l.assist)||"",onChange:e=>{let s=[...er.awayGoals];s[a]={...s[a],assist:e.target.value},ei({...er,awayGoals:s})}}),(0,t.jsx)("input",{type:"text",placeholder:"Time (e.g. 45')",value:(null===(r=er.awayGoals[a])||void 0===r?void 0:r.time)||"",onChange:e=>{let s=[...er.awayGoals];s[a]={...s[a],time:e.target.value},ei({...er,awayGoals:s})}})]},a)})]}),(0,t.jsxs)("div",{className:"cleansheet-section",children:[(0,t.jsx)("h4",{children:"Clean Sheets"}),(0,t.jsxs)("div",{className:"cleansheet-inputs",children:[(0,t.jsxs)("div",{className:"cleansheet-input",children:[(0,t.jsxs)("label",{children:[null===(d=W[et])||void 0===d?void 0:d.homeTeam," Goalkeeper:"]}),(0,t.jsx)("input",{type:"text",placeholder:"Goalkeeper name (if clean sheet)",value:er.homeCleanSheet,onChange:e=>ei({...er,homeCleanSheet:e.target.value})})]}),(0,t.jsxs)("div",{className:"cleansheet-input",children:[(0,t.jsxs)("label",{children:[null===(m=W[et])||void 0===m?void 0:m.awayTeam," Goalkeeper:"]}),(0,t.jsx)("input",{type:"text",placeholder:"Goalkeeper name (if clean sheet)",value:er.awayCleanSheet,onChange:e=>ei({...er,awayCleanSheet:e.target.value})})]})]})]}),(0,t.jsxs)("div",{className:"form-actions",children:[(0,t.jsx)("button",{type:"submit",children:"Save Result"}),(0,t.jsx)("button",{type:"button",onClick:()=>{el(null),ei({homeScore:0,awayScore:0,homeGoals:[],awayGoals:[],homeCleanSheet:"",awayCleanSheet:""})},children:"Cancel"})]})]})]}),x&&(()=>{let e=JSON.parse(localStorage.getItem("teams")||"[]"),a=JSON.parse(localStorage.getItem("fixtures")||"[]"),s=a.filter(e=>void 0!==e.homeScore),l=a.length,r=s.reduce((e,a)=>e+a.homeScore+a.awayScore,0),i=s.length>0?(r/s.length).toFixed(2):0;return(0,t.jsxs)("div",{className:"league-details-container",children:[(0,t.jsxs)("div",{className:"league-overview",children:[(0,t.jsx)("h3",{children:"League Overview"}),(0,t.jsxs)("div",{className:"league-stats",children:[(0,t.jsxs)("div",{className:"stat-box",children:[(0,t.jsx)("span",{className:"stat-number",children:e.length}),(0,t.jsx)("span",{className:"stat-label",children:"Total Teams"})]}),(0,t.jsxs)("div",{className:"stat-box",children:[(0,t.jsx)("span",{className:"stat-number",children:e.filter(e=>!e.disqualified).length}),(0,t.jsx)("span",{className:"stat-label",children:"Active Teams"})]}),(0,t.jsxs)("div",{className:"stat-box",children:[(0,t.jsx)("span",{className:"stat-number",children:s.length}),(0,t.jsx)("span",{className:"stat-label",children:"Matches Played"})]}),(0,t.jsxs)("div",{className:"stat-box",children:[(0,t.jsx)("span",{className:"stat-number",children:l-s.length}),(0,t.jsx)("span",{className:"stat-label",children:"Matches Remaining"})]}),(0,t.jsxs)("div",{className:"stat-box",children:[(0,t.jsx)("span",{className:"stat-number",children:r}),(0,t.jsx)("span",{className:"stat-label",children:"Total Goals"})]}),(0,t.jsxs)("div",{className:"stat-box",children:[(0,t.jsx)("span",{className:"stat-number",children:i}),(0,t.jsx)("span",{className:"stat-label",children:"Goals/Match"})]})]})]}),(0,t.jsxs)("div",{className:"league-table-container",children:[(0,t.jsx)("h3",{children:"League Table"}),(0,t.jsxs)("table",{className:"league-table",children:[(0,t.jsx)("thead",{children:(0,t.jsxs)("tr",{children:[(0,t.jsx)("th",{children:"Pos"}),(0,t.jsx)("th",{children:"Team"}),(0,t.jsx)("th",{children:"P"}),(0,t.jsx)("th",{children:"W"}),(0,t.jsx)("th",{children:"D"}),(0,t.jsx)("th",{children:"L"}),(0,t.jsx)("th",{children:"GF"}),(0,t.jsx)("th",{children:"GA"}),(0,t.jsx)("th",{children:"GD"}),(0,t.jsx)("th",{children:"Pts"})]})}),(0,t.jsx)("tbody",{children:y.map(a=>{let s=e.find(e=>e.teamName===a.teamName);return(0,t.jsxs)("tr",{className:(null==s?void 0:s.disqualified)?"disqualified-row":"",children:[(0,t.jsx)("td",{children:a.position}),(0,t.jsxs)("td",{className:"team-cell",children:[(0,t.jsx)("img",{src:a.teamLogo||"/u-13.png",alt:"Team Logo",className:"table-team-logo"}),a.teamName,(null==s?void 0:s.disqualified)&&(0,t.jsx)("span",{className:"table-disqualified-badge",children:"Disqualified"})]}),(0,t.jsx)("td",{children:a.played}),(0,t.jsx)("td",{children:a.won}),(0,t.jsx)("td",{children:a.drawn}),(0,t.jsx)("td",{children:a.lost}),(0,t.jsx)("td",{children:a.goalsFor}),(0,t.jsx)("td",{children:a.goalsAgainst}),(0,t.jsx)("td",{children:a.goalDifference}),(0,t.jsx)("td",{children:(0,t.jsx)("strong",{children:a.points})})]},a.position)})})]})]})]})})(),j&&(0,t.jsxs)("div",{className:"user-management-display",children:[(0,t.jsxs)("div",{className:"user-management-header",children:[(0,t.jsx)("h3",{children:"User Management"}),(0,t.jsxs)("div",{className:"user-toggle",children:[(0,t.jsx)("button",{className:C?"active":"",onClick:()=>{T(!0),b(JSON.parse(localStorage.getItem("users")||"[]").filter(e=>"coach"===e.role))},children:"Coaches"}),(0,t.jsx)("button",{className:C?"":"active",onClick:()=>{T(!1),b(JSON.parse(localStorage.getItem("users")||"[]").filter(e=>"admin"===e.role))},children:"Admins"})]})]}),(0,t.jsx)("div",{className:"users-grid",children:w.map(e=>(0,t.jsxs)("div",{className:"user-info-card",children:[(0,t.jsxs)("div",{className:"user-header",children:[(0,t.jsx)("div",{className:"user-image-placeholder",children:e.coachImage||e.adminImage?(0,t.jsx)("img",{src:e.coachImage||e.adminImage,alt:"User",className:"user-image"}):(0,t.jsx)(r.Xws,{className:"user-icon"})}),(0,t.jsx)("div",{className:"user-status",children:(0,t.jsx)("span",{className:"status-badge ".concat(e.suspended?"suspended":"active"),children:e.suspended?"Suspended":"Active"})})]}),(0,t.jsxs)("div",{className:"user-details",children:[(0,t.jsxs)("p",{children:[(0,t.jsx)("strong",{children:"Name:"})," ",e.fullName]}),(0,t.jsxs)("p",{children:[(0,t.jsx)("strong",{children:"Email:"})," ",e.email]}),(0,t.jsxs)("p",{children:[(0,t.jsx)("strong",{children:"Role:"})," ",e.role]}),(0,t.jsxs)("p",{children:[(0,t.jsx)("strong",{children:"Joined:"})," ",new Date(e.createdAt).toLocaleDateString()]})]}),(0,t.jsx)("button",{className:"suspend-btn ".concat(e.suspended?"reactivate":"suspend"),onClick:()=>(function(e){let a=JSON.parse(localStorage.getItem("users")||"[]"),s=a.findIndex(a=>a.id===e);-1!==s&&(a[s].suspended=!a[s].suspended,localStorage.setItem("users",JSON.stringify(a)),C?b(a.filter(e=>"coach"===e.role)):b(a.filter(e=>"admin"===e.role)))})(e.id),children:e.suspended?"Reactivate Account":"Suspend Account"})]},e.id))})]}),O&&(0,t.jsxs)("div",{className:"edit-details-display",children:[(0,t.jsx)("h3",{children:"Admin Profile"}),(0,t.jsxs)("form",{onSubmit:function(e){e.preventDefault();let a=JSON.parse(localStorage.getItem("currentUser")),s=JSON.parse(localStorage.getItem("users")||"[]"),t=s.findIndex(e=>e.id===a.id);-1!==t&&(s[t]={...s[t],fullName:D.fullName,email:D.email,adminImage:D.adminImage},localStorage.setItem("users",JSON.stringify(s)),localStorage.setItem("currentUser",JSON.stringify(s[t])),I(!1),alert("Profile updated successfully!"))},children:[(0,t.jsxs)("div",{className:"edit-section",children:[(0,t.jsx)("h4",{children:"Profile Details"}),(0,t.jsxs)("div",{className:"image-section",children:[(0,t.jsx)("div",{className:"image-preview",children:D.adminImage?(0,t.jsx)("img",{src:D.adminImage,alt:"Admin",className:"preview-image"}):(0,t.jsx)(r.Xws,{className:"placeholder-icon"})}),(0,t.jsx)("input",{type:"file",accept:"image/*",onChange:e=>(function(e){let a=e.target.files[0];if(a){let e=new FileReader;e.onload=e=>{E({...D,adminImage:e.target.result})},e.readAsDataURL(a)}})(e),id:"admin-image"}),(0,t.jsx)("label",{htmlFor:"admin-image",className:"image-upload-label",children:"Upload Profile Photo"})]}),(0,t.jsx)("input",{type:"text",placeholder:"Full Name",value:D.fullName||"",onChange:e=>E({...D,fullName:e.target.value}),required:!0}),(0,t.jsx)("input",{type:"email",placeholder:"Email",value:D.email||"",onChange:e=>E({...D,email:e.target.value}),required:!0})]}),(0,t.jsxs)("div",{className:"form-actions",children:[(0,t.jsx)("button",{type:"submit",children:"Save Changes"}),(0,t.jsx)("button",{type:"button",onClick:()=>I(!1),children:"Cancel"})]})]})]}),k&&!L&&(0,t.jsxs)("div",{className:"news-management-display",children:[(0,t.jsxs)("div",{className:"news-management-header",children:[(0,t.jsx)("h3",{children:"News Management"}),(0,t.jsxs)("button",{className:"add-news-btn",onClick:()=>G(!0),children:[(0,t.jsx)(r.wEH,{})," Add News Article"]})]}),(0,t.jsx)("div",{className:"news-articles-grid",children:F.map((e,a)=>(0,t.jsxs)("div",{className:"news-article-card",children:[(0,t.jsx)("div",{className:"news-article-image",children:(0,t.jsx)("img",{src:e.image,alt:e.title})}),(0,t.jsxs)("div",{className:"news-article-content",children:[(0,t.jsx)("div",{className:"news-article-date",children:e.date}),(0,t.jsx)("h4",{children:e.title}),(0,t.jsxs)("p",{children:[e.content.substring(0,100),"..."]}),(0,t.jsx)("button",{className:"delete-news-btn",onClick:()=>(function(e){if(window.confirm("Are you sure you want to delete this article?")){let a=F.filter((a,s)=>s!==e);localStorage.setItem("newsStories",JSON.stringify(a)),P(a)}})(a),children:"Delete"})]})]},a))})]}),L&&(0,t.jsxs)("div",{className:"add-news-form",children:[(0,t.jsx)("h3",{children:"Add News Article"}),(0,t.jsxs)("form",{onSubmit:function(e){if(e.preventDefault(),F.length>=5){alert("Maximum of 5 news articles allowed. Please delete old articles first.");return}let a=[...F,{...q,id:Date.now().toString(),date:new Date().toLocaleDateString(),story:q.title.toLowerCase().replace(/\s+/g,"-")}];try{localStorage.setItem("newsStories",JSON.stringify(a)),P(a),G(!1),J({title:"",content:"",image:""}),alert("News article published successfully!")}catch(e){alert("Storage quota exceeded. Please delete some articles first.")}},children:[(0,t.jsx)("input",{type:"text",placeholder:"Article Title",value:q.title,onChange:e=>J({...q,title:e.target.value}),required:!0}),(0,t.jsx)("input",{type:"file",accept:"image/*",onChange:function(e){let a=e.target.files[0];if(a){let e=new FileReader;e.onload=e=>{J({...q,image:e.target.result})},e.readAsDataURL(a)}},required:!0}),(0,t.jsx)("textarea",{placeholder:"Article Content",value:q.content,onChange:e=>J({...q,content:e.target.value}),rows:"10",required:!0}),(0,t.jsxs)("div",{className:"form-actions",children:[(0,t.jsx)("button",{type:"submit",children:"Publish Article"}),(0,t.jsx)("button",{type:"button",onClick:()=>{G(!1),J({title:"",content:"",image:""})},children:"Cancel"})]})]})]})]});function ec(e){let a={};v.forEach(e=>{a[e.teamName]={played:0,won:0,drawn:0,lost:0,goalsFor:0,goalsAgainst:0,points:0}}),e.forEach(e=>{if(void 0!==e.homeScore&&void 0!==e.awayScore&&!e.cancelled){let s=e.homeTeam,t=e.awayTeam,l=e.homeScore,r=e.awayScore;a[s]&&a[t]&&(a[s].played++,a[t].played++,a[s].goalsFor+=l,a[s].goalsAgainst+=r,a[t].goalsFor+=r,a[t].goalsAgainst+=l,l>r?(a[s].won++,a[s].points+=3,a[t].lost++):l<r?(a[t].won++,a[t].points+=3,a[s].lost++):(a[s].drawn++,a[t].drawn++,a[s].points+=1,a[t].points+=1))}}),S(Object.entries(a).map(e=>{let[a,s]=e,t=v.find(e=>e.teamName===a);return{teamName:a,teamLogo:null==t?void 0:t.teamLogo,...s,goalDifference:s.goalsFor-s.goalsAgainst}}).sort((e,a)=>{let s=v.find(a=>a.teamName===e.teamName),t=v.find(e=>e.teamName===a.teamName);return(null==s?void 0:s.disqualified)&&!(null==t?void 0:t.disqualified)?1:!(null==s?void 0:s.disqualified)&&(null==t?void 0:t.disqualified)?-1:e.points!==a.points?a.points-e.points:e.goalDifference!==a.goalDifference?a.goalDifference-e.goalDifference:a.goalsFor-e.goalsFor}).map((e,a)=>({...e,position:a+1})))}},f=function(e){let{onTeamRegistered:a}=e,[s,r]=(0,l.useState)({}),[i,n]=(0,l.useState)(""),o=e=>{if("file"===e.target.type&&e.target.files[0]){let a=new FileReader;a.onload=a=>{r({...s,[e.target.name]:a.target.result})},a.readAsDataURL(e.target.files[0])}else r({...s,[e.target.name]:e.target.value})};return(0,t.jsx)("section",{className:"section",children:(0,t.jsxs)("div",{className:"auth-card",children:[(0,t.jsx)("h2",{children:"Register Your Team"}),i&&(0,t.jsx)("p",{className:"auth-message",children:i}),(0,t.jsxs)("form",{className:"login-form",onSubmit:e=>{e.preventDefault();try{let e=JSON.parse(localStorage.getItem("currentUser")),t=JSON.parse(localStorage.getItem("teams")||"[]"),l={id:Date.now(),...s,coachId:e.id,coachEmail:e.email,createdAt:new Date().toISOString()};t.push(l),localStorage.setItem("teams",JSON.stringify(t)),e.teamId=l.id,localStorage.setItem("currentUser",JSON.stringify(e)),n("Team registered successfully! Now register your players."),setTimeout(()=>a(),1500)}catch(e){n("Error registering team")}},children:[(0,t.jsx)("input",{type:"text",name:"teamName",placeholder:"Team Name",onChange:o,required:!0}),(0,t.jsx)("input",{type:"text",name:"teamCoach",placeholder:"Team Coach",onChange:o,required:!0}),(0,t.jsx)("input",{type:"email",name:"teamEmail",placeholder:"Team Email",onChange:o,required:!0}),(0,t.jsx)("input",{type:"file",name:"teamLogo",accept:"image/*",onChange:o,required:!0}),(0,t.jsx)("input",{type:"tel",name:"coachNumber",placeholder:"Coach Phone Number",onChange:o,required:!0}),(0,t.jsx)("button",{type:"submit",children:"Register Team"})]})]})})},y=function(e){let{onPlayersRegistered:a}=e,[s,r]=(0,l.useState)(Array(20).fill().map(()=>({fullName:"",dateOfBirth:"",position:"",playerNumber:"",guardianName:"",guardianNumber:""}))),[i,n]=(0,l.useState)(""),o=(e,a,t)=>{let l=s.map((s,l)=>l===e?{...s,[a]:t}:s);r(l),"fullName"===a&&t.trim()&&c(l)},c=e=>{try{let a=JSON.parse(localStorage.getItem("currentUser")),s=JSON.parse(localStorage.getItem("teams")||"[]"),t=s.findIndex(e=>e.coachEmail===a.email||e.teamEmail===a.email);-1!==t&&(s[t].players=e,localStorage.setItem("teams",JSON.stringify(s)))}catch(e){console.error("Error saving players:",e)}};return(0,t.jsx)("section",{className:"section",children:(0,t.jsxs)("div",{className:"player-registration-container",children:[(0,t.jsx)("h2",{children:"Register Players (20 Players)"}),i&&(0,t.jsx)("p",{className:"auth-message",children:i}),(0,t.jsxs)("form",{className:"player-form",onSubmit:e=>{if(e.preventDefault(),s.filter(e=>e.fullName.trim()).length<15){n("Minimum 15 players required to register the team.");return}try{c(s),n("Players registered successfully!"),setTimeout(()=>a(),1500)}catch(e){n("Error registering players")}},children:[s.map((e,a)=>(0,t.jsxs)("div",{className:"player-card",children:[(0,t.jsxs)("h4",{children:["Player ",a+1]}),(0,t.jsxs)("div",{className:"player-row",children:[(0,t.jsx)("input",{type:"text",placeholder:"Player Full Name",value:e.fullName,onChange:e=>o(a,"fullName",e.target.value)}),(0,t.jsx)("input",{type:"date",placeholder:"Date of Birth",value:e.dateOfBirth,onChange:e=>o(a,"dateOfBirth",e.target.value)})]}),(0,t.jsxs)("div",{className:"player-row",children:[(0,t.jsx)("input",{type:"text",placeholder:"Position",value:e.position,onChange:e=>o(a,"position",e.target.value)}),(0,t.jsx)("input",{type:"number",placeholder:"Player Number",value:e.playerNumber,onChange:e=>o(a,"playerNumber",e.target.value)})]}),(0,t.jsxs)("div",{className:"player-row",children:[(0,t.jsx)("input",{type:"text",placeholder:"Guardian Name",value:e.guardianName,onChange:e=>o(a,"guardianName",e.target.value)}),(0,t.jsx)("input",{type:"tel",placeholder:"Guardian Number",value:e.guardianNumber,onChange:e=>o(a,"guardianNumber",e.target.value)})]})]},a)),(0,t.jsx)("div",{className:"form-actions",children:(0,t.jsx)("button",{type:"submit",className:"register-btn",children:"Register All Players"})})]})]})})},S=function(){let[e,a]=(0,l.useState)(!1),[s,i]=(0,l.useState)(!1),[n,o]=(0,l.useState)(!1),[c,d]=(0,l.useState)(!1),[m,h]=(0,l.useState)(!1),[u,x]=(0,l.useState)(!1),[g,j]=(0,l.useState)(!1),[p,N]=(0,l.useState)([]),[v,S]=(0,l.useState)([]),[w,b]=(0,l.useState)(null),[C,T]=(0,l.useState)([]),[O,I]=(0,l.useState)(null),[D,E]=(0,l.useState)({}),[k,A]=(0,l.useState)(!1),[F,P]=(0,l.useState)(!1),[L,G]=(0,l.useState)({}),[q,J]=(0,l.useState)({goalkeepers:0,defenders:0,midfielders:0,attackers:0}),[R,M]=(0,l.useState)(0);(0,l.useEffect)(()=>{var e;let s=JSON.parse(localStorage.getItem("currentUser")),t=null,l=(null==(t=(null==s?void 0:s.teamData)?s.teamData:(null==s?void 0:s.teamName)?JSON.parse(localStorage.getItem("teams")||"[]").find(e=>e.teamName===s.teamName):JSON.parse(localStorage.getItem("teams")||"[]").find(e=>e.teamEmail===(null==s?void 0:s.email)))?void 0:null===(e=t.players)||void 0===e?void 0:e.filter(e=>{var a;return null===(a=e.fullName)||void 0===a?void 0:a.trim()}))||[];if(a(!!t),i(l.length>0),b(t),t&&B(l),t&&o(!0),(()=>{let e=JSON.parse(localStorage.getItem("teams")||"[]"),a=JSON.parse(localStorage.getItem("fixtures")||"[]"),s={};e.forEach(e=>{s[e.teamName]={teamName:e.teamName,teamLogo:e.teamLogo,played:0,won:0,drawn:0,lost:0,goalsFor:0,goalsAgainst:0,points:0}}),a.forEach(e=>{if(void 0!==e.homeScore&&void 0!==e.awayScore){let a=e.homeTeam,t=e.awayTeam,l=e.homeScore,r=e.awayScore;s[a]&&s[t]&&(s[a].played++,s[t].played++,s[a].goalsFor+=l,s[a].goalsAgainst+=r,s[t].goalsFor+=r,s[t].goalsAgainst+=l,l>r?(s[a].won++,s[a].points+=3,s[t].lost++):l<r?(s[t].won++,s[t].points+=3,s[a].lost++):(s[a].drawn++,s[t].drawn++,s[a].points+=1,s[t].points+=1))}}),T(Object.values(s).map(a=>{let s=e.find(e=>e.teamName===a.teamName);return{...a,goalDifference:a.goalsFor-a.goalsAgainst,disqualified:(null==s?void 0:s.disqualified)||!1}}).sort((e,a)=>e.disqualified&&!a.disqualified?1:!e.disqualified&&a.disqualified?-1:e.points!==a.points?a.points-e.points:e.goalDifference!==a.goalDifference?a.goalDifference-e.goalDifference:a.goalsFor-e.goalsFor).map((e,a)=>({...e,position:a+1})))})(),t){let e=JSON.parse(localStorage.getItem("fixtures")||"[]").filter(e=>e.homeTeam===t.teamName||e.awayTeam===t.teamName),a=e.filter(e=>void 0===e.homeScore),s=e.filter(e=>void 0!==e.homeScore);N(a),S(s)}},[]);let U=()=>{var e;A(!1);let a=JSON.parse(localStorage.getItem("currentUser")),s=JSON.parse(localStorage.getItem("teams")||"[]"),t=null,l=(null==(t=(null==a?void 0:a.teamData)?s.find(e=>e.teamName===a.teamData.teamName):(null==a?void 0:a.teamName)?s.find(e=>e.teamName===a.teamName):s.find(e=>e.teamEmail===(null==a?void 0:a.email)||e.coachEmail===(null==a?void 0:a.email)))?void 0:null===(e=t.players)||void 0===e?void 0:e.filter(e=>{var a;return null===(a=e.fullName)||void 0===a?void 0:a.trim()}))||[];i(l.length>0),b(t),o(!0),t&&B(l)},_=e=>{I(e),E(w.players[e])},B=e=>{let a=e.filter(e=>{var a,s;return(null===(a=e.position)||void 0===a?void 0:a.toLowerCase().includes("goalkeeper"))||(null===(s=e.position)||void 0===s?void 0:s.toLowerCase().includes("gk"))}).length;J({goalkeepers:a,defenders:e.filter(e=>{var a,s;return(null===(a=e.position)||void 0===a?void 0:a.toLowerCase().includes("defender"))||(null===(s=e.position)||void 0===s?void 0:s.toLowerCase().includes("defence"))}).length,midfielders:e.filter(e=>{var a,s;return(null===(a=e.position)||void 0===a?void 0:a.toLowerCase().includes("midfielder"))||(null===(s=e.position)||void 0===s?void 0:s.toLowerCase().includes("midfield"))}).length,attackers:e.filter(e=>{var a,s,t;return(null===(a=e.position)||void 0===a?void 0:a.toLowerCase().includes("attacker"))||(null===(s=e.position)||void 0===s?void 0:s.toLowerCase().includes("forward"))||(null===(t=e.position)||void 0===t?void 0:t.toLowerCase().includes("striker"))}).length}),M(e.length>0?Math.round(e.reduce((e,a)=>a.dateOfBirth?e+(new Date().getFullYear()-new Date(a.dateOfBirth).getFullYear()):e,0)/e.length):0)},V=e=>{let a=JSON.parse(localStorage.getItem("currentUser")),s=JSON.parse(localStorage.getItem("teams")||"[]"),t=-1;-1!==(t=(null==a?void 0:a.teamData)?s.findIndex(e=>e.teamName===a.teamData.teamName):(null==a?void 0:a.teamName)?s.findIndex(e=>e.teamName===a.teamName):s.findIndex(e=>e.teamEmail===(null==a?void 0:a.email)||e.coachEmail===(null==a?void 0:a.email)))&&(s[t].players||(s[t].players=Array(20).fill().map(()=>({fullName:"",dateOfBirth:"",position:"",playerNumber:"",guardianName:"",guardianNumber:""}))),s[t].players[e]=D,localStorage.setItem("teams",JSON.stringify(s)),b(s[t]),B(s[t].players.filter(e=>{var a;return null===(a=e.fullName)||void 0===a?void 0:a.trim()}))),I(null),E({})},Y=()=>{I(null),E({})},H=(e,a)=>{if("playerImage"===e&&a){let s=new FileReader;s.onload=a=>{E({...D,[e]:a.target.result})},s.readAsDataURL(a)}else E({...D,[e]:a})},W=e=>{if(w.players.filter(e=>{var a;return null===(a=e.fullName)||void 0===a?void 0:a.trim()}).length<=15){alert("Cannot remove player. Minimum 15 players required.");return}let a=JSON.parse(localStorage.getItem("currentUser")),s=JSON.parse(localStorage.getItem("teams")||"[]"),t=-1;-1!==(t=(null==a?void 0:a.teamData)?s.findIndex(e=>e.teamName===a.teamData.teamName):(null==a?void 0:a.teamName)?s.findIndex(e=>e.teamName===a.teamName):s.findIndex(e=>e.teamEmail===(null==a?void 0:a.email)||e.coachEmail===(null==a?void 0:a.email)))&&(s[t].players[e]={fullName:"",dateOfBirth:"",position:"",playerNumber:"",guardianName:"",guardianNumber:""},localStorage.setItem("teams",JSON.stringify(s)),b(s[t]),B(s[t].players.filter(e=>{var a;return null===(a=e.fullName)||void 0===a?void 0:a.trim()})))},X=(e,a)=>{let s=e.target.files[0];if(s){let e=new FileReader;e.onload=e=>{G({...L,[a]:e.target.result})},e.readAsDataURL(s)}};return e||w?w&&!s?(0,t.jsx)(y,{onPlayersRegistered:U}):(0,t.jsxs)("section",{className:"section",children:[(0,t.jsx)("h2",{children:"Team Dashboard"}),(0,t.jsxs)("div",{className:"dashboard-grid",children:[(0,t.jsxs)("div",{className:"dashboard-card",onClick:()=>{let e=JSON.parse(localStorage.getItem("currentUser")),a=JSON.parse(localStorage.getItem("teams")||"[]"),s=null;if(s=(null==e?void 0:e.teamData)?a.find(a=>a.teamName===e.teamData.teamName):(null==e?void 0:e.teamName)?a.find(a=>a.teamName===e.teamName):a.find(a=>a.teamEmail===(null==e?void 0:e.email)||a.coachEmail===(null==e?void 0:e.email))){var t;b(s);let e=(null==s?void 0:null===(t=s.players)||void 0===t?void 0:t.filter(e=>{var a;return null===(a=e.fullName)||void 0===a?void 0:a.trim()}))||[];B(e),0===e.length?A(!0):(o(!0),d(!1),h(!1),P(!1),x(!1),j(!1))}},children:[(0,t.jsx)("h3",{children:"My Team"}),(0,t.jsx)("p",{children:"View and manage your team roster"})]}),(0,t.jsxs)("div",{className:"dashboard-card",onClick:()=>{x(!0),j(!1),d(!1),h(!1),o(!1),P(!1)},children:[(0,t.jsx)("h3",{children:"Upcoming Matches"}),(0,t.jsx)("p",{children:"View scheduled fixtures for your team"})]}),(0,t.jsxs)("div",{className:"dashboard-card",onClick:()=>{j(!0),x(!1),d(!1),h(!1),o(!1),P(!1)},children:[(0,t.jsx)("h3",{children:"Match Results"}),(0,t.jsx)("p",{children:"View past match results and statistics"})]}),(0,t.jsxs)("div",{className:"dashboard-card",onClick:()=>{d(!0),h(!1),o(!1),P(!1),x(!1),j(!1)},children:[(0,t.jsx)("h3",{children:"League Table"}),(0,t.jsx)("p",{children:"View current league standings"})]}),(0,t.jsxs)("div",{className:"dashboard-card",onClick:()=>{h(!0),d(!1),o(!1),P(!1),x(!1),j(!1)},children:[(0,t.jsx)("h3",{children:"Team Statistics"}),(0,t.jsx)("p",{children:"View team performance and player stats"})]}),(0,t.jsxs)("div",{className:"dashboard-card",onClick:()=>{P(!0),h(!1),d(!1),o(!1),x(!1),j(!1),w&&G({teamName:w.teamName,teamCoach:w.teamCoach,coachEmail:w.teamEmail,teamEmail:w.teamEmail,coachNumber:w.coachNumber,coachImage:w.coachImage,teamLogo:w.teamLogo})},children:[(0,t.jsx)("h3",{children:"Edit Details"}),(0,t.jsx)("p",{children:"Edit coach and team information"})]})]}),k&&(0,t.jsx)(y,{onPlayersRegistered:U}),n&&!F&&!u&&!g&&!c&&!m&&(null==w?void 0:w.players)&&(0,t.jsxs)("div",{className:"players-display",children:[(0,t.jsxs)("div",{className:"roster-header",children:[(0,t.jsxs)("h3",{children:["Team Roster (",w.players.filter(e=>{var a;return null===(a=e.fullName)||void 0===a?void 0:a.trim()}).length,"/20)"]}),(0,t.jsx)("button",{className:"add-player-btn",onClick:()=>{if(w.players.filter(e=>{var a;return null===(a=e.fullName)||void 0===a?void 0:a.trim()}).length>=20){alert("Cannot add more players. Maximum 20 players allowed.");return}let e=JSON.parse(localStorage.getItem("currentUser")),a=JSON.parse(localStorage.getItem("teams")||"[]"),s=-1;if(-1!==(s=(null==e?void 0:e.teamData)?a.findIndex(a=>a.teamName===e.teamData.teamName):(null==e?void 0:e.teamName)?a.findIndex(a=>a.teamName===e.teamName):a.findIndex(a=>a.teamEmail===(null==e?void 0:e.email)||a.coachEmail===(null==e?void 0:e.email)))){a[s].players||(a[s].players=Array(20).fill().map(()=>({fullName:"",dateOfBirth:"",position:"",playerNumber:"",guardianName:"",guardianNumber:""})));let e=a[s].players.findIndex(e=>{var a;return!(null===(a=e.fullName)||void 0===a?void 0:a.trim())});-1!==e&&(I(e),E({fullName:"",dateOfBirth:"",position:"",playerNumber:"",guardianName:"",guardianNumber:""}))}},disabled:w.players.filter(e=>{var a;return null===(a=e.fullName)||void 0===a?void 0:a.trim()}).length>=20,children:"Add Player"})]}),(0,t.jsx)("div",{className:"players-grid",children:w.players.filter(e=>{var a;return null===(a=e.fullName)||void 0===a?void 0:a.trim()}).length>0?w.players.filter(e=>{var a;return null===(a=e.fullName)||void 0===a?void 0:a.trim()}).map((e,a)=>{let s=w.players.indexOf(e);return(0,t.jsx)("div",{className:"player-info-card",children:O===s?(0,t.jsxs)("div",{className:"edit-form",children:[(0,t.jsxs)("div",{className:"image-upload",children:[(0,t.jsx)("div",{className:"player-image-placeholder",children:D.playerImage?(0,t.jsx)("img",{src:D.playerImage,alt:"Preview",className:"player-image"}):(0,t.jsx)(r.Xws,{})}),(0,t.jsx)("input",{type:"file",accept:"image/*",onChange:e=>H("playerImage",e.target.files[0]),id:"image-".concat(s)}),(0,t.jsx)("label",{htmlFor:"image-".concat(s),className:"image-upload-label",children:"Upload Photo"})]}),(0,t.jsx)("input",{type:"text",value:D.fullName||"",onChange:e=>H("fullName",e.target.value),placeholder:"Full Name"}),(0,t.jsx)("input",{type:"date",value:D.dateOfBirth||"",onChange:e=>H("dateOfBirth",e.target.value)}),(0,t.jsx)("input",{type:"text",value:D.position||"",onChange:e=>H("position",e.target.value),placeholder:"Position"}),(0,t.jsx)("input",{type:"number",value:D.playerNumber||"",onChange:e=>H("playerNumber",e.target.value),placeholder:"Player Number"}),(0,t.jsx)("input",{type:"text",value:D.guardianName||"",onChange:e=>H("guardianName",e.target.value),placeholder:"Guardian Name"}),(0,t.jsx)("input",{type:"tel",value:D.guardianNumber||"",onChange:e=>H("guardianNumber",e.target.value),placeholder:"Guardian Number"}),(0,t.jsxs)("div",{className:"edit-buttons",children:[(0,t.jsx)("button",{onClick:()=>V(s),children:"Save"}),(0,t.jsx)("button",{onClick:Y,children:"Cancel"})]})]}):(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)("div",{className:"player-image-placeholder",children:e.playerImage?(0,t.jsx)("img",{src:e.playerImage,alt:"Player",className:"player-image"}):(0,t.jsx)(r.Xws,{})}),(0,t.jsxs)("p",{children:[(0,t.jsx)("strong",{children:"Name:"})," ",e.fullName]}),(0,t.jsxs)("p",{children:[(0,t.jsx)("strong",{children:"DOB:"})," ",e.dateOfBirth," ",e.dateOfBirth?"(Age: ".concat(new Date().getFullYear()-new Date(e.dateOfBirth).getFullYear(),")"):""]}),(0,t.jsxs)("p",{children:[(0,t.jsx)("strong",{children:"Position:"})," ",e.position]}),(0,t.jsxs)("p",{children:[(0,t.jsx)("strong",{children:"Number:"})," ",e.playerNumber]}),(0,t.jsxs)("p",{children:[(0,t.jsx)("strong",{children:"Guardian:"})," ",e.guardianName]}),(0,t.jsxs)("p",{children:[(0,t.jsx)("strong",{children:"Guardian Phone:"})," ",e.guardianNumber]}),(0,t.jsxs)("div",{className:"player-actions",children:[(0,t.jsx)("button",{className:"edit-btn",onClick:()=>_(s),children:"Edit"}),(0,t.jsx)("button",{className:"remove-btn",onClick:()=>W(s),disabled:w.players.filter(e=>{var a;return null===(a=e.fullName)||void 0===a?void 0:a.trim()}).length<=15,children:"Remove"})]})]})},s)}):(0,t.jsx)("p",{children:"No players registered yet. Click 'Add Player' to start adding players to your roster."})})]}),u&&!n&&!F&&!g&&!c&&!m&&(0,t.jsxs)("div",{className:"fixtures-display",children:[(0,t.jsx)("h3",{children:"Upcoming Matches"}),0===p.length?(0,t.jsx)("p",{children:"No upcoming matches scheduled."}):(0,t.jsx)("div",{className:"round-fixtures",children:p.map((e,a)=>(0,t.jsxs)("div",{className:"fixture-card",children:[(0,t.jsxs)("div",{className:"fixture-teams",children:[(0,t.jsx)("span",{className:"home-team",children:e.homeTeam}),(0,t.jsx)("span",{className:"vs",children:"vs"}),(0,t.jsx)("span",{className:"away-team",children:e.awayTeam})]}),(0,t.jsxs)("div",{className:"fixture-details",children:[(0,t.jsxs)("p",{children:[(0,t.jsx)("strong",{children:"Round:"})," ",e.round]}),(0,t.jsxs)("p",{children:[(0,t.jsx)("strong",{children:"Date:"})," ",e.date||"TBD"]}),(0,t.jsxs)("p",{children:[(0,t.jsx)("strong",{children:"Time:"})," ",e.time||"TBD"]}),(0,t.jsxs)("p",{children:[(0,t.jsx)("strong",{children:"Venue:"})," ",e.venue||"TBD"]})]}),(0,t.jsx)("div",{className:"fixture-status",children:(0,t.jsx)("span",{className:"status scheduled",children:"Scheduled"})})]},a))})]}),g&&!n&&!F&&!u&&!c&&!m&&(0,t.jsxs)("div",{className:"fixtures-display",children:[(0,t.jsx)("h3",{children:"Match Results"}),0===v.length?(0,t.jsx)("p",{children:"No completed matches yet."}):(0,t.jsx)("div",{className:"round-fixtures",children:v.map((e,a)=>{var s,l,r,i;return(0,t.jsxs)("div",{className:"fixture-card",children:[(0,t.jsxs)("div",{className:"fixture-teams",children:[(0,t.jsx)("span",{className:"home-team",children:e.homeTeam}),(0,t.jsx)("span",{className:"vs",children:"vs"}),(0,t.jsx)("span",{className:"away-team",children:e.awayTeam})]}),(0,t.jsxs)("div",{className:"fixture-details",children:[(0,t.jsxs)("p",{children:[(0,t.jsx)("strong",{children:"Round:"})," ",e.round]}),(0,t.jsxs)("p",{children:[(0,t.jsx)("strong",{children:"Date:"})," ",e.date]}),(0,t.jsxs)("p",{children:[(0,t.jsx)("strong",{children:"Time:"})," ",e.time]}),(0,t.jsxs)("p",{children:[(0,t.jsx)("strong",{children:"Venue:"})," ",e.venue]})]}),(0,t.jsxs)("div",{className:"fixture-result",children:[(0,t.jsxs)("span",{className:"result",children:[e.homeScore," - ",e.awayScore]}),(0,t.jsx)("span",{className:"status",children:e.forfeit?"Forfeit":"Final"}),e.forfeit&&(0,t.jsx)("div",{className:"cancel-reason",children:e.cancelReason}),((null===(s=e.homeGoals)||void 0===s?void 0:s.length)>0||(null===(l=e.awayGoals)||void 0===l?void 0:l.length)>0)&&(0,t.jsxs)("div",{className:"match-details",children:[null===(r=e.homeGoals)||void 0===r?void 0:r.map((a,s)=>(0,t.jsxs)("div",{className:"goal-detail",children:[(0,t.jsxs)("strong",{children:[e.homeTeam,":"]})," ",a.scorer," ",a.time,a.assist&&(0,t.jsxs)("span",{className:"assist",children:[" (Assist: ",a.assist,")"]})]},s)),null===(i=e.awayGoals)||void 0===i?void 0:i.map((a,s)=>(0,t.jsxs)("div",{className:"goal-detail",children:[(0,t.jsxs)("strong",{children:[e.awayTeam,":"]})," ",a.scorer," ",a.time,a.assist&&(0,t.jsxs)("span",{className:"assist",children:[" (Assist: ",a.assist,")"]})]},s)),(e.homeCleanSheet||e.awayCleanSheet)&&(0,t.jsxs)("div",{className:"cleansheet-details",children:[e.homeCleanSheet&&(0,t.jsxs)("div",{className:"cleansheet",children:["\uD83E\uDD45 ",e.homeTeam,": ",e.homeCleanSheet]}),e.awayCleanSheet&&(0,t.jsxs)("div",{className:"cleansheet",children:["\uD83E\uDD45 ",e.awayTeam,": ",e.awayCleanSheet]})]})]})]})]},a)})})]}),c&&!n&&!F&&!u&&!g&&!m&&(0,t.jsxs)("div",{className:"league-table-container",children:[(0,t.jsx)("h3",{children:"League Table"}),(0,t.jsxs)("table",{className:"league-table",children:[(0,t.jsx)("thead",{children:(0,t.jsxs)("tr",{children:[(0,t.jsx)("th",{children:"Pos"}),(0,t.jsx)("th",{children:"Team"}),(0,t.jsx)("th",{children:"P"}),(0,t.jsx)("th",{children:"W"}),(0,t.jsx)("th",{children:"D"}),(0,t.jsx)("th",{children:"L"}),(0,t.jsx)("th",{children:"GF"}),(0,t.jsx)("th",{children:"GA"}),(0,t.jsx)("th",{children:"GD"}),(0,t.jsx)("th",{children:"Pts"})]})}),(0,t.jsx)("tbody",{children:C.map(e=>{let a=JSON.parse(localStorage.getItem("teams")||"[]").find(a=>a.teamName===e.teamName);return(0,t.jsxs)("tr",{className:(null==a?void 0:a.disqualified)?"disqualified-row":"",children:[(0,t.jsx)("td",{children:e.position}),(0,t.jsxs)("td",{className:"team-cell",children:[(0,t.jsx)("img",{src:e.teamLogo||"/u-13.png",alt:"Team Logo",className:"table-team-logo"}),e.teamName,(null==a?void 0:a.disqualified)&&(0,t.jsx)("span",{className:"table-disqualified-badge",children:"Disqualified"})]}),(0,t.jsx)("td",{children:e.played}),(0,t.jsx)("td",{children:e.won}),(0,t.jsx)("td",{children:e.drawn}),(0,t.jsx)("td",{children:e.lost}),(0,t.jsx)("td",{children:e.goalsFor}),(0,t.jsx)("td",{children:e.goalsAgainst}),(0,t.jsx)("td",{children:e.goalDifference}),(0,t.jsx)("td",{children:(0,t.jsx)("strong",{children:e.points})})]},e.position)})})]})]}),m&&!n&&!F&&!u&&!g&&!c&&w&&(()=>{var e,a;let s=C.find(e=>e.teamName===w.teamName)||{played:0,won:0,drawn:0,lost:0,points:0,goalsFor:0,goalsAgainst:0,goalDifference:0},l=v.filter(e=>e.homeTeam===w.teamName&&0===e.awayScore||e.awayTeam===w.teamName&&0===e.homeScore).length,r=v.filter(e=>e.homeTeam===w.teamName),i=v.filter(e=>e.awayTeam===w.teamName),n=r.filter(e=>e.homeScore>e.awayScore).length,o=r.filter(e=>e.homeScore===e.awayScore).length,c=r.filter(e=>e.homeScore<e.awayScore).length,d=i.filter(e=>e.awayScore>e.homeScore).length,m=i.filter(e=>e.awayScore===e.homeScore).length,h=i.filter(e=>e.awayScore<e.homeScore).length,u=v.slice(-5).map(e=>e.homeTeam===w.teamName?e.homeScore>e.awayScore?"W":e.homeScore===e.awayScore?"D":"L":e.awayScore>e.homeScore?"W":e.awayScore===e.homeScore?"D":"L").join(" "),x=(null===(e=w.players)||void 0===e?void 0:e.filter(e=>{var a;return null===(a=e.fullName)||void 0===a?void 0:a.trim()}))||[];return(0,t.jsxs)("div",{className:"team-stats-display",children:[(0,t.jsxs)("h3",{children:[w.teamName," Statistics"]}),(0,t.jsxs)("div",{className:"stats-grid",children:[(0,t.jsxs)("div",{className:"stat-card",children:[(0,t.jsx)("h4",{children:"Team Overview"}),(0,t.jsxs)("p",{children:[(0,t.jsx)("strong",{children:"Matches Played:"})," ",s.played]}),(0,t.jsxs)("p",{children:[(0,t.jsx)("strong",{children:"Wins:"})," ",s.won]}),(0,t.jsxs)("p",{children:[(0,t.jsx)("strong",{children:"Draws:"})," ",s.drawn]}),(0,t.jsxs)("p",{children:[(0,t.jsx)("strong",{children:"Losses:"})," ",s.lost]}),(0,t.jsxs)("p",{children:[(0,t.jsx)("strong",{children:"Points:"})," ",s.points]})]}),(0,t.jsxs)("div",{className:"stat-card",children:[(0,t.jsx)("h4",{children:"Goals"}),(0,t.jsxs)("p",{children:[(0,t.jsx)("strong",{children:"Goals Scored:"})," ",s.goalsFor]}),(0,t.jsxs)("p",{children:[(0,t.jsx)("strong",{children:"Goals Conceded:"})," ",s.goalsAgainst]}),(0,t.jsxs)("p",{children:[(0,t.jsx)("strong",{children:"Goal Difference:"})," ",s.goalDifference>0?"+":"",s.goalDifference]}),(0,t.jsxs)("p",{children:[(0,t.jsx)("strong",{children:"Clean Sheets:"})," ",l]})]}),(0,t.jsxs)("div",{className:"stat-card",children:[(0,t.jsx)("h4",{children:"Squad"}),(0,t.jsxs)("p",{children:[(0,t.jsx)("strong",{children:"Total Players:"})," ",x.length]}),(0,t.jsxs)("p",{children:[(0,t.jsx)("strong",{children:"Average Age:"})," ",R>0?"".concat(R," years"):"N/A"]}),(0,t.jsxs)("p",{children:[(0,t.jsx)("strong",{children:"Goalkeepers:"})," ",q.goalkeepers]}),(0,t.jsxs)("p",{children:[(0,t.jsx)("strong",{children:"Defenders:"})," ",q.defenders]}),(0,t.jsxs)("p",{children:[(0,t.jsx)("strong",{children:"Midfielders:"})," ",q.midfielders]}),(0,t.jsxs)("p",{children:[(0,t.jsx)("strong",{children:"Attackers:"})," ",q.attackers]})]}),(0,t.jsxs)("div",{className:"stat-card",children:[(0,t.jsx)("h4",{children:"Form & Records"}),(0,t.jsxs)("p",{children:[(0,t.jsx)("strong",{children:"Last 5 Games:"})," ",u||"N/A"]}),(0,t.jsxs)("p",{children:[(0,t.jsx)("strong",{children:"Home Record:"})," ",n,"-",o,"-",c]}),(0,t.jsxs)("p",{children:[(0,t.jsx)("strong",{children:"Away Record:"})," ",d,"-",m,"-",h]}),(0,t.jsxs)("p",{children:[(0,t.jsx)("strong",{children:"League Position:"})," ",(null===(a=C.find(e=>e.teamName===w.teamName))||void 0===a?void 0:a.position)||"N/A"]})]})]})]})})(),F&&!n&&!u&&!g&&!c&&!m&&w&&(0,t.jsxs)("div",{className:"edit-details-display",children:[(0,t.jsx)("h3",{children:"Edit Coach & Team Details"}),(0,t.jsxs)("form",{onSubmit:e=>{e.preventDefault();let a=JSON.parse(localStorage.getItem("currentUser")),s=JSON.parse(localStorage.getItem("teams")||"[]"),t=s.findIndex(e=>e.teamEmail===a.email||e.coachEmail===a.email);if(-1!==t){s[t]={...s[t],...L},localStorage.setItem("teams",JSON.stringify(s));let e=JSON.parse(localStorage.getItem("users")||"[]"),l=e.findIndex(e=>e.email===a.email);-1!==l&&(e[l]={...e[l],fullName:L.teamCoach,email:L.coachEmail,coachImage:L.coachImage},localStorage.setItem("users",JSON.stringify(e))),b(s[t]),P(!1),alert("Details updated successfully!")}},children:[(0,t.jsxs)("div",{className:"edit-sections",children:[(0,t.jsxs)("div",{className:"edit-section",children:[(0,t.jsx)("h4",{children:"Coach Details"}),(0,t.jsxs)("div",{className:"image-section",children:[(0,t.jsx)("div",{className:"image-preview",children:L.coachImage?(0,t.jsx)("img",{src:L.coachImage,alt:"Coach",className:"preview-image"}):(0,t.jsx)(r.Xws,{className:"placeholder-icon"})}),(0,t.jsx)("input",{type:"file",accept:"image/*",onChange:e=>X(e,"coachImage"),id:"coach-image"}),(0,t.jsx)("label",{htmlFor:"coach-image",className:"image-upload-label",children:"Upload Coach Photo"})]}),(0,t.jsx)("input",{type:"text",placeholder:"Coach Name",value:L.teamCoach||"",onChange:e=>G({...L,teamCoach:e.target.value}),required:!0}),(0,t.jsx)("input",{type:"tel",placeholder:"Coach Phone",value:L.coachNumber||"",onChange:e=>G({...L,coachNumber:e.target.value}),required:!0}),(0,t.jsx)("input",{type:"email",placeholder:"Coach Email",value:L.coachEmail||"",onChange:e=>G({...L,coachEmail:e.target.value}),required:!0})]}),(0,t.jsxs)("div",{className:"edit-section",children:[(0,t.jsx)("h4",{children:"Team Details"}),(0,t.jsxs)("div",{className:"image-section",children:[(0,t.jsx)("div",{className:"image-preview",children:L.teamLogo?(0,t.jsx)("img",{src:L.teamLogo,alt:"Team Logo",className:"preview-image"}):(0,t.jsx)("div",{className:"placeholder-icon",children:"LOGO"})}),(0,t.jsx)("input",{type:"file",accept:"image/*",onChange:e=>X(e,"teamLogo"),id:"team-logo"}),(0,t.jsx)("label",{htmlFor:"team-logo",className:"image-upload-label",children:"Upload Team Logo"})]}),(0,t.jsx)("input",{type:"text",placeholder:"Team Name",value:L.teamName||"",onChange:e=>G({...L,teamName:e.target.value}),required:!0}),(0,t.jsx)("input",{type:"email",placeholder:"Team Email",value:L.teamEmail||"",onChange:e=>G({...L,teamEmail:e.target.value}),required:!0})]})]}),(0,t.jsxs)("div",{className:"form-actions",children:[(0,t.jsx)("button",{type:"submit",children:"Save Changes"}),(0,t.jsx)("button",{type:"button",onClick:()=>P(!1),children:"Cancel"})]})]})]})]}):(0,t.jsx)(f,{onTeamRegistered:()=>{let e=JSON.parse(localStorage.getItem("currentUser")),s=JSON.parse(localStorage.getItem("teams")||"[]").find(a=>a.teamEmail===(null==e?void 0:e.email));a(!!s),b(s)}})};function w(){let[e,a]=(0,l.useState)(!1),[s,n]=(0,l.useState)(null),[N,f]=(0,l.useState)(!1),[y,w]=(0,l.useState)("home"),[b,C]=(0,l.useState)(null);(0,l.useEffect)(()=>{n(i.getCurrentUser())},[]);let T=()=>{a(!e)},O=function(e){let s=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;w(e),C(s),a(!1)};return(0,t.jsxs)("div",{className:"App",children:[(0,t.jsxs)("header",{className:"header ".concat(e?"menu-open":""),children:[(0,t.jsxs)("div",{className:"left-section",children:[(0,t.jsx)("button",{className:"menu-btn",onClick:T,children:(0,t.jsx)(r.Fm7,{})}),(0,t.jsxs)("div",{className:"logo-title ".concat(e?"hidden":""),children:[(0,t.jsx)("img",{src:"/u-13.png",alt:"VenSport Logo",className:"logo"}),(0,t.jsx)("h1",{children:"VenSport U-13 League"})]})]}),(0,t.jsxs)("nav",{children:[(0,t.jsx)("button",{onClick:()=>O("home"),children:"Home"}),(0,t.jsx)("button",{onClick:()=>O("clubs"),children:"Clubs"}),(0,t.jsx)("button",{onClick:()=>O("results"),children:"Fixtures & Results"}),(0,t.jsx)("button",{onClick:()=>O("table"),children:"League Table"}),(0,t.jsx)("button",{onClick:()=>O("gallery"),children:"Gallery"}),(0,t.jsx)("button",{onClick:()=>O("news"),children:"News"}),(0,t.jsx)("button",{onClick:()=>O("contact"),children:"Contact"}),(0,t.jsx)("button",{onClick:()=>O("about"),children:"About"}),s?(0,t.jsxs)("div",{className:"profile-dropdown",children:[(0,t.jsxs)("button",{className:"profile-btn",onClick:()=>f(!N),children:[(0,t.jsx)(r.Xws,{})," ",s.fullName]}),N&&(0,t.jsxs)("div",{className:"profile-menu",children:[(0,t.jsxs)("button",{onClick:()=>{s&&(w("admin"===s.role?"admin-dashboard":"team-dashboard"),f(!1))},children:[(0,t.jsx)(r.P31,{})," Dashboard"]}),(0,t.jsxs)("button",{onClick:()=>{i.logout(),n(null),f(!1),w("login")},children:[(0,t.jsx)(r.fHX,{})," Sign Out"]})]})]}):(0,t.jsxs)("button",{onClick:()=>O("login"),children:[(0,t.jsx)(r.Xws,{})," Login"]})]})]}),(0,t.jsxs)("div",{className:"mobile-menu ".concat(e?"open":""),children:[(0,t.jsxs)("div",{className:"menu-header",children:[(0,t.jsx)("button",{className:"close-btn",onClick:T,children:(0,t.jsx)(r.aHS,{})}),(0,t.jsxs)("div",{className:"logo-title",children:[(0,t.jsx)("img",{src:"/u-13.png",alt:"VenSport Logo",className:"logo"}),(0,t.jsx)("h1",{children:"VenSport U-13 League"})]})]}),(0,t.jsx)("button",{onClick:()=>O("home"),children:"Home"}),(0,t.jsx)("button",{onClick:()=>O("clubs"),children:"Clubs"}),(0,t.jsx)("button",{onClick:()=>O("results"),children:"Fixtures & Results"}),(0,t.jsx)("button",{onClick:()=>O("table"),children:"League Table"}),(0,t.jsx)("button",{onClick:()=>O("gallery"),children:"Gallery"}),(0,t.jsx)("button",{onClick:()=>O("news"),children:"News"}),(0,t.jsx)("button",{onClick:()=>O("contact"),children:"Contact"}),(0,t.jsx)("button",{onClick:()=>O("about"),children:"About"}),(0,t.jsxs)("button",{onClick:()=>O("login"),children:[(0,t.jsx)(r.Xws,{})," Login"]})]}),(0,t.jsxs)("div",{className:"main-content ".concat(e?"blurred":""),children:[(0,t.jsx)("main",{children:(()=>{switch(y){case"clubs":return(0,t.jsx)(c,{});case"results":return(0,t.jsx)(d,{});case"table":return(0,t.jsx)(m,{});case"gallery":return(0,t.jsx)(h,{});case"news":return(0,t.jsx)(u,{onNavigate:O});case"story":return(0,t.jsx)(x,{storyId:b,onNavigate:O});case"contact":return(0,t.jsx)(g,{});case"about":return(0,t.jsx)(j,{});case"login":return(0,t.jsx)(p,{});case"admin-dashboard":return(0,t.jsx)(v,{});case"team-dashboard":return(0,t.jsx)(S,{});default:return(0,t.jsx)(o,{onNavigate:O})}})()}),(0,t.jsxs)("footer",{className:"footer",children:[(0,t.jsxs)("div",{className:"footer-top",children:[(0,t.jsxs)("div",{className:"logo-title",children:[(0,t.jsx)("img",{src:"/u-13.png",alt:"VenSport Logo",className:"logo"}),(0,t.jsx)("h1",{children:"VenSport U-13 League"})]}),(0,t.jsxs)("div",{className:"social-links",children:[(0,t.jsx)("a",{href:"https://facebook.com",target:"_blank",rel:"noopener noreferrer",children:(0,t.jsx)(r.Am9,{})}),(0,t.jsx)("a",{href:"https://twitter.com",target:"_blank",rel:"noopener noreferrer",children:(0,t.jsx)(r.fWC,{})}),(0,t.jsx)("a",{href:"https://instagram.com",target:"_blank",rel:"noopener noreferrer",children:(0,t.jsx)(r.Zf_,{})}),(0,t.jsx)("a",{href:"https://youtube.com",target:"_blank",rel:"noopener noreferrer",children:(0,t.jsx)(r.V2E,{})})]})]}),(0,t.jsxs)("div",{className:"partners",children:[(0,t.jsx)("p",{children:"Partners"}),(0,t.jsxs)("div",{className:"partners-links",children:[(0,t.jsx)("a",{href:"https://www.coca-cola.com/",target:"_blank",rel:"noopener noreferrer",children:(0,t.jsx)("img",{src:"/coke.svg",alt:"Coca-Cola",className:"partner-logo"})}),(0,t.jsx)("a",{href:"https://indomie.ng/",target:"_blank",rel:"noopener noreferrer",children:(0,t.jsx)("img",{src:"/indomie.png",alt:"Indomie",className:"partner-logo"})}),(0,t.jsx)("a",{href:"https://lssc.lg.gov.ng/",target:"_blank",rel:"noopener noreferrer",children:(0,t.jsx)("img",{src:"/lssc.png",alt:"LSSC",className:"partner-logo"})}),(0,t.jsx)("a",{href:"https://www.lagosfa.com.ng/",target:"_blank",rel:"noopener noreferrer",children:(0,t.jsx)("img",{src:"/lsfa.png",alt:"Lagos FA",className:"partner-logo"})}),(0,t.jsx)("a",{href:"https://www.nestle.com/",target:"_blank",rel:"noopener noreferrer",children:(0,t.jsx)("img",{src:"https://logos-world.net/wp-content/uploads/2020/09/Nestle-Logo.png",alt:"Nestle",className:"partner-logo"})}),(0,t.jsx)("a",{href:"https://beloxxigroup.com/",target:"_blank",rel:"noopener noreferrer",children:(0,t.jsx)("img",{src:"/beloxxi.png",alt:"Beloxxi",className:"partner-logo"})})]})]}),(0,t.jsx)("p",{children:"\xa9 2026 VenSport U-13 League. All rights reserved."})]})]}),e&&(0,t.jsx)("div",{className:"overlay",onClick:T})]})}},622:function(e,a,s){"use strict";var t=s(2265),l=Symbol.for("react.element"),r=Symbol.for("react.fragment"),i=Object.prototype.hasOwnProperty,n=t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,o={key:!0,ref:!0,__self:!0,__source:!0};function c(e,a,s){var t,r={},c=null,d=null;for(t in void 0!==s&&(c=""+s),void 0!==a.key&&(c=""+a.key),void 0!==a.ref&&(d=a.ref),a)i.call(a,t)&&!o.hasOwnProperty(t)&&(r[t]=a[t]);if(e&&e.defaultProps)for(t in a=e.defaultProps)void 0===r[t]&&(r[t]=a[t]);return{$$typeof:l,type:e,key:c,ref:d,props:r,_owner:n.current}}a.Fragment=r,a.jsx=c,a.jsxs=c},7437:function(e,a,s){"use strict";e.exports=s(622)},3118:function(e,a,s){"use strict";s.d(a,{w_:function(){return d}});var t=s(2265),l={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},r=t.createContext&&t.createContext(l),i=["attr","size","title"];function n(){return(n=Object.assign?Object.assign.bind():function(e){for(var a=1;a<arguments.length;a++){var s=arguments[a];for(var t in s)Object.prototype.hasOwnProperty.call(s,t)&&(e[t]=s[t])}return e}).apply(this,arguments)}function o(e,a){var s=Object.keys(e);if(Object.getOwnPropertySymbols){var t=Object.getOwnPropertySymbols(e);a&&(t=t.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),s.push.apply(s,t)}return s}function c(e){for(var a=1;a<arguments.length;a++){var s=null!=arguments[a]?arguments[a]:{};a%2?o(Object(s),!0).forEach(function(a){var t,l;t=a,l=s[a],(t=function(e){var a=function(e,a){if("object"!=typeof e||!e)return e;var s=e[Symbol.toPrimitive];if(void 0!==s){var t=s.call(e,a||"default");if("object"!=typeof t)return t;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===a?String:Number)(e)}(e,"string");return"symbol"==typeof a?a:a+""}(t))in e?Object.defineProperty(e,t,{value:l,enumerable:!0,configurable:!0,writable:!0}):e[t]=l}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(s)):o(Object(s)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(s,a))})}return e}function d(e){return a=>t.createElement(m,n({attr:c({},e.attr)},a),function e(a){return a&&a.map((a,s)=>t.createElement(a.tag,c({key:s},a.attr),e(a.child)))}(e.child))}function m(e){var a=a=>{var s,{attr:l,size:r,title:o}=e,d=function(e,a){if(null==e)return{};var s,t,l=function(e,a){if(null==e)return{};var s={};for(var t in e)if(Object.prototype.hasOwnProperty.call(e,t)){if(a.indexOf(t)>=0)continue;s[t]=e[t]}return s}(e,a);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);for(t=0;t<r.length;t++)s=r[t],!(a.indexOf(s)>=0)&&Object.prototype.propertyIsEnumerable.call(e,s)&&(l[s]=e[s])}return l}(e,i),m=r||a.size||"1em";return a.className&&(s=a.className),e.className&&(s=(s?s+" ":"")+e.className),t.createElement("svg",n({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},a.attr,l,d,{className:s,style:c(c({color:e.color||a.color},a.style),e.style),height:m,width:m,xmlns:"http://www.w3.org/2000/svg"}),o&&t.createElement("title",null,o),e.children)};return void 0!==r?t.createElement(r.Consumer,null,e=>a(e)):a(l)}}},function(e){e.O(0,[699,971,938,744],function(){return e(e.s=7754)}),_N_E=e.O()}]);