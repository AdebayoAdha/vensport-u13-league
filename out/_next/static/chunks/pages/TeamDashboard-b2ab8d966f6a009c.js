(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[266],{9305:function(e,a,l){(window.__NEXT_P=window.__NEXT_P||[]).push(["/TeamDashboard",function(){return l(4653)}])},4653:function(e,a,l){"use strict";l.r(a),l.d(a,{default:function(){return o}});var t=l(5893),r=l(7294),s=l(2091),i=function(e){let{onTeamRegistered:a}=e,[l,s]=(0,r.useState)({}),[i,n]=(0,r.useState)(""),o=e=>{if("file"===e.target.type&&e.target.files[0]){let a=new FileReader;a.onload=a=>{s({...l,[e.target.name]:a.target.result})},a.readAsDataURL(e.target.files[0])}else s({...l,[e.target.name]:e.target.value})};return(0,t.jsx)("section",{className:"section",children:(0,t.jsxs)("div",{className:"auth-card",children:[(0,t.jsx)("h2",{children:"Register Your Team"}),i&&(0,t.jsx)("p",{className:"auth-message",children:i}),(0,t.jsxs)("form",{className:"login-form",onSubmit:e=>{e.preventDefault();try{let e=JSON.parse(localStorage.getItem("currentUser")),t=JSON.parse(localStorage.getItem("teams")||"[]"),r={id:Date.now(),...l,coachId:e.id,coachEmail:e.email,createdAt:new Date().toISOString()};t.push(r),localStorage.setItem("teams",JSON.stringify(t)),e.teamId=r.id,localStorage.setItem("currentUser",JSON.stringify(e)),n("Team registered successfully! Now register your players."),setTimeout(()=>a(),1500)}catch(e){n("Error registering team")}},children:[(0,t.jsx)("input",{type:"text",name:"teamName",placeholder:"Team Name",onChange:o,required:!0}),(0,t.jsx)("input",{type:"text",name:"teamCoach",placeholder:"Team Coach",onChange:o,required:!0}),(0,t.jsx)("input",{type:"email",name:"teamEmail",placeholder:"Team Email",onChange:o,required:!0}),(0,t.jsx)("input",{type:"file",name:"teamLogo",accept:"image/*",onChange:o,required:!0}),(0,t.jsx)("input",{type:"tel",name:"coachNumber",placeholder:"Coach Phone Number",onChange:o,required:!0}),(0,t.jsx)("button",{type:"submit",children:"Register Team"})]})]})})},n=function(e){let{onPlayersRegistered:a}=e,[l,s]=(0,r.useState)(Array(20).fill().map(()=>({fullName:"",dateOfBirth:"",position:"",playerNumber:"",guardianName:"",guardianNumber:""}))),[i,n]=(0,r.useState)(""),o=(e,a,t)=>{let r=l.map((l,r)=>r===e?{...l,[a]:t}:l);s(r),"fullName"===a&&t.trim()&&d(r)},d=e=>{try{let a=JSON.parse(localStorage.getItem("currentUser")),l=JSON.parse(localStorage.getItem("teams")||"[]"),t=l.findIndex(e=>e.coachEmail===a.email||e.teamEmail===a.email);-1!==t&&(l[t].players=e,localStorage.setItem("teams",JSON.stringify(l)))}catch(e){console.error("Error saving players:",e)}};return(0,t.jsx)("section",{className:"section",children:(0,t.jsxs)("div",{className:"player-registration-container",children:[(0,t.jsx)("h2",{children:"Register Players (20 Players)"}),i&&(0,t.jsx)("p",{className:"auth-message",children:i}),(0,t.jsxs)("form",{className:"player-form",onSubmit:e=>{if(e.preventDefault(),l.filter(e=>e.fullName.trim()).length<15){n("Minimum 15 players required to register the team.");return}try{d(l),n("Players registered successfully!"),setTimeout(()=>a(),1500)}catch(e){n("Error registering players")}},children:[l.map((e,a)=>(0,t.jsxs)("div",{className:"player-card",children:[(0,t.jsxs)("h4",{children:["Player ",a+1]}),(0,t.jsxs)("div",{className:"player-row",children:[(0,t.jsx)("input",{type:"text",placeholder:"Player Full Name",value:e.fullName,onChange:e=>o(a,"fullName",e.target.value)}),(0,t.jsx)("input",{type:"date",placeholder:"Date of Birth",value:e.dateOfBirth,onChange:e=>o(a,"dateOfBirth",e.target.value)})]}),(0,t.jsxs)("div",{className:"player-row",children:[(0,t.jsx)("input",{type:"text",placeholder:"Position",value:e.position,onChange:e=>o(a,"position",e.target.value)}),(0,t.jsx)("input",{type:"number",placeholder:"Player Number",value:e.playerNumber,onChange:e=>o(a,"playerNumber",e.target.value)})]}),(0,t.jsxs)("div",{className:"player-row",children:[(0,t.jsx)("input",{type:"text",placeholder:"Guardian Name",value:e.guardianName,onChange:e=>o(a,"guardianName",e.target.value)}),(0,t.jsx)("input",{type:"tel",placeholder:"Guardian Number",value:e.guardianNumber,onChange:e=>o(a,"guardianNumber",e.target.value)})]})]},a)),(0,t.jsx)("div",{className:"form-actions",children:(0,t.jsx)("button",{type:"submit",className:"register-btn",children:"Register All Players"})})]})]})})},o=function(){let[e,a]=(0,r.useState)(!1),[l,o]=(0,r.useState)(!1),[d,c]=(0,r.useState)(!1),[m,u]=(0,r.useState)(!1),[h,g]=(0,r.useState)(!1),[p,x]=(0,r.useState)(!1),[j,N]=(0,r.useState)(!1),[v,f]=(0,r.useState)([]),[y,S]=(0,r.useState)([]),[b,w]=(0,r.useState)(null),[O,C]=(0,r.useState)([]),[D,I]=(0,r.useState)(null),[E,T]=(0,r.useState)({}),[P,J]=(0,r.useState)(!1),[L,k]=(0,r.useState)(!1),[A,F]=(0,r.useState)({}),[q,R]=(0,r.useState)({goalkeepers:0,defenders:0,midfielders:0,attackers:0}),[G,B]=(0,r.useState)(0);(0,r.useEffect)(()=>{var e;let l=JSON.parse(localStorage.getItem("currentUser")),t=null,r=(null==(t=(null==l?void 0:l.teamData)?l.teamData:(null==l?void 0:l.teamName)?JSON.parse(localStorage.getItem("teams")||"[]").find(e=>e.teamName===l.teamName):JSON.parse(localStorage.getItem("teams")||"[]").find(e=>e.teamEmail===(null==l?void 0:l.email)))?void 0:null===(e=t.players)||void 0===e?void 0:e.filter(e=>{var a;return null===(a=e.fullName)||void 0===a?void 0:a.trim()}))||[];if(a(!!t),o(r.length>0),w(t),t&&M(r),t&&c(!0),(()=>{let e=JSON.parse(localStorage.getItem("teams")||"[]"),a=JSON.parse(localStorage.getItem("fixtures")||"[]"),l={};e.forEach(e=>{l[e.teamName]={teamName:e.teamName,teamLogo:e.teamLogo,played:0,won:0,drawn:0,lost:0,goalsFor:0,goalsAgainst:0,points:0}}),a.forEach(e=>{if(void 0!==e.homeScore&&void 0!==e.awayScore){let a=e.homeTeam,t=e.awayTeam,r=e.homeScore,s=e.awayScore;l[a]&&l[t]&&(l[a].played++,l[t].played++,l[a].goalsFor+=r,l[a].goalsAgainst+=s,l[t].goalsFor+=s,l[t].goalsAgainst+=r,r>s?(l[a].won++,l[a].points+=3,l[t].lost++):r<s?(l[t].won++,l[t].points+=3,l[a].lost++):(l[a].drawn++,l[t].drawn++,l[a].points+=1,l[t].points+=1))}}),C(Object.values(l).map(a=>{let l=e.find(e=>e.teamName===a.teamName);return{...a,goalDifference:a.goalsFor-a.goalsAgainst,disqualified:(null==l?void 0:l.disqualified)||!1}}).sort((e,a)=>e.disqualified&&!a.disqualified?1:!e.disqualified&&a.disqualified?-1:e.points!==a.points?a.points-e.points:e.goalDifference!==a.goalDifference?a.goalDifference-e.goalDifference:a.goalsFor-e.goalsFor).map((e,a)=>({...e,position:a+1})))})(),t){let e=JSON.parse(localStorage.getItem("fixtures")||"[]").filter(e=>e.homeTeam===t.teamName||e.awayTeam===t.teamName),a=e.filter(e=>void 0===e.homeScore),l=e.filter(e=>void 0!==e.homeScore);f(a),S(l)}},[]);let U=()=>{var e;J(!1);let a=JSON.parse(localStorage.getItem("currentUser")),l=JSON.parse(localStorage.getItem("teams")||"[]"),t=null,r=(null==(t=(null==a?void 0:a.teamData)?l.find(e=>e.teamName===a.teamData.teamName):(null==a?void 0:a.teamName)?l.find(e=>e.teamName===a.teamName):l.find(e=>e.teamEmail===(null==a?void 0:a.email)||e.coachEmail===(null==a?void 0:a.email)))?void 0:null===(e=t.players)||void 0===e?void 0:e.filter(e=>{var a;return null===(a=e.fullName)||void 0===a?void 0:a.trim()}))||[];o(r.length>0),w(t),c(!0),t&&M(r)},_=e=>{I(e),T(b.players[e])},M=e=>{let a=e.filter(e=>{var a,l;return(null===(a=e.position)||void 0===a?void 0:a.toLowerCase().includes("goalkeeper"))||(null===(l=e.position)||void 0===l?void 0:l.toLowerCase().includes("gk"))}).length;R({goalkeepers:a,defenders:e.filter(e=>{var a,l;return(null===(a=e.position)||void 0===a?void 0:a.toLowerCase().includes("defender"))||(null===(l=e.position)||void 0===l?void 0:l.toLowerCase().includes("defence"))}).length,midfielders:e.filter(e=>{var a,l;return(null===(a=e.position)||void 0===a?void 0:a.toLowerCase().includes("midfielder"))||(null===(l=e.position)||void 0===l?void 0:l.toLowerCase().includes("midfield"))}).length,attackers:e.filter(e=>{var a,l,t;return(null===(a=e.position)||void 0===a?void 0:a.toLowerCase().includes("attacker"))||(null===(l=e.position)||void 0===l?void 0:l.toLowerCase().includes("forward"))||(null===(t=e.position)||void 0===t?void 0:t.toLowerCase().includes("striker"))}).length}),B(e.length>0?Math.round(e.reduce((e,a)=>a.dateOfBirth?e+(new Date().getFullYear()-new Date(a.dateOfBirth).getFullYear()):e,0)/e.length):0)},V=e=>{let a=JSON.parse(localStorage.getItem("currentUser")),l=JSON.parse(localStorage.getItem("teams")||"[]"),t=-1;-1!==(t=(null==a?void 0:a.teamData)?l.findIndex(e=>e.teamName===a.teamData.teamName):(null==a?void 0:a.teamName)?l.findIndex(e=>e.teamName===a.teamName):l.findIndex(e=>e.teamEmail===(null==a?void 0:a.email)||e.coachEmail===(null==a?void 0:a.email)))&&(l[t].players||(l[t].players=Array(20).fill().map(()=>({fullName:"",dateOfBirth:"",position:"",playerNumber:"",guardianName:"",guardianNumber:""}))),l[t].players[e]=E,localStorage.setItem("teams",JSON.stringify(l)),w(l[t]),M(l[t].players.filter(e=>{var a;return null===(a=e.fullName)||void 0===a?void 0:a.trim()}))),I(null),T({})},W=()=>{I(null),T({})},X=(e,a)=>{if("playerImage"===e&&a){let l=new FileReader;l.onload=a=>{T({...E,[e]:a.target.result})},l.readAsDataURL(a)}else T({...E,[e]:a})},Y=e=>{if(b.players.filter(e=>{var a;return null===(a=e.fullName)||void 0===a?void 0:a.trim()}).length<=15){alert("Cannot remove player. Minimum 15 players required.");return}let a=JSON.parse(localStorage.getItem("currentUser")),l=JSON.parse(localStorage.getItem("teams")||"[]"),t=-1;-1!==(t=(null==a?void 0:a.teamData)?l.findIndex(e=>e.teamName===a.teamData.teamName):(null==a?void 0:a.teamName)?l.findIndex(e=>e.teamName===a.teamName):l.findIndex(e=>e.teamEmail===(null==a?void 0:a.email)||e.coachEmail===(null==a?void 0:a.email)))&&(l[t].players[e]={fullName:"",dateOfBirth:"",position:"",playerNumber:"",guardianName:"",guardianNumber:""},localStorage.setItem("teams",JSON.stringify(l)),w(l[t]),M(l[t].players.filter(e=>{var a;return null===(a=e.fullName)||void 0===a?void 0:a.trim()})))},z=(e,a)=>{let l=e.target.files[0];if(l){let e=new FileReader;e.onload=e=>{F({...A,[a]:e.target.result})},e.readAsDataURL(l)}};return e||b?b&&!l?(0,t.jsx)(n,{onPlayersRegistered:U}):(0,t.jsxs)("section",{className:"section",children:[(0,t.jsx)("h2",{children:"Team Dashboard"}),(0,t.jsxs)("div",{className:"dashboard-grid",children:[(0,t.jsxs)("div",{className:"dashboard-card",onClick:()=>{let e=JSON.parse(localStorage.getItem("currentUser")),a=JSON.parse(localStorage.getItem("teams")||"[]"),l=null;if(l=(null==e?void 0:e.teamData)?a.find(a=>a.teamName===e.teamData.teamName):(null==e?void 0:e.teamName)?a.find(a=>a.teamName===e.teamName):a.find(a=>a.teamEmail===(null==e?void 0:e.email)||a.coachEmail===(null==e?void 0:e.email))){var t;w(l);let e=(null==l?void 0:null===(t=l.players)||void 0===t?void 0:t.filter(e=>{var a;return null===(a=e.fullName)||void 0===a?void 0:a.trim()}))||[];M(e),0===e.length?J(!0):(c(!0),u(!1),g(!1),k(!1),x(!1),N(!1))}},children:[(0,t.jsx)("h3",{children:"My Team"}),(0,t.jsx)("p",{children:"View and manage your team roster"})]}),(0,t.jsxs)("div",{className:"dashboard-card",onClick:()=>{x(!0),N(!1),u(!1),g(!1),c(!1),k(!1)},children:[(0,t.jsx)("h3",{children:"Upcoming Matches"}),(0,t.jsx)("p",{children:"View scheduled fixtures for your team"})]}),(0,t.jsxs)("div",{className:"dashboard-card",onClick:()=>{N(!0),x(!1),u(!1),g(!1),c(!1),k(!1)},children:[(0,t.jsx)("h3",{children:"Match Results"}),(0,t.jsx)("p",{children:"View past match results and statistics"})]}),(0,t.jsxs)("div",{className:"dashboard-card",onClick:()=>{u(!0),g(!1),c(!1),k(!1),x(!1),N(!1)},children:[(0,t.jsx)("h3",{children:"League Table"}),(0,t.jsx)("p",{children:"View current league standings"})]}),(0,t.jsxs)("div",{className:"dashboard-card",onClick:()=>{g(!0),u(!1),c(!1),k(!1),x(!1),N(!1)},children:[(0,t.jsx)("h3",{children:"Team Statistics"}),(0,t.jsx)("p",{children:"View team performance and player stats"})]}),(0,t.jsxs)("div",{className:"dashboard-card",onClick:()=>{k(!0),g(!1),u(!1),c(!1),x(!1),N(!1),b&&F({teamName:b.teamName,teamCoach:b.teamCoach,coachEmail:b.teamEmail,teamEmail:b.teamEmail,coachNumber:b.coachNumber,coachImage:b.coachImage,teamLogo:b.teamLogo})},children:[(0,t.jsx)("h3",{children:"Edit Details"}),(0,t.jsx)("p",{children:"Edit coach and team information"})]})]}),P&&(0,t.jsx)(n,{onPlayersRegistered:U}),d&&!L&&!p&&!j&&!m&&!h&&(null==b?void 0:b.players)&&(0,t.jsxs)("div",{className:"players-display",children:[(0,t.jsxs)("div",{className:"roster-header",children:[(0,t.jsxs)("h3",{children:["Team Roster (",b.players.filter(e=>{var a;return null===(a=e.fullName)||void 0===a?void 0:a.trim()}).length,"/20)"]}),(0,t.jsx)("button",{className:"add-player-btn",onClick:()=>{if(b.players.filter(e=>{var a;return null===(a=e.fullName)||void 0===a?void 0:a.trim()}).length>=20){alert("Cannot add more players. Maximum 20 players allowed.");return}let e=JSON.parse(localStorage.getItem("currentUser")),a=JSON.parse(localStorage.getItem("teams")||"[]"),l=-1;if(-1!==(l=(null==e?void 0:e.teamData)?a.findIndex(a=>a.teamName===e.teamData.teamName):(null==e?void 0:e.teamName)?a.findIndex(a=>a.teamName===e.teamName):a.findIndex(a=>a.teamEmail===(null==e?void 0:e.email)||a.coachEmail===(null==e?void 0:e.email)))){a[l].players||(a[l].players=Array(20).fill().map(()=>({fullName:"",dateOfBirth:"",position:"",playerNumber:"",guardianName:"",guardianNumber:""})));let e=a[l].players.findIndex(e=>{var a;return!(null===(a=e.fullName)||void 0===a?void 0:a.trim())});-1!==e&&(I(e),T({fullName:"",dateOfBirth:"",position:"",playerNumber:"",guardianName:"",guardianNumber:""}))}},disabled:b.players.filter(e=>{var a;return null===(a=e.fullName)||void 0===a?void 0:a.trim()}).length>=20,children:"Add Player"})]}),(0,t.jsx)("div",{className:"players-grid",children:b.players.filter(e=>{var a;return null===(a=e.fullName)||void 0===a?void 0:a.trim()}).length>0?b.players.filter(e=>{var a;return null===(a=e.fullName)||void 0===a?void 0:a.trim()}).map((e,a)=>{let l=b.players.indexOf(e);return(0,t.jsx)("div",{className:"player-info-card",children:D===l?(0,t.jsxs)("div",{className:"edit-form",children:[(0,t.jsxs)("div",{className:"image-upload",children:[(0,t.jsx)("div",{className:"player-image-placeholder",children:E.playerImage?(0,t.jsx)("img",{src:E.playerImage,alt:"Preview",className:"player-image"}):(0,t.jsx)(s.Xws,{})}),(0,t.jsx)("input",{type:"file",accept:"image/*",onChange:e=>X("playerImage",e.target.files[0]),id:"image-".concat(l)}),(0,t.jsx)("label",{htmlFor:"image-".concat(l),className:"image-upload-label",children:"Upload Photo"})]}),(0,t.jsx)("input",{type:"text",value:E.fullName||"",onChange:e=>X("fullName",e.target.value),placeholder:"Full Name"}),(0,t.jsx)("input",{type:"date",value:E.dateOfBirth||"",onChange:e=>X("dateOfBirth",e.target.value)}),(0,t.jsx)("input",{type:"text",value:E.position||"",onChange:e=>X("position",e.target.value),placeholder:"Position"}),(0,t.jsx)("input",{type:"number",value:E.playerNumber||"",onChange:e=>X("playerNumber",e.target.value),placeholder:"Player Number"}),(0,t.jsx)("input",{type:"text",value:E.guardianName||"",onChange:e=>X("guardianName",e.target.value),placeholder:"Guardian Name"}),(0,t.jsx)("input",{type:"tel",value:E.guardianNumber||"",onChange:e=>X("guardianNumber",e.target.value),placeholder:"Guardian Number"}),(0,t.jsxs)("div",{className:"edit-buttons",children:[(0,t.jsx)("button",{onClick:()=>V(l),children:"Save"}),(0,t.jsx)("button",{onClick:W,children:"Cancel"})]})]}):(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)("div",{className:"player-image-placeholder",children:e.playerImage?(0,t.jsx)("img",{src:e.playerImage,alt:"Player",className:"player-image"}):(0,t.jsx)(s.Xws,{})}),(0,t.jsxs)("p",{children:[(0,t.jsx)("strong",{children:"Name:"})," ",e.fullName]}),(0,t.jsxs)("p",{children:[(0,t.jsx)("strong",{children:"DOB:"})," ",e.dateOfBirth," ",e.dateOfBirth?"(Age: ".concat(new Date().getFullYear()-new Date(e.dateOfBirth).getFullYear(),")"):""]}),(0,t.jsxs)("p",{children:[(0,t.jsx)("strong",{children:"Position:"})," ",e.position]}),(0,t.jsxs)("p",{children:[(0,t.jsx)("strong",{children:"Number:"})," ",e.playerNumber]}),(0,t.jsxs)("p",{children:[(0,t.jsx)("strong",{children:"Guardian:"})," ",e.guardianName]}),(0,t.jsxs)("p",{children:[(0,t.jsx)("strong",{children:"Guardian Phone:"})," ",e.guardianNumber]}),(0,t.jsxs)("div",{className:"player-actions",children:[(0,t.jsx)("button",{className:"edit-btn",onClick:()=>_(l),children:"Edit"}),(0,t.jsx)("button",{className:"remove-btn",onClick:()=>Y(l),disabled:b.players.filter(e=>{var a;return null===(a=e.fullName)||void 0===a?void 0:a.trim()}).length<=15,children:"Remove"})]})]})},l)}):(0,t.jsx)("p",{children:"No players registered yet. Click 'Add Player' to start adding players to your roster."})})]}),p&&!d&&!L&&!j&&!m&&!h&&(0,t.jsxs)("div",{className:"fixtures-display",children:[(0,t.jsx)("h3",{children:"Upcoming Matches"}),0===v.length?(0,t.jsx)("p",{children:"No upcoming matches scheduled."}):(0,t.jsx)("div",{className:"round-fixtures",children:v.map((e,a)=>(0,t.jsxs)("div",{className:"fixture-card",children:[(0,t.jsxs)("div",{className:"fixture-teams",children:[(0,t.jsx)("span",{className:"home-team",children:e.homeTeam}),(0,t.jsx)("span",{className:"vs",children:"vs"}),(0,t.jsx)("span",{className:"away-team",children:e.awayTeam})]}),(0,t.jsxs)("div",{className:"fixture-details",children:[(0,t.jsxs)("p",{children:[(0,t.jsx)("strong",{children:"Round:"})," ",e.round]}),(0,t.jsxs)("p",{children:[(0,t.jsx)("strong",{children:"Date:"})," ",e.date||"TBD"]}),(0,t.jsxs)("p",{children:[(0,t.jsx)("strong",{children:"Time:"})," ",e.time||"TBD"]}),(0,t.jsxs)("p",{children:[(0,t.jsx)("strong",{children:"Venue:"})," ",e.venue||"TBD"]})]}),(0,t.jsx)("div",{className:"fixture-status",children:(0,t.jsx)("span",{className:"status scheduled",children:"Scheduled"})})]},a))})]}),j&&!d&&!L&&!p&&!m&&!h&&(0,t.jsxs)("div",{className:"fixtures-display",children:[(0,t.jsx)("h3",{children:"Match Results"}),0===y.length?(0,t.jsx)("p",{children:"No completed matches yet."}):(0,t.jsx)("div",{className:"round-fixtures",children:y.map((e,a)=>{var l,r,s,i;return(0,t.jsxs)("div",{className:"fixture-card",children:[(0,t.jsxs)("div",{className:"fixture-teams",children:[(0,t.jsx)("span",{className:"home-team",children:e.homeTeam}),(0,t.jsx)("span",{className:"vs",children:"vs"}),(0,t.jsx)("span",{className:"away-team",children:e.awayTeam})]}),(0,t.jsxs)("div",{className:"fixture-details",children:[(0,t.jsxs)("p",{children:[(0,t.jsx)("strong",{children:"Round:"})," ",e.round]}),(0,t.jsxs)("p",{children:[(0,t.jsx)("strong",{children:"Date:"})," ",e.date]}),(0,t.jsxs)("p",{children:[(0,t.jsx)("strong",{children:"Time:"})," ",e.time]}),(0,t.jsxs)("p",{children:[(0,t.jsx)("strong",{children:"Venue:"})," ",e.venue]})]}),(0,t.jsxs)("div",{className:"fixture-result",children:[(0,t.jsxs)("span",{className:"result",children:[e.homeScore," - ",e.awayScore]}),(0,t.jsx)("span",{className:"status",children:e.forfeit?"Forfeit":"Final"}),e.forfeit&&(0,t.jsx)("div",{className:"cancel-reason",children:e.cancelReason}),((null===(l=e.homeGoals)||void 0===l?void 0:l.length)>0||(null===(r=e.awayGoals)||void 0===r?void 0:r.length)>0)&&(0,t.jsxs)("div",{className:"match-details",children:[null===(s=e.homeGoals)||void 0===s?void 0:s.map((a,l)=>(0,t.jsxs)("div",{className:"goal-detail",children:[(0,t.jsxs)("strong",{children:[e.homeTeam,":"]})," ",a.scorer," ",a.time,a.assist&&(0,t.jsxs)("span",{className:"assist",children:[" (Assist: ",a.assist,")"]})]},l)),null===(i=e.awayGoals)||void 0===i?void 0:i.map((a,l)=>(0,t.jsxs)("div",{className:"goal-detail",children:[(0,t.jsxs)("strong",{children:[e.awayTeam,":"]})," ",a.scorer," ",a.time,a.assist&&(0,t.jsxs)("span",{className:"assist",children:[" (Assist: ",a.assist,")"]})]},l)),(e.homeCleanSheet||e.awayCleanSheet)&&(0,t.jsxs)("div",{className:"cleansheet-details",children:[e.homeCleanSheet&&(0,t.jsxs)("div",{className:"cleansheet",children:["\uD83E\uDD45 ",e.homeTeam,": ",e.homeCleanSheet]}),e.awayCleanSheet&&(0,t.jsxs)("div",{className:"cleansheet",children:["\uD83E\uDD45 ",e.awayTeam,": ",e.awayCleanSheet]})]})]})]})]},a)})})]}),m&&!d&&!L&&!p&&!j&&!h&&(0,t.jsxs)("div",{className:"league-table-container",children:[(0,t.jsx)("h3",{children:"League Table"}),(0,t.jsxs)("table",{className:"league-table",children:[(0,t.jsx)("thead",{children:(0,t.jsxs)("tr",{children:[(0,t.jsx)("th",{children:"Pos"}),(0,t.jsx)("th",{children:"Team"}),(0,t.jsx)("th",{children:"P"}),(0,t.jsx)("th",{children:"W"}),(0,t.jsx)("th",{children:"D"}),(0,t.jsx)("th",{children:"L"}),(0,t.jsx)("th",{children:"GF"}),(0,t.jsx)("th",{children:"GA"}),(0,t.jsx)("th",{children:"GD"}),(0,t.jsx)("th",{children:"Pts"})]})}),(0,t.jsx)("tbody",{children:O.map(e=>{let a=JSON.parse(localStorage.getItem("teams")||"[]").find(a=>a.teamName===e.teamName);return(0,t.jsxs)("tr",{className:(null==a?void 0:a.disqualified)?"disqualified-row":"",children:[(0,t.jsx)("td",{children:e.position}),(0,t.jsxs)("td",{className:"team-cell",children:[(0,t.jsx)("img",{src:e.teamLogo||"/u-13.png",alt:"Team Logo",className:"table-team-logo"}),e.teamName,(null==a?void 0:a.disqualified)&&(0,t.jsx)("span",{className:"table-disqualified-badge",children:"Disqualified"})]}),(0,t.jsx)("td",{children:e.played}),(0,t.jsx)("td",{children:e.won}),(0,t.jsx)("td",{children:e.drawn}),(0,t.jsx)("td",{children:e.lost}),(0,t.jsx)("td",{children:e.goalsFor}),(0,t.jsx)("td",{children:e.goalsAgainst}),(0,t.jsx)("td",{children:e.goalDifference}),(0,t.jsx)("td",{children:(0,t.jsx)("strong",{children:e.points})})]},e.position)})})]})]}),h&&!d&&!L&&!p&&!j&&!m&&b&&(()=>{var e,a;let l=O.find(e=>e.teamName===b.teamName)||{played:0,won:0,drawn:0,lost:0,points:0,goalsFor:0,goalsAgainst:0,goalDifference:0},r=y.filter(e=>e.homeTeam===b.teamName&&0===e.awayScore||e.awayTeam===b.teamName&&0===e.homeScore).length,s=y.filter(e=>e.homeTeam===b.teamName),i=y.filter(e=>e.awayTeam===b.teamName),n=s.filter(e=>e.homeScore>e.awayScore).length,o=s.filter(e=>e.homeScore===e.awayScore).length,d=s.filter(e=>e.homeScore<e.awayScore).length,c=i.filter(e=>e.awayScore>e.homeScore).length,m=i.filter(e=>e.awayScore===e.homeScore).length,u=i.filter(e=>e.awayScore<e.homeScore).length,h=y.slice(-5).map(e=>e.homeTeam===b.teamName?e.homeScore>e.awayScore?"W":e.homeScore===e.awayScore?"D":"L":e.awayScore>e.homeScore?"W":e.awayScore===e.homeScore?"D":"L").join(" "),g=(null===(e=b.players)||void 0===e?void 0:e.filter(e=>{var a;return null===(a=e.fullName)||void 0===a?void 0:a.trim()}))||[];return(0,t.jsxs)("div",{className:"team-stats-display",children:[(0,t.jsxs)("h3",{children:[b.teamName," Statistics"]}),(0,t.jsxs)("div",{className:"stats-grid",children:[(0,t.jsxs)("div",{className:"stat-card",children:[(0,t.jsx)("h4",{children:"Team Overview"}),(0,t.jsxs)("p",{children:[(0,t.jsx)("strong",{children:"Matches Played:"})," ",l.played]}),(0,t.jsxs)("p",{children:[(0,t.jsx)("strong",{children:"Wins:"})," ",l.won]}),(0,t.jsxs)("p",{children:[(0,t.jsx)("strong",{children:"Draws:"})," ",l.drawn]}),(0,t.jsxs)("p",{children:[(0,t.jsx)("strong",{children:"Losses:"})," ",l.lost]}),(0,t.jsxs)("p",{children:[(0,t.jsx)("strong",{children:"Points:"})," ",l.points]})]}),(0,t.jsxs)("div",{className:"stat-card",children:[(0,t.jsx)("h4",{children:"Goals"}),(0,t.jsxs)("p",{children:[(0,t.jsx)("strong",{children:"Goals Scored:"})," ",l.goalsFor]}),(0,t.jsxs)("p",{children:[(0,t.jsx)("strong",{children:"Goals Conceded:"})," ",l.goalsAgainst]}),(0,t.jsxs)("p",{children:[(0,t.jsx)("strong",{children:"Goal Difference:"})," ",l.goalDifference>0?"+":"",l.goalDifference]}),(0,t.jsxs)("p",{children:[(0,t.jsx)("strong",{children:"Clean Sheets:"})," ",r]})]}),(0,t.jsxs)("div",{className:"stat-card",children:[(0,t.jsx)("h4",{children:"Squad"}),(0,t.jsxs)("p",{children:[(0,t.jsx)("strong",{children:"Total Players:"})," ",g.length]}),(0,t.jsxs)("p",{children:[(0,t.jsx)("strong",{children:"Average Age:"})," ",G>0?"".concat(G," years"):"N/A"]}),(0,t.jsxs)("p",{children:[(0,t.jsx)("strong",{children:"Goalkeepers:"})," ",q.goalkeepers]}),(0,t.jsxs)("p",{children:[(0,t.jsx)("strong",{children:"Defenders:"})," ",q.defenders]}),(0,t.jsxs)("p",{children:[(0,t.jsx)("strong",{children:"Midfielders:"})," ",q.midfielders]}),(0,t.jsxs)("p",{children:[(0,t.jsx)("strong",{children:"Attackers:"})," ",q.attackers]})]}),(0,t.jsxs)("div",{className:"stat-card",children:[(0,t.jsx)("h4",{children:"Form & Records"}),(0,t.jsxs)("p",{children:[(0,t.jsx)("strong",{children:"Last 5 Games:"})," ",h||"N/A"]}),(0,t.jsxs)("p",{children:[(0,t.jsx)("strong",{children:"Home Record:"})," ",n,"-",o,"-",d]}),(0,t.jsxs)("p",{children:[(0,t.jsx)("strong",{children:"Away Record:"})," ",c,"-",m,"-",u]}),(0,t.jsxs)("p",{children:[(0,t.jsx)("strong",{children:"League Position:"})," ",(null===(a=O.find(e=>e.teamName===b.teamName))||void 0===a?void 0:a.position)||"N/A"]})]})]})]})})(),L&&!d&&!p&&!j&&!m&&!h&&b&&(0,t.jsxs)("div",{className:"edit-details-display",children:[(0,t.jsx)("h3",{children:"Edit Coach & Team Details"}),(0,t.jsxs)("form",{onSubmit:e=>{e.preventDefault();let a=JSON.parse(localStorage.getItem("currentUser")),l=JSON.parse(localStorage.getItem("teams")||"[]"),t=l.findIndex(e=>e.teamEmail===a.email||e.coachEmail===a.email);if(-1!==t){l[t]={...l[t],...A},localStorage.setItem("teams",JSON.stringify(l));let e=JSON.parse(localStorage.getItem("users")||"[]"),r=e.findIndex(e=>e.email===a.email);-1!==r&&(e[r]={...e[r],fullName:A.teamCoach,email:A.coachEmail,coachImage:A.coachImage},localStorage.setItem("users",JSON.stringify(e))),w(l[t]),k(!1),alert("Details updated successfully!")}},children:[(0,t.jsxs)("div",{className:"edit-sections",children:[(0,t.jsxs)("div",{className:"edit-section",children:[(0,t.jsx)("h4",{children:"Coach Details"}),(0,t.jsxs)("div",{className:"image-section",children:[(0,t.jsx)("div",{className:"image-preview",children:A.coachImage?(0,t.jsx)("img",{src:A.coachImage,alt:"Coach",className:"preview-image"}):(0,t.jsx)(s.Xws,{className:"placeholder-icon"})}),(0,t.jsx)("input",{type:"file",accept:"image/*",onChange:e=>z(e,"coachImage"),id:"coach-image"}),(0,t.jsx)("label",{htmlFor:"coach-image",className:"image-upload-label",children:"Upload Coach Photo"})]}),(0,t.jsx)("input",{type:"text",placeholder:"Coach Name",value:A.teamCoach||"",onChange:e=>F({...A,teamCoach:e.target.value}),required:!0}),(0,t.jsx)("input",{type:"tel",placeholder:"Coach Phone",value:A.coachNumber||"",onChange:e=>F({...A,coachNumber:e.target.value}),required:!0}),(0,t.jsx)("input",{type:"email",placeholder:"Coach Email",value:A.coachEmail||"",onChange:e=>F({...A,coachEmail:e.target.value}),required:!0})]}),(0,t.jsxs)("div",{className:"edit-section",children:[(0,t.jsx)("h4",{children:"Team Details"}),(0,t.jsxs)("div",{className:"image-section",children:[(0,t.jsx)("div",{className:"image-preview",children:A.teamLogo?(0,t.jsx)("img",{src:A.teamLogo,alt:"Team Logo",className:"preview-image"}):(0,t.jsx)("div",{className:"placeholder-icon",children:"LOGO"})}),(0,t.jsx)("input",{type:"file",accept:"image/*",onChange:e=>z(e,"teamLogo"),id:"team-logo"}),(0,t.jsx)("label",{htmlFor:"team-logo",className:"image-upload-label",children:"Upload Team Logo"})]}),(0,t.jsx)("input",{type:"text",placeholder:"Team Name",value:A.teamName||"",onChange:e=>F({...A,teamName:e.target.value}),required:!0}),(0,t.jsx)("input",{type:"email",placeholder:"Team Email",value:A.teamEmail||"",onChange:e=>F({...A,teamEmail:e.target.value}),required:!0})]})]}),(0,t.jsxs)("div",{className:"form-actions",children:[(0,t.jsx)("button",{type:"submit",children:"Save Changes"}),(0,t.jsx)("button",{type:"button",onClick:()=>k(!1),children:"Cancel"})]})]})]})]}):(0,t.jsx)(i,{onTeamRegistered:()=>{let e=JSON.parse(localStorage.getItem("currentUser")),l=JSON.parse(localStorage.getItem("teams")||"[]").find(a=>a.teamEmail===(null==e?void 0:e.email));a(!!l),w(l)}})}},5054:function(e,a,l){"use strict";l.d(a,{w_:function(){return c}});var t=l(7294),r={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},s=t.createContext&&t.createContext(r),i=["attr","size","title"];function n(){return(n=Object.assign?Object.assign.bind():function(e){for(var a=1;a<arguments.length;a++){var l=arguments[a];for(var t in l)Object.prototype.hasOwnProperty.call(l,t)&&(e[t]=l[t])}return e}).apply(this,arguments)}function o(e,a){var l=Object.keys(e);if(Object.getOwnPropertySymbols){var t=Object.getOwnPropertySymbols(e);a&&(t=t.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),l.push.apply(l,t)}return l}function d(e){for(var a=1;a<arguments.length;a++){var l=null!=arguments[a]?arguments[a]:{};a%2?o(Object(l),!0).forEach(function(a){var t,r;t=a,r=l[a],(t=function(e){var a=function(e,a){if("object"!=typeof e||!e)return e;var l=e[Symbol.toPrimitive];if(void 0!==l){var t=l.call(e,a||"default");if("object"!=typeof t)return t;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===a?String:Number)(e)}(e,"string");return"symbol"==typeof a?a:a+""}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(l)):o(Object(l)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(l,a))})}return e}function c(e){return a=>t.createElement(m,n({attr:d({},e.attr)},a),function e(a){return a&&a.map((a,l)=>t.createElement(a.tag,d({key:l},a.attr),e(a.child)))}(e.child))}function m(e){var a=a=>{var l,{attr:r,size:s,title:o}=e,c=function(e,a){if(null==e)return{};var l,t,r=function(e,a){if(null==e)return{};var l={};for(var t in e)if(Object.prototype.hasOwnProperty.call(e,t)){if(a.indexOf(t)>=0)continue;l[t]=e[t]}return l}(e,a);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(t=0;t<s.length;t++)l=s[t],!(a.indexOf(l)>=0)&&Object.prototype.propertyIsEnumerable.call(e,l)&&(r[l]=e[l])}return r}(e,i),m=s||a.size||"1em";return a.className&&(l=a.className),e.className&&(l=(l?l+" ":"")+e.className),t.createElement("svg",n({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},a.attr,r,c,{className:l,style:d(d({color:e.color||a.color},a.style),e.style),height:m,width:m,xmlns:"http://www.w3.org/2000/svg"}),o&&t.createElement("title",null,o),e.children)};return void 0!==s?t.createElement(s.Consumer,null,e=>a(e)):a(r)}}},function(e){e.O(0,[774,365,888,179],function(){return e(e.s=9305)}),_N_E=e.O()}]);