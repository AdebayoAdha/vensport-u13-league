(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[797],{7334:function(e,a,s){(window.__NEXT_P=window.__NEXT_P||[]).push(["/AdminDashboard",function(){return s(4588)}])},4588:function(e,a,s){"use strict";s.r(a),s.d(a,{default:function(){return r}});var t=s(5893),l=s(7294),i=s(2091);let n=e=>{if(20!==e.length)throw Error("Fixture generation requires exactly 20 teams");let a=[],s=[...e];for(let e=0;e<19;e++){for(let t=0;t<10;t++){let l=s[t],i=s[19-t],n=Math.random()>.5;a.push({id:"R".concat(e+1,"M").concat(t+1),round:e+1,homeTeam:n?l:i,awayTeam:n?i:l,venue:(n?l:i).stadium||"".concat((n?l:i).name," Stadium"),status:"scheduled"})}s.splice(1,0,s.pop())}for(let e=0;e<19;e++)a.filter(a=>a.round===e+1).forEach((s,t)=>{a.push({id:"R".concat(e+20,"M").concat(t+1),round:e+20,homeTeam:s.awayTeam,awayTeam:s.homeTeam,venue:s.awayTeam.stadium||"".concat(s.awayTeam.name," Stadium"),status:"scheduled"})});return a};var r=function(){var e,a,s,r,o,c,d,m,u;let[h,x]=(0,l.useState)(!1),[g,p]=(0,l.useState)(!1),[j,f]=(0,l.useState)(!1),[v,N]=(0,l.useState)([]),[y,S]=(0,l.useState)([]),[w,b]=(0,l.useState)([]),[C,O]=(0,l.useState)(!0),[T,I]=(0,l.useState)(!1),[G,q]=(0,l.useState)({}),[D,A]=(0,l.useState)(!1),[E,k]=(0,l.useState)([]),[P,F]=(0,l.useState)(!1),[J,R]=(0,l.useState)({title:"",content:"",image:""}),[M,L]=(0,l.useState)(null),[_,U]=(0,l.useState)(!1),[X,H]=(0,l.useState)({teamName:"",teamCoach:"",teamEmail:"",coachNumber:""}),[V,z]=(0,l.useState)(!1),[B,W]=(0,l.useState)([]),[Y,K]=(0,l.useState)(!1),[Q,Z]=(0,l.useState)({homeTeam:"",awayTeam:"",date:"",time:"",venue:""}),[$,ee]=(0,l.useState)(null),[ea,es]=(0,l.useState)({}),[et,el]=(0,l.useState)(null),[ei,en]=(0,l.useState)({homeScore:0,awayScore:0,homeGoals:[],awayGoals:[],homeCleanSheet:"",awayCleanSheet:""}),[er,eo]=(0,l.useState)("all");return(0,l.useEffect)(()=>{let e=JSON.parse(localStorage.getItem("teams")||"[]");N(e);let a=JSON.parse(localStorage.getItem("fixtures")||"[]");W(a),(()=>{let s={};e.forEach(e=>{s[e.teamName]={teamName:e.teamName,teamLogo:e.teamLogo,played:0,won:0,drawn:0,lost:0,goalsFor:0,goalsAgainst:0,points:0}}),a.forEach(e=>{if(void 0!==e.homeScore&&void 0!==e.awayScore&&!e.cancelled){let a=e.homeTeam,t=e.awayTeam,l=e.homeScore,i=e.awayScore;s[a]&&s[t]&&(s[a].played++,s[t].played++,s[a].goalsFor+=l,s[a].goalsAgainst+=i,s[t].goalsFor+=i,s[t].goalsAgainst+=l,l>i?(s[a].won++,s[a].points+=3,s[t].lost++):l<i?(s[t].won++,s[t].points+=3,s[a].lost++):(s[a].drawn++,s[t].drawn++,s[a].points+=1,s[t].points+=1))}}),S(Object.values(s).map(e=>({...e,goalDifference:e.goalsFor-e.goalsAgainst})).sort((a,s)=>{let t=e.find(e=>e.teamName===a.teamName),l=e.find(e=>e.teamName===s.teamName);return(null==t?void 0:t.disqualified)&&!(null==l?void 0:l.disqualified)?1:!(null==t?void 0:t.disqualified)&&(null==l?void 0:l.disqualified)?-1:a.points!==s.points?s.points-a.points:a.goalDifference!==s.goalDifference?s.goalDifference-a.goalDifference:s.goalsFor-a.goalsFor}).map((e,a)=>({...e,position:a+1})))})(),b(JSON.parse(localStorage.getItem("users")||"[]").filter(e=>"coach"===e.role)),k(JSON.parse(localStorage.getItem("newsStories")||"[]"))},[]),(0,t.jsxs)("section",{className:"section",children:[(0,t.jsx)("h2",{children:"Admin Dashboard"}),(0,t.jsxs)("div",{className:"dashboard-grid",children:[(0,t.jsxs)("div",{className:"dashboard-card",onClick:()=>{x(!h),p(!1),f(!1),z(!1),K(!1),I(!1),A(!1),F(!1),L(null)},children:[(0,t.jsx)("h3",{children:"Manage Teams"}),(0,t.jsx)("p",{children:"Add, edit, or remove teams from the league"})]}),(0,t.jsxs)("div",{className:"dashboard-card",onClick:()=>{z(!V),x(!1),p(!1),f(!1),U(!1),K(!1),I(!1),A(!1),F(!1),L(null),eo("all")},children:[(0,t.jsx)("h3",{children:"Manage Fixtures"}),(0,t.jsx)("p",{children:"Schedule matches and update results"})]}),(0,t.jsxs)("div",{className:"dashboard-card",onClick:()=>{p(!g),x(!1),f(!1),z(!1),U(!1),K(!1),I(!1),A(!1),F(!1),L(null)},children:[(0,t.jsx)("h3",{children:"League Table"}),(0,t.jsx)("p",{children:"View and manage league standings"})]}),(0,t.jsxs)("div",{className:"dashboard-card",onClick:()=>{f(!j),x(!1),p(!1),z(!1),U(!1),K(!1),I(!1),A(!1),F(!1),L(null)},children:[(0,t.jsx)("h3",{children:"User Management"}),(0,t.jsx)("p",{children:"Manage coaches and admin accounts"})]}),(0,t.jsxs)("div",{className:"dashboard-card",onClick:()=>{I(!T),f(!1),x(!1),p(!1),z(!1),U(!1),K(!1),A(!1),F(!1),L(null);let e=JSON.parse(localStorage.getItem("currentUser"));q({fullName:e.fullName,email:e.email,adminImage:e.adminImage||e.coachImage})},children:[(0,t.jsx)("h3",{children:"My Profile"}),(0,t.jsx)("p",{children:"Edit your admin profile and image"})]}),(0,t.jsxs)("div",{className:"dashboard-card",onClick:()=>{A(!D),I(!1),f(!1),x(!1),p(!1),z(!1),U(!1),K(!1),L(null),F(!1)},children:[(0,t.jsx)("h3",{children:"News Management"}),(0,t.jsx)("p",{children:"Create and manage news articles"})]})]}),h&&!M&&!_&&(0,t.jsxs)("div",{className:"teams-display",children:[(0,t.jsxs)("div",{className:"teams-header",children:[(0,t.jsx)("h3",{children:"Registered Teams"}),(0,t.jsxs)("button",{className:"add-team-btn",onClick:()=>U(!0),children:[(0,t.jsx)(i.wEH,{})," Add Team"]})]}),(0,t.jsx)("div",{className:"teams-grid",children:v.map((e,a)=>(0,t.jsxs)("div",{className:"team-info-card",children:[(0,t.jsx)("div",{className:"team-logo-placeholder",onClick:()=>L(e),children:(0,t.jsx)("img",{src:e.teamLogo||"/u-13.png",alt:"Team Logo",className:"team-logo"})}),(0,t.jsx)("h4",{onClick:()=>L(e),children:e.teamName}),(0,t.jsxs)("p",{children:[(0,t.jsx)("strong",{children:"Coach:"})," ",e.teamCoach]}),(0,t.jsx)("div",{className:"team-actions",children:(0,t.jsxs)("button",{className:"disqualify-btn ".concat(e.disqualified?"reactivate":"disqualify"),onClick:()=>(function(e){let a=[...v],s=a[e].teamName,t=!a[e].disqualified;a[e].disqualified=t,localStorage.setItem("teams",JSON.stringify(a)),N(a);let l=[...B];l.forEach(e=>{(e.homeTeam===s||e.awayTeam===s)&&(t?void 0===e.homeScore&&void 0===e.awayScore&&(e.homeTeam===s?(e.homeScore=0,e.awayScore=3):(e.homeScore=3,e.awayScore=0),e.forfeit=!0,e.cancelReason="".concat(s," disqualified - 3-0 awarded to opponent")):e.forfeit&&(delete e.homeScore,delete e.awayScore,delete e.forfeit,delete e.cancelReason))}),localStorage.setItem("fixtures",JSON.stringify(l)),W(l),ec(l)})(a),children:[(0,t.jsx)(i.YS4,{})," ",e.disqualified?"Reactivate":"Disqualify"]})}),e.disqualified&&(0,t.jsx)("span",{className:"disqualified-badge",children:"Disqualified"})]},a))})]}),_&&(0,t.jsxs)("div",{className:"add-team-form",children:[(0,t.jsx)("h3",{children:"Add New Team"}),(0,t.jsxs)("form",{onSubmit:function(e){e.preventDefault();let a=JSON.parse(localStorage.getItem("teams")||"[]"),s={...X,players:[],disqualified:!1,createdAt:new Date().toISOString()};a.push(s),localStorage.setItem("teams",JSON.stringify(a));let t=JSON.parse(localStorage.getItem("users")||"[]");if(!t.find(e=>e.email===X.teamEmail)){let e={id:Date.now().toString(),fullName:X.teamCoach,email:X.teamEmail,password:null,role:"coach",teamName:X.teamName,suspended:!1,needsPasswordSetup:!0,createdAt:new Date().toISOString()};t.push(e),localStorage.setItem("users",JSON.stringify(t))}N(a),U(!1),H({teamName:"",teamCoach:"",teamEmail:"",coachNumber:""})},children:[(0,t.jsx)("input",{type:"text",placeholder:"Team Name",value:X.teamName,onChange:e=>H({...X,teamName:e.target.value}),required:!0}),(0,t.jsx)("input",{type:"text",placeholder:"Coach Name",value:X.teamCoach,onChange:e=>H({...X,teamCoach:e.target.value}),required:!0}),(0,t.jsx)("input",{type:"email",placeholder:"Coach Email",value:X.teamEmail,onChange:e=>H({...X,teamEmail:e.target.value}),required:!0}),(0,t.jsx)("input",{type:"tel",placeholder:"Coach Phone",value:X.coachNumber,onChange:e=>H({...X,coachNumber:e.target.value}),required:!0}),(0,t.jsxs)("div",{className:"form-actions",children:[(0,t.jsx)("button",{type:"submit",children:"Add Team"}),(0,t.jsx)("button",{type:"button",onClick:()=>{U(!1),H({teamName:"",teamCoach:"",teamEmail:"",coachNumber:""})},children:"Cancel"})]})]})]}),M&&(0,t.jsxs)("div",{className:"team-roster-display",children:[(0,t.jsxs)("div",{className:"roster-header",children:[(0,t.jsxs)("h3",{children:[M.teamName," Roster"]}),(0,t.jsx)("button",{onClick:()=>L(null),children:"Close"})]}),(0,t.jsxs)("div",{className:"team-info-section",children:[(0,t.jsx)("div",{className:"team-logo-placeholder",children:(0,t.jsx)("img",{src:M.teamLogo||"/u-13.png",alt:"Team Logo",className:"team-logo"})}),(0,t.jsxs)("div",{className:"team-details",children:[(0,t.jsxs)("p",{children:[(0,t.jsx)("strong",{children:"Team Name:"})," ",M.teamName]}),(0,t.jsxs)("p",{children:[(0,t.jsx)("strong",{children:"Coach:"})," ",M.teamCoach]}),(0,t.jsxs)("p",{children:[(0,t.jsx)("strong",{children:"Email:"})," ",M.teamEmail]}),(0,t.jsxs)("p",{children:[(0,t.jsx)("strong",{children:"Phone:"})," ",M.coachNumber]})]})]}),(0,t.jsx)("div",{className:"players-grid",children:(null===(e=M.players)||void 0===e?void 0:e.filter(e=>e.fullName.trim()).map((e,a)=>(0,t.jsxs)("div",{className:"player-info-card",children:[(0,t.jsx)("div",{className:"player-image-placeholder",children:e.playerImage?(0,t.jsx)("img",{src:e.playerImage,alt:"Player",className:"player-image"}):(0,t.jsx)(i.Xws,{})}),(0,t.jsxs)("p",{children:[(0,t.jsx)("strong",{children:"Name:"})," ",e.fullName]}),(0,t.jsxs)("p",{children:[(0,t.jsx)("strong",{children:"DOB:"})," ",e.dateOfBirth]}),(0,t.jsxs)("p",{children:[(0,t.jsx)("strong",{children:"Position:"})," ",e.position]}),(0,t.jsxs)("p",{children:[(0,t.jsx)("strong",{children:"Number:"})," ",e.playerNumber]}),(0,t.jsxs)("p",{children:[(0,t.jsx)("strong",{children:"Guardian:"})," ",e.guardianName]}),(0,t.jsxs)("p",{children:[(0,t.jsx)("strong",{children:"Guardian Phone:"})," ",e.guardianNumber]})]},a)))||(0,t.jsx)("p",{children:"No players registered yet."})})]}),V&&!Y&&null===$&&null===et&&(0,t.jsxs)("div",{className:"fixtures-display",children:[(0,t.jsxs)("div",{className:"fixtures-header",children:[(0,t.jsx)("h3",{children:"Fixtures Management"}),(0,t.jsxs)("div",{className:"fixtures-controls",children:[(0,t.jsxs)("div",{className:"round-selector",children:[(0,t.jsx)("label",{children:"Filter by Round:"}),(0,t.jsxs)("select",{value:er,onChange:e=>eo(e.target.value),className:"round-select",children:[(0,t.jsx)("option",{value:"all",children:"All Rounds"}),Object.keys(B.reduce((e,a)=>(e[a.round||"Manual"]=!0,e),{})).sort((e,a)=>"Manual"===e?1:"Manual"===a?-1:parseInt(e)-parseInt(a)).map(e=>(0,t.jsxs)("option",{value:e,children:["Round ",e]},e))]})]}),(0,t.jsxs)("div",{className:"fixtures-actions",children:[(0,t.jsx)("button",{className:"auto-generate-btn",onClick:function(){let e=v.filter(e=>!e.disqualified);if(20!==e.length){alert("Need exactly 20 active teams for fixture generation.");return}if(JSON.parse(localStorage.getItem("fixtures")||"[]").length>0){alert("Fixtures already generated! Use Reset All to regenerate.");return}try{let a=e.map(e=>({id:e.teamName,name:e.teamName,stadium:e.stadium||"".concat(e.teamName," Stadium")})),s=n(a),t=new Date;t.setDate(t.getDate()+7);let l=s.map((e,a)=>{let s=new Date(t);return s.setDate(s.getDate()+7*Math.floor(a/10)),{...e,homeTeam:e.homeTeam.name,awayTeam:e.awayTeam.name,date:s.toISOString().split("T")[0],time:"15:00"}});localStorage.setItem("fixtures",JSON.stringify(l)),W(l),alert("Generated complete 38-round fixture list!")}catch(e){alert("Error generating fixtures: "+e.message)}},children:B.length>0?"Fixtures Generated":"Generate All Fixtures"}),(0,t.jsx)("button",{className:"reset-fixtures-btn",onClick:function(){window.confirm("Are you sure you want to reset all fixtures? This action cannot be undone.")&&(localStorage.setItem("fixtures",JSON.stringify([])),W([]),alert("All fixtures have been reset!"))},children:"Reset All"}),(0,t.jsxs)("button",{className:"schedule-btn",onClick:()=>K(!0),children:[(0,t.jsx)(i.wEH,{})," Schedule Fixture"]})]})]})]}),(0,t.jsx)("div",{className:"fixtures-list",children:Object.entries(B.reduce((e,a,s)=>{let t=a.round||"Manual";return e[t]||(e[t]=[]),e[t].push({...a,index:s}),e},{})).filter(e=>{let[a]=e;return"all"===er||a===er}).sort((e,a)=>{let[s]=e,[t]=a;return"Manual"===s?1:"Manual"===t?-1:parseInt(s)-parseInt(t)}).map(e=>{let[a,s]=e;return(0,t.jsxs)("div",{className:"round-section",children:[(0,t.jsxs)("h4",{className:"round-title",children:["Round ",a]}),(0,t.jsx)("div",{className:"round-fixtures",children:s.map(e=>(0,t.jsxs)("div",{className:"fixture-card",children:[(0,t.jsxs)("div",{className:"fixture-teams",children:[(0,t.jsx)("span",{className:"home-team",children:e.homeTeam}),(0,t.jsx)("span",{className:"vs",children:"vs"}),(0,t.jsx)("span",{className:"away-team",children:e.awayTeam})]}),(0,t.jsxs)("div",{className:"fixture-details",children:[(0,t.jsxs)("p",{children:[(0,t.jsx)("strong",{children:"Date:"})," ",e.date]}),(0,t.jsxs)("p",{children:[(0,t.jsx)("strong",{children:"Time:"})," ",e.time]}),(0,t.jsxs)("p",{children:[(0,t.jsx)("strong",{children:"Venue:"})," ",e.venue]})]}),void 0!==e.homeScore?(0,t.jsxs)("div",{className:"fixture-result",children:[(0,t.jsxs)("span",{className:"result",children:[e.homeScore," - ",e.awayScore]}),(0,t.jsx)("span",{className:"status",children:e.forfeit?"Forfeit":"Final"}),e.forfeit&&(0,t.jsx)("div",{className:"cancel-reason",children:e.cancelReason})]}):(0,t.jsxs)("div",{className:"fixture-actions",children:[(0,t.jsx)("button",{className:"update-result-btn",onClick:()=>{el(e.index),en({homeScore:0,awayScore:0,homeGoals:[],awayGoals:[],homeCleanSheet:"",awayCleanSheet:""})},children:"Update Result"}),(0,t.jsx)("button",{className:"edit-fixture-btn",onClick:()=>(function(e){let a=B[e];ee(e),es({date:a.date,time:a.time,venue:a.venue})})(e.index),children:"Edit Fixture"})]})]},e.index))})]},a)})})]}),Y&&(0,t.jsxs)("div",{className:"schedule-form",children:[(0,t.jsx)("h3",{children:"Schedule New Fixture"}),(0,t.jsxs)("form",{onSubmit:function(e){e.preventDefault();let a=JSON.parse(localStorage.getItem("fixtures")||"[]");a.push(Q),localStorage.setItem("fixtures",JSON.stringify(a)),W(a),K(!1),Z({homeTeam:"",awayTeam:"",date:"",time:"",venue:""})},children:[(0,t.jsxs)("select",{value:Q.homeTeam,onChange:e=>Z({...Q,homeTeam:e.target.value}),required:!0,children:[(0,t.jsx)("option",{value:"",children:"Select Home Team"}),v.filter(e=>!e.disqualified).map((e,a)=>(0,t.jsx)("option",{value:e.teamName,children:e.teamName},a))]}),(0,t.jsxs)("select",{value:Q.awayTeam,onChange:e=>Z({...Q,awayTeam:e.target.value}),required:!0,children:[(0,t.jsx)("option",{value:"",children:"Select Away Team"}),v.filter(e=>!e.disqualified&&e.teamName!==Q.homeTeam).map((e,a)=>(0,t.jsx)("option",{value:e.teamName,children:e.teamName},a))]}),(0,t.jsx)("input",{type:"date",value:Q.date,onChange:e=>Z({...Q,date:e.target.value}),required:!0}),(0,t.jsx)("input",{type:"time",value:Q.time,onChange:e=>Z({...Q,time:e.target.value}),required:!0}),(0,t.jsx)("input",{type:"text",placeholder:"Venue",value:Q.venue,onChange:e=>Z({...Q,venue:e.target.value}),required:!0}),(0,t.jsxs)("div",{className:"form-actions",children:[(0,t.jsx)("button",{type:"submit",children:"Schedule Fixture"}),(0,t.jsx)("button",{type:"button",onClick:()=>{K(!1),Z({homeTeam:"",awayTeam:"",date:"",time:"",venue:""})},children:"Cancel"})]})]})]}),null!==$&&(0,t.jsxs)("div",{className:"schedule-form",children:[(0,t.jsx)("h3",{children:"Edit Fixture"}),(0,t.jsxs)("form",{onSubmit:function(e){e.preventDefault();let a=[...B];a[$]={...a[$],...ea},localStorage.setItem("fixtures",JSON.stringify(a)),W(a),ee(null),es({}),alert("Fixture updated successfully!")},children:[(0,t.jsx)("input",{type:"date",value:ea.date||"",onChange:e=>es({...ea,date:e.target.value}),required:!0}),(0,t.jsx)("input",{type:"time",value:ea.time||"",onChange:e=>es({...ea,time:e.target.value}),required:!0}),(0,t.jsx)("input",{type:"text",placeholder:"Venue",value:ea.venue||"",onChange:e=>es({...ea,venue:e.target.value}),required:!0}),(0,t.jsxs)("div",{className:"form-actions",children:[(0,t.jsx)("button",{type:"submit",children:"Save Changes"}),(0,t.jsx)("button",{type:"button",onClick:()=>ee(null),children:"Cancel"})]})]})]}),null!==et&&(0,t.jsxs)("div",{className:"result-form",children:[(0,t.jsx)("h3",{children:"Update Match Result"}),(0,t.jsx)("div",{className:"match-info",children:(0,t.jsxs)("span",{children:[null===(a=B[et])||void 0===a?void 0:a.homeTeam," vs ",null===(s=B[et])||void 0===s?void 0:s.awayTeam]})}),(0,t.jsxs)("form",{onSubmit:function(e){e.preventDefault();let a=[...B];a[et]={...a[et],homeScore:ei.homeScore,awayScore:ei.awayScore,homeGoals:ei.homeGoals.filter(e=>e.scorer),awayGoals:ei.awayGoals.filter(e=>e.scorer),homeCleanSheet:ei.homeCleanSheet,awayCleanSheet:ei.awayCleanSheet},function(e){let a=JSON.parse(localStorage.getItem("teams")||"[]"),s=!1,t=a.findIndex(a=>a.teamName===e.homeTeam);-1!==t&&a[t].players&&(a[t].players.forEach(a=>{var s,t;a.stats||(a.stats={goals:0,assists:0,cleanSheets:0});let l=(null===(s=e.homeGoals)||void 0===s?void 0:s.filter(e=>e.scorer===a.fullName).length)||0;a.stats.goals=(a.stats.goals||0)+l;let i=(null===(t=e.homeGoals)||void 0===t?void 0:t.filter(e=>e.assist===a.fullName).length)||0;a.stats.assists=(a.stats.assists||0)+i,e.homeCleanSheet===a.fullName&&(a.stats.cleanSheets=(a.stats.cleanSheets||0)+1)}),s=!0);let l=a.findIndex(a=>a.teamName===e.awayTeam);-1!==l&&a[l].players&&(a[l].players.forEach(a=>{var s,t;a.stats||(a.stats={goals:0,assists:0,cleanSheets:0});let l=(null===(s=e.awayGoals)||void 0===s?void 0:s.filter(e=>e.scorer===a.fullName).length)||0;a.stats.goals=(a.stats.goals||0)+l;let i=(null===(t=e.awayGoals)||void 0===t?void 0:t.filter(e=>e.assist===a.fullName).length)||0;a.stats.assists=(a.stats.assists||0)+i,e.awayCleanSheet===a.fullName&&(a.stats.cleanSheets=(a.stats.cleanSheets||0)+1)}),s=!0),s&&(localStorage.setItem("teams",JSON.stringify(a)),N(a))}(a[et]),localStorage.setItem("fixtures",JSON.stringify(a)),W(a),ec(a),el(null),en({homeScore:0,awayScore:0,homeGoals:[],awayGoals:[],homeCleanSheet:"",awayCleanSheet:""}),alert("Result updated successfully!")},children:[(0,t.jsxs)("div",{className:"scores-section",children:[(0,t.jsxs)("div",{className:"team-score",children:[(0,t.jsxs)("label",{children:[null===(r=B[et])||void 0===r?void 0:r.homeTeam," Score:"]}),(0,t.jsx)("input",{type:"number",min:"0",value:ei.homeScore,onChange:e=>en({...ei,homeScore:parseInt(e.target.value)||0}),required:!0})]}),(0,t.jsxs)("div",{className:"team-score",children:[(0,t.jsxs)("label",{children:[null===(o=B[et])||void 0===o?void 0:o.awayTeam," Score:"]}),(0,t.jsx)("input",{type:"number",min:"0",value:ei.awayScore,onChange:e=>en({...ei,awayScore:parseInt(e.target.value)||0}),required:!0})]})]}),(0,t.jsxs)("div",{className:"goals-section",children:[(0,t.jsxs)("h4",{children:[null===(c=B[et])||void 0===c?void 0:c.homeTeam," Goals"]}),Array.from({length:ei.homeScore},(e,a)=>{var s,l,i;return(0,t.jsxs)("div",{className:"goal-input",children:[(0,t.jsx)("input",{type:"text",placeholder:"Goal scorer",value:(null===(s=ei.homeGoals[a])||void 0===s?void 0:s.scorer)||"",onChange:e=>{let s=[...ei.homeGoals];s[a]={...s[a],scorer:e.target.value},en({...ei,homeGoals:s})}}),(0,t.jsx)("input",{type:"text",placeholder:"Assist (optional)",value:(null===(l=ei.homeGoals[a])||void 0===l?void 0:l.assist)||"",onChange:e=>{let s=[...ei.homeGoals];s[a]={...s[a],assist:e.target.value},en({...ei,homeGoals:s})}}),(0,t.jsx)("input",{type:"text",placeholder:"Time (e.g. 45')",value:(null===(i=ei.homeGoals[a])||void 0===i?void 0:i.time)||"",onChange:e=>{let s=[...ei.homeGoals];s[a]={...s[a],time:e.target.value},en({...ei,homeGoals:s})}})]},a)}),(0,t.jsxs)("h4",{children:[null===(d=B[et])||void 0===d?void 0:d.awayTeam," Goals"]}),Array.from({length:ei.awayScore},(e,a)=>{var s,l,i;return(0,t.jsxs)("div",{className:"goal-input",children:[(0,t.jsx)("input",{type:"text",placeholder:"Goal scorer",value:(null===(s=ei.awayGoals[a])||void 0===s?void 0:s.scorer)||"",onChange:e=>{let s=[...ei.awayGoals];s[a]={...s[a],scorer:e.target.value},en({...ei,awayGoals:s})}}),(0,t.jsx)("input",{type:"text",placeholder:"Assist (optional)",value:(null===(l=ei.awayGoals[a])||void 0===l?void 0:l.assist)||"",onChange:e=>{let s=[...ei.awayGoals];s[a]={...s[a],assist:e.target.value},en({...ei,awayGoals:s})}}),(0,t.jsx)("input",{type:"text",placeholder:"Time (e.g. 45')",value:(null===(i=ei.awayGoals[a])||void 0===i?void 0:i.time)||"",onChange:e=>{let s=[...ei.awayGoals];s[a]={...s[a],time:e.target.value},en({...ei,awayGoals:s})}})]},a)})]}),(0,t.jsxs)("div",{className:"cleansheet-section",children:[(0,t.jsx)("h4",{children:"Clean Sheets"}),(0,t.jsxs)("div",{className:"cleansheet-inputs",children:[(0,t.jsxs)("div",{className:"cleansheet-input",children:[(0,t.jsxs)("label",{children:[null===(m=B[et])||void 0===m?void 0:m.homeTeam," Goalkeeper:"]}),(0,t.jsx)("input",{type:"text",placeholder:"Goalkeeper name (if clean sheet)",value:ei.homeCleanSheet,onChange:e=>en({...ei,homeCleanSheet:e.target.value})})]}),(0,t.jsxs)("div",{className:"cleansheet-input",children:[(0,t.jsxs)("label",{children:[null===(u=B[et])||void 0===u?void 0:u.awayTeam," Goalkeeper:"]}),(0,t.jsx)("input",{type:"text",placeholder:"Goalkeeper name (if clean sheet)",value:ei.awayCleanSheet,onChange:e=>en({...ei,awayCleanSheet:e.target.value})})]})]})]}),(0,t.jsxs)("div",{className:"form-actions",children:[(0,t.jsx)("button",{type:"submit",children:"Save Result"}),(0,t.jsx)("button",{type:"button",onClick:()=>{el(null),en({homeScore:0,awayScore:0,homeGoals:[],awayGoals:[],homeCleanSheet:"",awayCleanSheet:""})},children:"Cancel"})]})]})]}),g&&(()=>{let e=JSON.parse(localStorage.getItem("teams")||"[]"),a=JSON.parse(localStorage.getItem("fixtures")||"[]"),s=a.filter(e=>void 0!==e.homeScore),l=a.length,i=s.reduce((e,a)=>e+a.homeScore+a.awayScore,0),n=s.length>0?(i/s.length).toFixed(2):0;return(0,t.jsxs)("div",{className:"league-details-container",children:[(0,t.jsxs)("div",{className:"league-overview",children:[(0,t.jsx)("h3",{children:"League Overview"}),(0,t.jsxs)("div",{className:"league-stats",children:[(0,t.jsxs)("div",{className:"stat-box",children:[(0,t.jsx)("span",{className:"stat-number",children:e.length}),(0,t.jsx)("span",{className:"stat-label",children:"Total Teams"})]}),(0,t.jsxs)("div",{className:"stat-box",children:[(0,t.jsx)("span",{className:"stat-number",children:e.filter(e=>!e.disqualified).length}),(0,t.jsx)("span",{className:"stat-label",children:"Active Teams"})]}),(0,t.jsxs)("div",{className:"stat-box",children:[(0,t.jsx)("span",{className:"stat-number",children:s.length}),(0,t.jsx)("span",{className:"stat-label",children:"Matches Played"})]}),(0,t.jsxs)("div",{className:"stat-box",children:[(0,t.jsx)("span",{className:"stat-number",children:l-s.length}),(0,t.jsx)("span",{className:"stat-label",children:"Matches Remaining"})]}),(0,t.jsxs)("div",{className:"stat-box",children:[(0,t.jsx)("span",{className:"stat-number",children:i}),(0,t.jsx)("span",{className:"stat-label",children:"Total Goals"})]}),(0,t.jsxs)("div",{className:"stat-box",children:[(0,t.jsx)("span",{className:"stat-number",children:n}),(0,t.jsx)("span",{className:"stat-label",children:"Goals/Match"})]})]})]}),(0,t.jsxs)("div",{className:"league-table-container",children:[(0,t.jsx)("h3",{children:"League Table"}),(0,t.jsxs)("table",{className:"league-table",children:[(0,t.jsx)("thead",{children:(0,t.jsxs)("tr",{children:[(0,t.jsx)("th",{children:"Pos"}),(0,t.jsx)("th",{children:"Team"}),(0,t.jsx)("th",{children:"P"}),(0,t.jsx)("th",{children:"W"}),(0,t.jsx)("th",{children:"D"}),(0,t.jsx)("th",{children:"L"}),(0,t.jsx)("th",{children:"GF"}),(0,t.jsx)("th",{children:"GA"}),(0,t.jsx)("th",{children:"GD"}),(0,t.jsx)("th",{children:"Pts"})]})}),(0,t.jsx)("tbody",{children:y.map(a=>{let s=e.find(e=>e.teamName===a.teamName);return(0,t.jsxs)("tr",{className:(null==s?void 0:s.disqualified)?"disqualified-row":"",children:[(0,t.jsx)("td",{children:a.position}),(0,t.jsxs)("td",{className:"team-cell",children:[(0,t.jsx)("img",{src:a.teamLogo||"/u-13.png",alt:"Team Logo",className:"table-team-logo"}),a.teamName,(null==s?void 0:s.disqualified)&&(0,t.jsx)("span",{className:"table-disqualified-badge",children:"Disqualified"})]}),(0,t.jsx)("td",{children:a.played}),(0,t.jsx)("td",{children:a.won}),(0,t.jsx)("td",{children:a.drawn}),(0,t.jsx)("td",{children:a.lost}),(0,t.jsx)("td",{children:a.goalsFor}),(0,t.jsx)("td",{children:a.goalsAgainst}),(0,t.jsx)("td",{children:a.goalDifference}),(0,t.jsx)("td",{children:(0,t.jsx)("strong",{children:a.points})})]},a.position)})})]})]})]})})(),j&&(0,t.jsxs)("div",{className:"user-management-display",children:[(0,t.jsxs)("div",{className:"user-management-header",children:[(0,t.jsx)("h3",{children:"User Management"}),(0,t.jsxs)("div",{className:"user-toggle",children:[(0,t.jsx)("button",{className:C?"active":"",onClick:()=>{O(!0),b(JSON.parse(localStorage.getItem("users")||"[]").filter(e=>"coach"===e.role))},children:"Coaches"}),(0,t.jsx)("button",{className:C?"":"active",onClick:()=>{O(!1),b(JSON.parse(localStorage.getItem("users")||"[]").filter(e=>"admin"===e.role))},children:"Admins"})]})]}),(0,t.jsx)("div",{className:"users-grid",children:w.map(e=>(0,t.jsxs)("div",{className:"user-info-card",children:[(0,t.jsxs)("div",{className:"user-header",children:[(0,t.jsx)("div",{className:"user-image-placeholder",children:e.coachImage||e.adminImage?(0,t.jsx)("img",{src:e.coachImage||e.adminImage,alt:"User",className:"user-image"}):(0,t.jsx)(i.Xws,{className:"user-icon"})}),(0,t.jsx)("div",{className:"user-status",children:(0,t.jsx)("span",{className:"status-badge ".concat(e.suspended?"suspended":"active"),children:e.suspended?"Suspended":"Active"})})]}),(0,t.jsxs)("div",{className:"user-details",children:[(0,t.jsxs)("p",{children:[(0,t.jsx)("strong",{children:"Name:"})," ",e.fullName]}),(0,t.jsxs)("p",{children:[(0,t.jsx)("strong",{children:"Email:"})," ",e.email]}),(0,t.jsxs)("p",{children:[(0,t.jsx)("strong",{children:"Role:"})," ",e.role]}),(0,t.jsxs)("p",{children:[(0,t.jsx)("strong",{children:"Joined:"})," ",new Date(e.createdAt).toLocaleDateString()]})]}),(0,t.jsx)("button",{className:"suspend-btn ".concat(e.suspended?"reactivate":"suspend"),onClick:()=>(function(e){let a=JSON.parse(localStorage.getItem("users")||"[]"),s=a.findIndex(a=>a.id===e);-1!==s&&(a[s].suspended=!a[s].suspended,localStorage.setItem("users",JSON.stringify(a)),C?b(a.filter(e=>"coach"===e.role)):b(a.filter(e=>"admin"===e.role)))})(e.id),children:e.suspended?"Reactivate Account":"Suspend Account"})]},e.id))})]}),T&&(0,t.jsxs)("div",{className:"edit-details-display",children:[(0,t.jsx)("h3",{children:"Admin Profile"}),(0,t.jsxs)("form",{onSubmit:function(e){e.preventDefault();let a=JSON.parse(localStorage.getItem("currentUser")),s=JSON.parse(localStorage.getItem("users")||"[]"),t=s.findIndex(e=>e.id===a.id);-1!==t&&(s[t]={...s[t],fullName:G.fullName,email:G.email,adminImage:G.adminImage},localStorage.setItem("users",JSON.stringify(s)),localStorage.setItem("currentUser",JSON.stringify(s[t])),I(!1),alert("Profile updated successfully!"))},children:[(0,t.jsxs)("div",{className:"edit-section",children:[(0,t.jsx)("h4",{children:"Profile Details"}),(0,t.jsxs)("div",{className:"image-section",children:[(0,t.jsx)("div",{className:"image-preview",children:G.adminImage?(0,t.jsx)("img",{src:G.adminImage,alt:"Admin",className:"preview-image"}):(0,t.jsx)(i.Xws,{className:"placeholder-icon"})}),(0,t.jsx)("input",{type:"file",accept:"image/*",onChange:e=>(function(e){let a=e.target.files[0];if(a){let e=new FileReader;e.onload=e=>{q({...G,adminImage:e.target.result})},e.readAsDataURL(a)}})(e),id:"admin-image"}),(0,t.jsx)("label",{htmlFor:"admin-image",className:"image-upload-label",children:"Upload Profile Photo"})]}),(0,t.jsx)("input",{type:"text",placeholder:"Full Name",value:G.fullName||"",onChange:e=>q({...G,fullName:e.target.value}),required:!0}),(0,t.jsx)("input",{type:"email",placeholder:"Email",value:G.email||"",onChange:e=>q({...G,email:e.target.value}),required:!0})]}),(0,t.jsxs)("div",{className:"form-actions",children:[(0,t.jsx)("button",{type:"submit",children:"Save Changes"}),(0,t.jsx)("button",{type:"button",onClick:()=>I(!1),children:"Cancel"})]})]})]}),D&&!P&&(0,t.jsxs)("div",{className:"news-management-display",children:[(0,t.jsxs)("div",{className:"news-management-header",children:[(0,t.jsx)("h3",{children:"News Management"}),(0,t.jsxs)("button",{className:"add-news-btn",onClick:()=>F(!0),children:[(0,t.jsx)(i.wEH,{})," Add News Article"]})]}),(0,t.jsx)("div",{className:"news-articles-grid",children:E.map((e,a)=>(0,t.jsxs)("div",{className:"news-article-card",children:[(0,t.jsx)("div",{className:"news-article-image",children:(0,t.jsx)("img",{src:e.image,alt:e.title})}),(0,t.jsxs)("div",{className:"news-article-content",children:[(0,t.jsx)("div",{className:"news-article-date",children:e.date}),(0,t.jsx)("h4",{children:e.title}),(0,t.jsxs)("p",{children:[e.content.substring(0,100),"..."]}),(0,t.jsx)("button",{className:"delete-news-btn",onClick:()=>(function(e){if(window.confirm("Are you sure you want to delete this article?")){let a=E.filter((a,s)=>s!==e);localStorage.setItem("newsStories",JSON.stringify(a)),k(a)}})(a),children:"Delete"})]})]},a))})]}),P&&(0,t.jsxs)("div",{className:"add-news-form",children:[(0,t.jsx)("h3",{children:"Add News Article"}),(0,t.jsxs)("form",{onSubmit:function(e){if(e.preventDefault(),E.length>=5){alert("Maximum of 5 news articles allowed. Please delete old articles first.");return}let a=[...E,{...J,id:Date.now().toString(),date:new Date().toLocaleDateString(),story:J.title.toLowerCase().replace(/\s+/g,"-")}];try{localStorage.setItem("newsStories",JSON.stringify(a)),k(a),F(!1),R({title:"",content:"",image:""}),alert("News article published successfully!")}catch(e){alert("Storage quota exceeded. Please delete some articles first.")}},children:[(0,t.jsx)("input",{type:"text",placeholder:"Article Title",value:J.title,onChange:e=>R({...J,title:e.target.value}),required:!0}),(0,t.jsx)("input",{type:"file",accept:"image/*",onChange:function(e){let a=e.target.files[0];if(a){let e=new FileReader;e.onload=e=>{R({...J,image:e.target.result})},e.readAsDataURL(a)}},required:!0}),(0,t.jsx)("textarea",{placeholder:"Article Content",value:J.content,onChange:e=>R({...J,content:e.target.value}),rows:"10",required:!0}),(0,t.jsxs)("div",{className:"form-actions",children:[(0,t.jsx)("button",{type:"submit",children:"Publish Article"}),(0,t.jsx)("button",{type:"button",onClick:()=>{F(!1),R({title:"",content:"",image:""})},children:"Cancel"})]})]})]})]});function ec(e){let a={};v.forEach(e=>{a[e.teamName]={played:0,won:0,drawn:0,lost:0,goalsFor:0,goalsAgainst:0,points:0}}),e.forEach(e=>{if(void 0!==e.homeScore&&void 0!==e.awayScore&&!e.cancelled){let s=e.homeTeam,t=e.awayTeam,l=e.homeScore,i=e.awayScore;a[s]&&a[t]&&(a[s].played++,a[t].played++,a[s].goalsFor+=l,a[s].goalsAgainst+=i,a[t].goalsFor+=i,a[t].goalsAgainst+=l,l>i?(a[s].won++,a[s].points+=3,a[t].lost++):l<i?(a[t].won++,a[t].points+=3,a[s].lost++):(a[s].drawn++,a[t].drawn++,a[s].points+=1,a[t].points+=1))}}),S(Object.entries(a).map(e=>{let[a,s]=e,t=v.find(e=>e.teamName===a);return{teamName:a,teamLogo:null==t?void 0:t.teamLogo,...s,goalDifference:s.goalsFor-s.goalsAgainst}}).sort((e,a)=>{let s=v.find(a=>a.teamName===e.teamName),t=v.find(e=>e.teamName===a.teamName);return(null==s?void 0:s.disqualified)&&!(null==t?void 0:t.disqualified)?1:!(null==s?void 0:s.disqualified)&&(null==t?void 0:t.disqualified)?-1:e.points!==a.points?a.points-e.points:e.goalDifference!==a.goalDifference?a.goalDifference-e.goalDifference:a.goalsFor-e.goalsFor}).map((e,a)=>({...e,position:a+1})))}}},5054:function(e,a,s){"use strict";s.d(a,{w_:function(){return d}});var t=s(7294),l={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},i=t.createContext&&t.createContext(l),n=["attr","size","title"];function r(){return(r=Object.assign?Object.assign.bind():function(e){for(var a=1;a<arguments.length;a++){var s=arguments[a];for(var t in s)Object.prototype.hasOwnProperty.call(s,t)&&(e[t]=s[t])}return e}).apply(this,arguments)}function o(e,a){var s=Object.keys(e);if(Object.getOwnPropertySymbols){var t=Object.getOwnPropertySymbols(e);a&&(t=t.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),s.push.apply(s,t)}return s}function c(e){for(var a=1;a<arguments.length;a++){var s=null!=arguments[a]?arguments[a]:{};a%2?o(Object(s),!0).forEach(function(a){var t,l;t=a,l=s[a],(t=function(e){var a=function(e,a){if("object"!=typeof e||!e)return e;var s=e[Symbol.toPrimitive];if(void 0!==s){var t=s.call(e,a||"default");if("object"!=typeof t)return t;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===a?String:Number)(e)}(e,"string");return"symbol"==typeof a?a:a+""}(t))in e?Object.defineProperty(e,t,{value:l,enumerable:!0,configurable:!0,writable:!0}):e[t]=l}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(s)):o(Object(s)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(s,a))})}return e}function d(e){return a=>t.createElement(m,r({attr:c({},e.attr)},a),function e(a){return a&&a.map((a,s)=>t.createElement(a.tag,c({key:s},a.attr),e(a.child)))}(e.child))}function m(e){var a=a=>{var s,{attr:l,size:i,title:o}=e,d=function(e,a){if(null==e)return{};var s,t,l=function(e,a){if(null==e)return{};var s={};for(var t in e)if(Object.prototype.hasOwnProperty.call(e,t)){if(a.indexOf(t)>=0)continue;s[t]=e[t]}return s}(e,a);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(t=0;t<i.length;t++)s=i[t],!(a.indexOf(s)>=0)&&Object.prototype.propertyIsEnumerable.call(e,s)&&(l[s]=e[s])}return l}(e,n),m=i||a.size||"1em";return a.className&&(s=a.className),e.className&&(s=(s?s+" ":"")+e.className),t.createElement("svg",r({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},a.attr,l,d,{className:s,style:c(c({color:e.color||a.color},a.style),e.style),height:m,width:m,xmlns:"http://www.w3.org/2000/svg"}),o&&t.createElement("title",null,o),e.children)};return void 0!==i?t.createElement(i.Consumer,null,e=>a(e)):a(l)}}},function(e){e.O(0,[774,365,888,179],function(){return e(e.s=7334)}),_N_E=e.O()}]);