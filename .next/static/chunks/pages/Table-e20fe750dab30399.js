(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[591],{9613:function(e,s,a){(window.__NEXT_P=window.__NEXT_P||[]).push(["/Table",function(){return a(3891)}])},3891:function(e,s,a){"use strict";a.r(s);var l=a(5893),t=a(7294);s.default=function(){let[e,s]=(0,t.useState)([]),[a,i]=(0,t.useState)([]),[n,r]=(0,t.useState)([]),[o,c]=(0,t.useState)([]);return(0,t.useEffect)(()=>{let e=()=>{let e=JSON.parse(localStorage.getItem("teams")||"[]"),a=JSON.parse(localStorage.getItem("fixtures")||"[]"),l={};e.forEach(e=>{l[e.teamName]={teamName:e.teamName,teamLogo:e.teamLogo,played:0,won:0,drawn:0,lost:0,goalsFor:0,goalsAgainst:0,points:0}}),a.forEach(e=>{if(void 0!==e.homeScore&&void 0!==e.awayScore&&!e.cancelled){let s=e.homeTeam,a=e.awayTeam,t=e.homeScore,i=e.awayScore;l[s]&&l[a]&&(l[s].played++,l[a].played++,l[s].goalsFor+=t,l[s].goalsAgainst+=i,l[a].goalsFor+=i,l[a].goalsAgainst+=t,t>i?(l[s].won++,l[s].points+=3,l[a].lost++):t<i?(l[a].won++,l[a].points+=3,l[s].lost++):(l[s].drawn++,l[a].drawn++,l[s].points+=1,l[a].points+=1))}}),s(Object.values(l).map(e=>({...e,goalDifference:e.goalsFor-e.goalsAgainst})).sort((s,a)=>{let l=e.find(e=>e.teamName===s.teamName),t=e.find(e=>e.teamName===a.teamName);return(null==l?void 0:l.disqualified)&&!(null==t?void 0:t.disqualified)?1:!(null==l?void 0:l.disqualified)&&(null==t?void 0:t.disqualified)?-1:s.points!==a.points?a.points-s.points:s.goalDifference!==a.goalDifference?a.goalDifference-s.goalDifference:a.goalsFor-s.goalsFor}).map((e,s)=>({...e,position:s+1})));let t={};a.forEach(e=>{e.homeGoals&&e.homeGoals.forEach(e=>{e.scorer&&(t[e.scorer]=(t[e.scorer]||0)+1)}),e.awayGoals&&e.awayGoals.forEach(e=>{e.scorer&&(t[e.scorer]=(t[e.scorer]||0)+1)})}),i(Object.entries(t).sort((e,s)=>{let[,a]=e,[,l]=s;return l-a}).slice(0,5).map(e=>{let[s,a]=e;return{name:s,goals:a}}));let n={};a.forEach(e=>{e.homeGoals&&e.homeGoals.forEach(e=>{e.assist&&(n[e.assist]=(n[e.assist]||0)+1)}),e.awayGoals&&e.awayGoals.forEach(e=>{e.assist&&(n[e.assist]=(n[e.assist]||0)+1)})}),r(Object.entries(n).sort((e,s)=>{let[,a]=e,[,l]=s;return l-a}).slice(0,5).map(e=>{let[s,a]=e;return{name:s,assists:a}}));let o={};a.forEach(e=>{e.homeCleanSheet&&(o[e.homeCleanSheet]=(o[e.homeCleanSheet]||0)+1),e.awayCleanSheet&&(o[e.awayCleanSheet]=(o[e.awayCleanSheet]||0)+1)}),c(Object.entries(o).sort((e,s)=>{let[,a]=e,[,l]=s;return l-a}).slice(0,5).map(e=>{let[s,a]=e;return{name:s,cleanSheets:a}}))};e();let a=()=>e();return window.addEventListener("storage",a),()=>window.removeEventListener("storage",a)},[]),(0,l.jsxs)("section",{className:"section",children:[(0,l.jsx)("h2",{children:"VenSport U-13 League Table"}),(0,l.jsxs)("div",{className:"table-layout",children:[(0,l.jsx)("div",{className:"league-table-container",children:(0,l.jsxs)("table",{className:"league-table",children:[(0,l.jsx)("thead",{children:(0,l.jsxs)("tr",{children:[(0,l.jsx)("th",{children:"Pos"}),(0,l.jsx)("th",{children:"Team"}),(0,l.jsx)("th",{children:"P"}),(0,l.jsx)("th",{children:"W"}),(0,l.jsx)("th",{children:"D"}),(0,l.jsx)("th",{children:"L"}),(0,l.jsx)("th",{children:"GF"}),(0,l.jsx)("th",{children:"GA"}),(0,l.jsx)("th",{children:"GD"}),(0,l.jsx)("th",{children:"Pts"})]})}),(0,l.jsx)("tbody",{children:e.map(e=>{let s=JSON.parse(localStorage.getItem("teams")||"[]").find(s=>s.teamName===e.teamName);return(0,l.jsxs)("tr",{className:(null==s?void 0:s.disqualified)?"disqualified-row":"",children:[(0,l.jsx)("td",{children:e.position}),(0,l.jsxs)("td",{className:"team-cell",children:[(0,l.jsx)("img",{src:e.teamLogo||"/u-13.png",alt:"Team Logo",className:"table-team-logo"}),e.teamName,(null==s?void 0:s.disqualified)&&(0,l.jsx)("span",{className:"table-disqualified-badge",children:"Disqualified"})]}),(0,l.jsx)("td",{children:e.played}),(0,l.jsx)("td",{children:e.won}),(0,l.jsx)("td",{children:e.drawn}),(0,l.jsx)("td",{children:e.lost}),(0,l.jsx)("td",{children:e.goalsFor}),(0,l.jsx)("td",{children:e.goalsAgainst}),(0,l.jsx)("td",{children:e.goalDifference}),(0,l.jsx)("td",{children:(0,l.jsx)("strong",{children:e.points})})]},e.position)})})]})}),(0,l.jsxs)("div",{className:"stats-sidebar",children:[(0,l.jsxs)("div",{className:"stat-section",children:[(0,l.jsx)("h3",{children:"Top Scorers"}),a.length>0?a.map((e,s)=>(0,l.jsxs)("div",{className:"scorer-item",children:[(0,l.jsx)("span",{className:"scorer-name",children:e.name}),(0,l.jsxs)("span",{className:"scorer-goals",children:[e.goals," goals"]})]},s)):(0,l.jsxs)("div",{className:"stat-item",children:[(0,l.jsx)("span",{className:"player-name",children:"No data available"}),(0,l.jsx)("span",{className:"stat-value",children:"0 goals"})]})]}),(0,l.jsxs)("div",{className:"stat-section",children:[(0,l.jsx)("h3",{children:"Top Assists"}),n.length>0?n.map((e,s)=>(0,l.jsxs)("div",{className:"scorer-item",children:[(0,l.jsx)("span",{className:"scorer-name",children:e.name}),(0,l.jsxs)("span",{className:"scorer-goals",children:[e.assists," assists"]})]},s)):(0,l.jsxs)("div",{className:"stat-item",children:[(0,l.jsx)("span",{className:"player-name",children:"No data available"}),(0,l.jsx)("span",{className:"stat-value",children:"0 assists"})]})]}),(0,l.jsxs)("div",{className:"stat-section",children:[(0,l.jsx)("h3",{children:"Clean Sheets"}),o.length>0?o.map((e,s)=>(0,l.jsxs)("div",{className:"scorer-item",children:[(0,l.jsx)("span",{className:"scorer-name",children:e.name}),(0,l.jsxs)("span",{className:"scorer-goals",children:[e.cleanSheets," clean sheets"]})]},s)):(0,l.jsxs)("div",{className:"stat-item",children:[(0,l.jsx)("span",{className:"player-name",children:"No data available"}),(0,l.jsx)("span",{className:"stat-value",children:"0 clean sheets"})]})]})]})]})]})}}},function(e){e.O(0,[774,888,179],function(){return e(e.s=9613)}),_N_E=e.O()}]);