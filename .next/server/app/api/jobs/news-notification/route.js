"use strict";(()=>{var e={};e.id=580,e.ids=[580],e.modules={517:e=>{e.exports=require("next/dist/compiled/next-server/app-route.runtime.prod.js")},6113:e=>{e.exports=require("crypto")},2254:e=>{e.exports=require("node:buffer")},6005:e=>{e.exports=require("node:crypto")},7261:e=>{e.exports=require("node:util")},9825:(e,t,s)=>{s.r(t),s.d(t,{headerHooks:()=>v,originalPathname:()=>S,patchFetch:()=>h,requestAsyncStorage:()=>g,routeModule:()=>l,serverHooks:()=>f,staticGenerationAsyncStorage:()=>w,staticGenerationBailout:()=>y});var r={};s.r(r),s.d(r,{POST:()=>d});var a=s(5419),n=s(9108),i=s(9678),o=s(8070),u=s(7767),c=s(2982);async function p(e){let{newsId:t}=await e.json();try{let e=(await c.K.getNews()).find(e=>e.story===t);return e&&console.log(`News notification: ${e.title}`),o.Z.json({success:!0})}catch(e){return o.Z.json({error:"Failed to process notification"},{status:500})}}let d=(0,u.Vs)(p),l=new a.AppRouteRouteModule({definition:{kind:n.x.APP_ROUTE,page:"/api/jobs/news-notification/route",pathname:"/api/jobs/news-notification",filename:"route",bundlePath:"app/api/jobs/news-notification/route"},resolvedPagePath:"/Users/Adha/Documents/Some Work/Sport website/my-react-app/app/api/jobs/news-notification/route.ts",nextConfigOutput:"export",userland:r}),{requestAsyncStorage:g,staticGenerationAsyncStorage:w,serverHooks:f,headerHooks:v,staticGenerationBailout:y}=l,S="/api/jobs/news-notification/route";function h(){return(0,i.patchFetch)({serverHooks:f,staticGenerationAsyncStorage:w})}},2982:(e,t,s)=>{s.d(t,{K:()=>a});var r=s(4409);class a{static async getTeams(){return await r.kv.get("teams")||[]}static async setTeams(e){await r.kv.set("teams",e)}static async getFixtures(){return await r.kv.get("fixtures")||[]}static async setFixtures(e){await r.kv.set("fixtures",e)}static async getNews(){return await r.kv.get("newsStories")||[]}static async setNews(e){await r.kv.set("newsStories",e)}static async getUsers(){return await r.kv.get("users")||[]}static async setUsers(e){await r.kv.set("users",e)}static async getDefaultRound(){return await r.kv.get("defaultRound")||"1"}static async setDefaultRound(e){await r.kv.set("defaultRound",e)}}},7767:(e,t,s)=>{s.d(t,{Vs:()=>a});var r=s(4424);function a(e,t){let s=t?.currentSigningKey??process.env.QSTASH_CURRENT_SIGNING_KEY;if(!s)throw Error("currentSigningKey is required, either in the config or as env variable QSTASH_CURRENT_SIGNING_KEY");let a=t?.nextSigningKey??process.env.QSTASH_NEXT_SIGNING_KEY;if(!a)throw Error("nextSigningKey is required, either in the config or as env variable QSTASH_NEXT_SIGNING_KEY");let n=new r.nk({currentSigningKey:s,nextSigningKey:a});return async(s,r)=>{let a=s.clone(),i=s.headers.get("upstash-signature");if(!i)return new Response(new TextEncoder().encode("`Upstash-Signature` header is missing"),{status:403});if("string"!=typeof i)throw TypeError("`Upstash-Signature` header is not a string");let o=await a.text();return await n.verify({signature:i,body:o,clockTolerance:t?.clockTolerance})?e(s,r):new Response(new TextEncoder().encode("invalid signature"),{status:403})}}}};var t=require("../../../../webpack-runtime.js");t.C(e);var s=e=>t(t.s=e),r=t.X(0,[638,936],()=>s(9825));module.exports=r})();